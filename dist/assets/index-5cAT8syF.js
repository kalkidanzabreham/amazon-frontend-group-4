function BN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function av(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fb={exports:{}},gp={},pb={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),$N=Symbol.for("react.portal"),zN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),KN=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),nI=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=nI&&t[nI]||t["@@iterator"],typeof t=="function"?t:null)}var mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gb=Object.assign,yb={};function cl(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||mb}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _b(){}_b.prototype=cl.prototype;function lv(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||mb}var uv=lv.prototype=new _b;uv.constructor=lv;gb(uv,cl.prototype);uv.isPureReactComponent=!0;var rI=Array.isArray,vb=Object.prototype.hasOwnProperty,cv={current:null},wb={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vb.call(e,r)&&!wb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qc,type:t,key:s,ref:o,props:i,_owner:cv.current}}function ZN(t,e){return{$$typeof:qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dv(t){return typeof t=="object"&&t!==null&&t.$$typeof===qc}function eD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iI=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eD(""+t.key):e.toString(36)}function Ah(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qc:case $N:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ag(o,0):r,rI(i)?(n="",t!=null&&(n=t.replace(iI,"$&/")+"/"),Ah(i,e,n,"",function(u){return u})):i!=null&&(dv(i)&&(i=ZN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ag(s,a);o+=Ah(s,e,n,l,i)}else if(l=XN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ag(s,a++),o+=Ah(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(t,e,n){if(t==null)return t;var r=[],i=0;return Ah(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Ph={transition:null},nD={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:cv};function Ib(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Hd,forEach:function(t,e,n){Hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hd(t,function(){e++}),e},toArray:function(t){return Hd(t,function(e){return e})||[]},only:function(t){if(!dv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=cl;he.Fragment=zN;he.Profiler=qN;he.PureComponent=lv;he.StrictMode=WN;he.Suspense=QN;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nD;he.act=Ib;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vb.call(e,l)&&!wb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qc,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:KN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};he.createElement=Eb;he.createFactory=function(t){var e=Eb.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:GN,render:t}};he.isValidElement=dv;he.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:tD}};he.memo=function(t,e){return{$$typeof:JN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ph.transition;Ph.transition={};try{t()}finally{Ph.transition=e}};he.unstable_act=Ib;he.useCallback=function(t,e){return dn.current.useCallback(t,e)};he.useContext=function(t){return dn.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};he.useEffect=function(t,e){return dn.current.useEffect(t,e)};he.useId=function(){return dn.current.useId()};he.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return dn.current.useMemo(t,e)};he.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};he.useRef=function(t){return dn.current.useRef(t)};he.useState=function(t){return dn.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return dn.current.useTransition()};he.version="18.3.1";pb.exports=he;var V=pb.exports;const me=av(V),ly=BN({__proto__:null,default:me},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD=V,iD=Symbol.for("react.element"),sD=Symbol.for("react.fragment"),oD=Object.prototype.hasOwnProperty,aD=rD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lD={key:!0,ref:!0,__self:!0,__source:!0};function Tb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oD.call(e,r)&&!lD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iD,type:t,key:s,ref:o,props:i,_owner:aD.current}}gp.Fragment=sD;gp.jsx=Tb;gp.jsxs=Tb;fb.exports=gp;var O=fb.exports,Sb={exports:{}},Un={},bb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var ne=K.length;K.push(te);e:for(;0<ne;){var ce=ne-1>>>1,Te=K[ce];if(0<i(Te,te))K[ce]=te,K[ne]=Te,ne=ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],ne=K.pop();if(ne!==te){K[0]=ne;e:for(var ce=0,Te=K.length,We=Te>>>1;ce<We;){var Bn=2*(ce+1)-1,er=K[Bn],tr=Bn+1,nr=K[tr];if(0>i(er,ne))tr<Te&&0>i(nr,er)?(K[ce]=nr,K[tr]=ne,ce=tr):(K[ce]=er,K[Bn]=ne,ce=Bn);else if(tr<Te&&0>i(nr,ne))K[ce]=nr,K[tr]=ne,ce=tr;else break e}}return te}function i(K,te){var ne=K.sortIndex-te.sortIndex;return ne!==0?ne:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=K)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function k(K){if(w=!1,I(K),!_)if(n(l)!==null)_=!0,wt(x);else{var te=n(u);te!==null&&Ie(k,te.startTime-K)}}function x(K,te){_=!1,w&&(w=!1,E(S),S=-1),m=!0;var ne=f;try{for(I(te),h=n(l);h!==null&&(!(h.expirationTime>te)||K&&!P());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var Te=ce(h.expirationTime<=te);te=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(l)&&r(l),I(te)}else r(l);h=n(l)}if(h!==null)var We=!0;else{var Bn=n(u);Bn!==null&&Ie(k,Bn.startTime-te),We=!1}return We}finally{h=null,f=ne,m=!1}}var D=!1,b=null,S=-1,A=5,g=-1;function P(){return!(t.unstable_now()-g<A)}function N(){if(b!==null){var K=t.unstable_now();g=K;var te=!0;try{te=b(!0,K)}finally{te?C():(D=!1,b=null)}}else D=!1}var C;if(typeof v=="function")C=function(){v(N)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,le=ie.port2;ie.port1.onmessage=N,C=function(){le.postMessage(null)}}else C=function(){T(N,0)};function wt(K){b=K,D||(D=!0,C())}function Ie(K,te){S=T(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,wt(x))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var ne=f;f=te;try{return K()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=f;f=K;try{return te()}finally{f=ne}},t.unstable_scheduleCallback=function(K,te,ne){var ce=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,K){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,K={id:d++,callback:te,priorityLevel:K,startTime:ne,expirationTime:Te,sortIndex:-1},ne>ce?(K.sortIndex=ne,e(u,K),n(l)===null&&K===n(u)&&(w?(E(S),S=-1):w=!0,Ie(k,ne-ce))):(K.sortIndex=Te,e(l,K),_||m||(_=!0,wt(x))),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var te=f;return function(){var ne=f;f=te;try{return K.apply(this,arguments)}finally{f=ne}}}})(Rb);bb.exports=Rb;var uD=bb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=V,Mn=uD;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,nc={};function Oo(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(nc[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uy=Object.prototype.hasOwnProperty,dD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sI={},oI={};function hD(t){return uy.call(oI,t)?!0:uy.call(sI,t)?!1:dD.test(t)?oI[t]=!0:(sI[t]=!0,!1)}function fD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pD(t,e,n,r){if(e===null||typeof e>"u"||fD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hv=/[\-:]([a-z])/g;function fv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hv,fv);Ft[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hv,fv);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hv,fv);Ft[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pv(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pD(e,n,i,r)&&(n=null),r||i===null?hD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kd=Symbol.for("react.element"),aa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),gv=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),yv=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),kb=Symbol.for("react.offscreen"),aI=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=aI&&t[aI]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,lg;function _u(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var ug=!1;function cg(t,e){if(!t||ug)return"";ug=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ug=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_u(t):""}function mD(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function fy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case la:return"Fragment";case aa:return"Portal";case cy:return"Profiler";case mv:return"StrictMode";case dy:return"Suspense";case hy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cb:return(t.displayName||"Context")+".Consumer";case Pb:return(t._context.displayName||"Context")+".Provider";case gv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yv:return e=t.displayName||null,e!==null?e:fy(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return fy(t(e))}catch{}}return null}function gD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(e);case 8:return e===mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yD(t){var e=xb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gd(t){t._valueTracker||(t._valueTracker=yD(t))}function Ob(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function py(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nb(t,e){e=e.checked,e!=null&&pv(t,"checked",e,!1)}function my(t,e){Nb(t,e);var n=cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gy(t,e.type,n):e.hasOwnProperty("defaultValue")&&gy(t,e.type,cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gy(t,e,n){(e!=="number"||uf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vu=Array.isArray;function Ea(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(vu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cs(n)}}function Db(t,e){var n=cs(e.value),r=cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _y(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qd,Lb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qd=Qd||document.createElement("div"),Qd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_D=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){_D.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function Mb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function Fb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vD=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(t,e){if(e){if(vD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ey=null;function _v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iy=null,Ia=null,Ta=null;function hI(t){if(t=Gc(t)){if(typeof Iy!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Ep(e),Iy(t.stateNode,t.type,e))}}function Ub(t){Ia?Ta?Ta.push(t):Ta=[t]:Ia=t}function jb(){if(Ia){var t=Ia,e=Ta;if(Ta=Ia=null,hI(t),e)for(t=0;t<e.length;t++)hI(e[t])}}function Bb(t,e){return t(e)}function $b(){}var dg=!1;function zb(t,e,n){if(dg)return t(e,n);dg=!0;try{return Bb(t,e,n)}finally{dg=!1,(Ia!==null||Ta!==null)&&($b(),jb())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=Ep(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Ty=!1;if(fi)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Ty=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Ty=!1}function wD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Nu=!1,cf=null,df=!1,Sy=null,ED={onError:function(t){Nu=!0,cf=t}};function ID(t,e,n,r,i,s,o,a,l){Nu=!1,cf=null,wD.apply(ED,arguments)}function TD(t,e,n,r,i,s,o,a,l){if(ID.apply(this,arguments),Nu){if(Nu){var u=cf;Nu=!1,cf=null}else throw Error(q(198));df||(df=!0,Sy=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fI(t){if(No(t)!==t)throw Error(q(188))}function SD(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fI(i),t;if(s===r)return fI(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function qb(t){return t=SD(t),t!==null?Hb(t):null}function Hb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hb(t);if(e!==null)return e;t=t.sibling}return null}var Kb=Mn.unstable_scheduleCallback,pI=Mn.unstable_cancelCallback,bD=Mn.unstable_shouldYield,RD=Mn.unstable_requestPaint,lt=Mn.unstable_now,AD=Mn.unstable_getCurrentPriorityLevel,vv=Mn.unstable_ImmediatePriority,Gb=Mn.unstable_UserBlockingPriority,hf=Mn.unstable_NormalPriority,PD=Mn.unstable_LowPriority,Qb=Mn.unstable_IdlePriority,yp=null,Lr=null;function CD(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(yp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:OD,kD=Math.log,xD=Math.LN2;function OD(t){return t>>>=0,t===0?32:31-(kD(t)/xD|0)|0}var Jd=64,Yd=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wu(a):(s&=o,s!==0&&(r=wu(s)))}else o=n&~i,o!==0?r=wu(o):s!==0&&(r=wu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function ND(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ND(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function by(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jb(){var t=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function VD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Yb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xb,Ev,Zb,eR,tR,Ry=!1,Xd=[],Zi=null,es=null,ts=null,sc=new Map,oc=new Map,qi=[],LD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mI(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function Ql(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gc(e),e!==null&&Ev(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MD(t,e,n,r,i){switch(e){case"focusin":return Zi=Ql(Zi,t,e,n,r,i),!0;case"dragenter":return es=Ql(es,t,e,n,r,i),!0;case"mouseover":return ts=Ql(ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sc.set(s,Ql(sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oc.set(s,Ql(oc.get(s)||null,t,e,n,r,i)),!0}return!1}function nR(t){var e=to(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=Wb(n),e!==null){t.blockedOn=e,tR(t.priority,function(){Zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ch(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ey=r,n.target.dispatchEvent(r),Ey=null}else return e=Gc(n),e!==null&&Ev(e),t.blockedOn=n,!1;e.shift()}return!0}function gI(t,e,n){Ch(t)&&n.delete(e)}function FD(){Ry=!1,Zi!==null&&Ch(Zi)&&(Zi=null),es!==null&&Ch(es)&&(es=null),ts!==null&&Ch(ts)&&(ts=null),sc.forEach(gI),oc.forEach(gI)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ry||(Ry=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,FD)))}function ac(t){function e(i){return Jl(i,t)}if(0<Xd.length){Jl(Xd[0],t);for(var n=1;n<Xd.length;n++){var r=Xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&Jl(Zi,t),es!==null&&Jl(es,t),ts!==null&&Jl(ts,t),sc.forEach(e),oc.forEach(e),n=0;n<qi.length;n++)r=qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)nR(n),n.blockedOn===null&&qi.shift()}var Sa=Ti.ReactCurrentBatchConfig,pf=!0;function UD(t,e,n,r){var i=Re,s=Sa.transition;Sa.transition=null;try{Re=1,Iv(t,e,n,r)}finally{Re=i,Sa.transition=s}}function jD(t,e,n,r){var i=Re,s=Sa.transition;Sa.transition=null;try{Re=4,Iv(t,e,n,r)}finally{Re=i,Sa.transition=s}}function Iv(t,e,n,r){if(pf){var i=Ay(t,e,n,r);if(i===null)Ig(t,e,r,mf,n),mI(t,r);else if(MD(i,t,e,n,r))r.stopPropagation();else if(mI(t,r),e&4&&-1<LD.indexOf(t)){for(;i!==null;){var s=Gc(i);if(s!==null&&Xb(s),s=Ay(t,e,n,r),s===null&&Ig(t,e,r,mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var mf=null;function Ay(t,e,n,r){if(mf=null,t=_v(r),t=to(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mf=t,null}function rR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AD()){case vv:return 1;case Gb:return 4;case hf:case PD:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var Qi=null,Tv=null,kh=null;function iR(){if(kh)return kh;var t,e=Tv,n=e.length,r,i="value"in Qi?Qi.value:Qi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return kh=i.slice(t,1<r?1-r:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zd(){return!0}function yI(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zd:yI,this.isPropagationStopped=yI,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),e}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sv=jn(dl),Kc=Je({},dl,{view:0,detail:0}),BD=jn(Kc),fg,pg,Yl,_p=Je({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yl&&(Yl&&t.type==="mousemove"?(fg=t.screenX-Yl.screenX,pg=t.screenY-Yl.screenY):pg=fg=0,Yl=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),_I=jn(_p),$D=Je({},_p,{dataTransfer:0}),zD=jn($D),WD=Je({},Kc,{relatedTarget:0}),mg=jn(WD),qD=Je({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),HD=jn(qD),KD=Je({},dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GD=jn(KD),QD=Je({},dl,{data:0}),vI=jn(QD),JD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XD[t])?!!e[t]:!1}function bv(){return ZD}var e2=Je({},Kc,{key:function(t){if(t.key){var e=JD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bv,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),t2=jn(e2),n2=Je({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wI=jn(n2),r2=Je({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bv}),i2=jn(r2),s2=Je({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),o2=jn(s2),a2=Je({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l2=jn(a2),u2=[9,13,27,32],Rv=fi&&"CompositionEvent"in window,Du=null;fi&&"documentMode"in document&&(Du=document.documentMode);var c2=fi&&"TextEvent"in window&&!Du,sR=fi&&(!Rv||Du&&8<Du&&11>=Du),EI=" ",II=!1;function oR(t,e){switch(t){case"keyup":return u2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function d2(t,e){switch(t){case"compositionend":return aR(e);case"keypress":return e.which!==32?null:(II=!0,EI);case"textInput":return t=e.data,t===EI&&II?null:t;default:return null}}function h2(t,e){if(ua)return t==="compositionend"||!Rv&&oR(t,e)?(t=iR(),kh=Tv=Qi=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sR&&e.locale!=="ko"?null:e.data;default:return null}}var f2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f2[t.type]:e==="textarea"}function lR(t,e,n,r){Ub(r),e=gf(e,"onChange"),0<e.length&&(n=new Sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,lc=null;function p2(t){vR(t,0)}function vp(t){var e=ha(t);if(Ob(e))return t}function m2(t,e){if(t==="change")return e}var uR=!1;if(fi){var gg;if(fi){var yg="oninput"in document;if(!yg){var SI=document.createElement("div");SI.setAttribute("oninput","return;"),yg=typeof SI.oninput=="function"}gg=yg}else gg=!1;uR=gg&&(!document.documentMode||9<document.documentMode)}function bI(){Vu&&(Vu.detachEvent("onpropertychange",cR),lc=Vu=null)}function cR(t){if(t.propertyName==="value"&&vp(lc)){var e=[];lR(e,lc,t,_v(t)),zb(p2,e)}}function g2(t,e,n){t==="focusin"?(bI(),Vu=e,lc=n,Vu.attachEvent("onpropertychange",cR)):t==="focusout"&&bI()}function y2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vp(lc)}function _2(t,e){if(t==="click")return vp(e)}function v2(t,e){if(t==="input"||t==="change")return vp(e)}function w2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:w2;function uc(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uy.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function RI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AI(t,e){var n=RI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RI(n)}}function dR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hR(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uf(t.document)}return e}function Av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E2(t){var e=hR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dR(n.ownerDocument.documentElement,n)){if(r!==null&&Av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=AI(n,s);var o=AI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I2=fi&&"documentMode"in document&&11>=document.documentMode,ca=null,Py=null,Lu=null,Cy=!1;function PI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cy||ca==null||ca!==uf(r)||(r=ca,"selectionStart"in r&&Av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lu&&uc(Lu,r)||(Lu=r,r=gf(Py,"onSelect"),0<r.length&&(e=new Sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ca)))}function eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var da={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},_g={},fR={};fi&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function wp(t){if(_g[t])return _g[t];if(!da[t])return t;var e=da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fR)return _g[t]=e[n];return t}var pR=wp("animationend"),mR=wp("animationiteration"),gR=wp("animationstart"),yR=wp("transitionend"),_R=new Map,CI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){_R.set(t,e),Oo(e,[t])}for(var vg=0;vg<CI.length;vg++){var wg=CI[vg],T2=wg.toLowerCase(),S2=wg[0].toUpperCase()+wg.slice(1);As(T2,"on"+S2)}As(pR,"onAnimationEnd");As(mR,"onAnimationIteration");As(gR,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(yR,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function kI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TD(r,e,void 0,t),t.currentTarget=null}function vR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kI(i,a,u),s=l}}}if(df)throw t=Sy,df=!1,Sy=null,t}function Ve(t,e){var n=e[Dy];n===void 0&&(n=e[Dy]=new Set);var r=t+"__bubble";n.has(r)||(wR(e,t,2,!1),n.add(r))}function Eg(t,e,n){var r=0;e&&(r|=4),wR(n,t,r,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function cc(t){if(!t[th]){t[th]=!0,Ab.forEach(function(n){n!=="selectionchange"&&(b2.has(n)||Eg(n,!1,t),Eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[th]||(e[th]=!0,Eg("selectionchange",!1,e))}}function wR(t,e,n,r){switch(rR(e)){case 1:var i=UD;break;case 4:i=jD;break;default:i=Iv}n=i.bind(null,e,n,t),i=void 0,!Ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=to(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zb(function(){var u=s,d=_v(n),h=[];e:{var f=_R.get(t);if(f!==void 0){var m=Sv,_=t;switch(t){case"keypress":if(xh(n)===0)break e;case"keydown":case"keyup":m=t2;break;case"focusin":_="focus",m=mg;break;case"focusout":_="blur",m=mg;break;case"beforeblur":case"afterblur":m=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=zD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=i2;break;case pR:case mR:case gR:m=HD;break;case yR:m=o2;break;case"scroll":m=BD;break;case"wheel":m=l2;break;case"copy":case"cut":case"paste":m=GD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wI}var w=(e&4)!==0,T=!w&&t==="scroll",E=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,I;v!==null;){I=v;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,E!==null&&(k=ic(v,E),k!=null&&w.push(dc(v,k,I)))),T)break;v=v.return}0<w.length&&(f=new m(f,_,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Ey&&(_=n.relatedTarget||n.fromElement)&&(to(_)||_[pi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?to(_):null,_!==null&&(T=No(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(w=_I,k="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=wI,k="onPointerLeave",E="onPointerEnter",v="pointer"),T=m==null?f:ha(m),I=_==null?f:ha(_),f=new w(k,v+"leave",m,n,d),f.target=T,f.relatedTarget=I,k=null,to(d)===u&&(w=new w(E,v+"enter",_,n,d),w.target=I,w.relatedTarget=T,k=w),T=k,m&&_)t:{for(w=m,E=_,v=0,I=w;I;I=qo(I))v++;for(I=0,k=E;k;k=qo(k))I++;for(;0<v-I;)w=qo(w),v--;for(;0<I-v;)E=qo(E),I--;for(;v--;){if(w===E||E!==null&&w===E.alternate)break t;w=qo(w),E=qo(E)}w=null}else w=null;m!==null&&xI(h,f,m,w,!1),_!==null&&T!==null&&xI(h,T,_,w,!0)}}e:{if(f=u?ha(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=m2;else if(TI(f))if(uR)x=v2;else{x=y2;var D=g2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=_2);if(x&&(x=x(t,u))){lR(h,x,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&gy(f,"number",f.value)}switch(D=u?ha(u):window,t){case"focusin":(TI(D)||D.contentEditable==="true")&&(ca=D,Py=u,Lu=null);break;case"focusout":Lu=Py=ca=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,PI(h,n,d);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":PI(h,n,d)}var b;if(Rv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ua?oR(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sR&&n.locale!=="ko"&&(ua||S!=="onCompositionStart"?S==="onCompositionEnd"&&ua&&(b=iR()):(Qi=d,Tv="value"in Qi?Qi.value:Qi.textContent,ua=!0)),D=gf(u,S),0<D.length&&(S=new vI(S,t,null,n,d),h.push({event:S,listeners:D}),b?S.data=b:(b=aR(n),b!==null&&(S.data=b)))),(b=c2?d2(t,n):h2(t,n))&&(u=gf(u,"onBeforeInput"),0<u.length&&(d=new vI("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}vR(h,e)})}function dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ic(t,n),s!=null&&r.unshift(dc(t,s,i)),s=ic(t,e),s!=null&&r.push(dc(t,s,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ic(n,s),l!=null&&o.unshift(dc(n,l,a))):i||(l=ic(n,s),l!=null&&o.push(dc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R2=/\r\n?/g,A2=/\u0000|\uFFFD/g;function OI(t){return(typeof t=="string"?t:""+t).replace(R2,`
`).replace(A2,"")}function nh(t,e,n){if(e=OI(e),OI(t)!==e&&n)throw Error(q(425))}function yf(){}var ky=null,xy=null;function Oy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,NI=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof NI<"u"?function(t){return NI.resolve(null).then(t).catch(k2)}:Ny;function k2(t){setTimeout(function(){throw t})}function Tg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ac(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),Rr="__reactFiber$"+hl,hc="__reactProps$"+hl,pi="__reactContainer$"+hl,Dy="__reactEvents$"+hl,x2="__reactListeners$"+hl,O2="__reactHandles$"+hl;function to(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DI(t);t!==null;){if(n=t[Rr])return n;t=DI(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Rr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Ep(t){return t[hc]||null}var Vy=[],fa=-1;function Ps(t){return{current:t}}function Me(t){0>fa||(t.current=Vy[fa],Vy[fa]=null,fa--)}function Oe(t,e){fa++,Vy[fa]=t.current,t.current=e}var ds={},Yt=Ps(ds),vn=Ps(!1),mo=ds;function La(t,e){var n=t.type.contextTypes;if(!n)return ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function _f(){Me(vn),Me(Yt)}function VI(t,e,n){if(Yt.current!==ds)throw Error(q(168));Oe(Yt,e),Oe(vn,n)}function ER(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,gD(t)||"Unknown",i));return Je({},n,r)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,mo=Yt.current,Oe(Yt,t),Oe(vn,vn.current),!0}function LI(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ER(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,Me(vn),Me(Yt),Oe(Yt,t)):Me(vn),Oe(vn,n)}var ti=null,Ip=!1,Sg=!1;function IR(t){ti===null?ti=[t]:ti.push(t)}function N2(t){Ip=!0,IR(t)}function Cs(){if(!Sg&&ti!==null){Sg=!0;var t=0,e=Re;try{var n=ti;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Ip=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),Kb(vv,Cs),i}finally{Re=e,Sg=!1}}return null}var pa=[],ma=0,wf=null,Ef=0,$n=[],zn=0,go=null,ii=1,si="";function qs(t,e){pa[ma++]=Ef,pa[ma++]=wf,wf=t,Ef=e}function TR(t,e,n){$n[zn++]=ii,$n[zn++]=si,$n[zn++]=go,go=t;var r=ii;t=si;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ii=1<<32-hr(e)+i|n<<i|r,si=s+t}else ii=1<<s|n<<i|r,si=t}function Pv(t){t.return!==null&&(qs(t,1),TR(t,1,0))}function Cv(t){for(;t===wf;)wf=pa[--ma],pa[ma]=null,Ef=pa[--ma],pa[ma]=null;for(;t===go;)go=$n[--zn],$n[zn]=null,si=$n[--zn],$n[zn]=null,ii=$n[--zn],$n[zn]=null}var Nn=null,xn=null,je=!1,cr=null;function SR(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,xn=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,xn=null,!0):!1;default:return!1}}function Ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function My(t){if(je){var e=xn;if(e){var n=e;if(!MI(t,e)){if(Ly(t))throw Error(q(418));e=ns(n.nextSibling);var r=Nn;e&&MI(t,e)?SR(r,n):(t.flags=t.flags&-4097|2,je=!1,Nn=t)}}else{if(Ly(t))throw Error(q(418));t.flags=t.flags&-4097|2,je=!1,Nn=t}}}function FI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function rh(t){if(t!==Nn)return!1;if(!je)return FI(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oy(t.type,t.memoizedProps)),e&&(e=xn)){if(Ly(t))throw bR(),Error(q(418));for(;e;)SR(t,e),e=ns(e.nextSibling)}if(FI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=Nn?ns(t.stateNode.nextSibling):null;return!0}function bR(){for(var t=xn;t;)t=ns(t.nextSibling)}function Ma(){xn=Nn=null,je=!1}function kv(t){cr===null?cr=[t]:cr.push(t)}var D2=Ti.ReactCurrentBatchConfig;function Xl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UI(t){var e=t._init;return e(t._payload)}function RR(t){function e(E,v){if(t){var I=E.deletions;I===null?(E.deletions=[v],E.flags|=16):I.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=os(E,v),E.index=0,E.sibling=null,E}function s(E,v,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<v?(E.flags|=2,v):I):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,I,k){return v===null||v.tag!==6?(v=xg(I,E.mode,k),v.return=E,v):(v=i(v,I),v.return=E,v)}function l(E,v,I,k){var x=I.type;return x===la?d(E,v,I.props.children,k,I.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zi&&UI(x)===v.type)?(k=i(v,I.props),k.ref=Xl(E,v,I),k.return=E,k):(k=Fh(I.type,I.key,I.props,null,E.mode,k),k.ref=Xl(E,v,I),k.return=E,k)}function u(E,v,I,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=Og(I,E.mode,k),v.return=E,v):(v=i(v,I.children||[]),v.return=E,v)}function d(E,v,I,k,x){return v===null||v.tag!==7?(v=uo(I,E.mode,k,x),v.return=E,v):(v=i(v,I),v.return=E,v)}function h(E,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xg(""+v,E.mode,I),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kd:return I=Fh(v.type,v.key,v.props,null,E.mode,I),I.ref=Xl(E,null,v),I.return=E,I;case aa:return v=Og(v,E.mode,I),v.return=E,v;case zi:var k=v._init;return h(E,k(v._payload),I)}if(vu(v)||Kl(v))return v=uo(v,E.mode,I,null),v.return=E,v;ih(E,v)}return null}function f(E,v,I,k){var x=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return x!==null?null:a(E,v,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Kd:return I.key===x?l(E,v,I,k):null;case aa:return I.key===x?u(E,v,I,k):null;case zi:return x=I._init,f(E,v,x(I._payload),k)}if(vu(I)||Kl(I))return x!==null?null:d(E,v,I,k,null);ih(E,I)}return null}function m(E,v,I,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(I)||null,a(v,E,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kd:return E=E.get(k.key===null?I:k.key)||null,l(v,E,k,x);case aa:return E=E.get(k.key===null?I:k.key)||null,u(v,E,k,x);case zi:var D=k._init;return m(E,v,I,D(k._payload),x)}if(vu(k)||Kl(k))return E=E.get(I)||null,d(v,E,k,x,null);ih(v,k)}return null}function _(E,v,I,k){for(var x=null,D=null,b=v,S=v=0,A=null;b!==null&&S<I.length;S++){b.index>S?(A=b,b=null):A=b.sibling;var g=f(E,b,I[S],k);if(g===null){b===null&&(b=A);break}t&&b&&g.alternate===null&&e(E,b),v=s(g,v,S),D===null?x=g:D.sibling=g,D=g,b=A}if(S===I.length)return n(E,b),je&&qs(E,S),x;if(b===null){for(;S<I.length;S++)b=h(E,I[S],k),b!==null&&(v=s(b,v,S),D===null?x=b:D.sibling=b,D=b);return je&&qs(E,S),x}for(b=r(E,b);S<I.length;S++)A=m(b,E,S,I[S],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?S:A.key),v=s(A,v,S),D===null?x=A:D.sibling=A,D=A);return t&&b.forEach(function(P){return e(E,P)}),je&&qs(E,S),x}function w(E,v,I,k){var x=Kl(I);if(typeof x!="function")throw Error(q(150));if(I=x.call(I),I==null)throw Error(q(151));for(var D=x=null,b=v,S=v=0,A=null,g=I.next();b!==null&&!g.done;S++,g=I.next()){b.index>S?(A=b,b=null):A=b.sibling;var P=f(E,b,g.value,k);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(E,b),v=s(P,v,S),D===null?x=P:D.sibling=P,D=P,b=A}if(g.done)return n(E,b),je&&qs(E,S),x;if(b===null){for(;!g.done;S++,g=I.next())g=h(E,g.value,k),g!==null&&(v=s(g,v,S),D===null?x=g:D.sibling=g,D=g);return je&&qs(E,S),x}for(b=r(E,b);!g.done;S++,g=I.next())g=m(b,E,S,g.value,k),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?S:g.key),v=s(g,v,S),D===null?x=g:D.sibling=g,D=g);return t&&b.forEach(function(N){return e(E,N)}),je&&qs(E,S),x}function T(E,v,I,k){if(typeof I=="object"&&I!==null&&I.type===la&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Kd:e:{for(var x=I.key,D=v;D!==null;){if(D.key===x){if(x=I.type,x===la){if(D.tag===7){n(E,D.sibling),v=i(D,I.props.children),v.return=E,E=v;break e}}else if(D.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===zi&&UI(x)===D.type){n(E,D.sibling),v=i(D,I.props),v.ref=Xl(E,D,I),v.return=E,E=v;break e}n(E,D);break}else e(E,D);D=D.sibling}I.type===la?(v=uo(I.props.children,E.mode,k,I.key),v.return=E,E=v):(k=Fh(I.type,I.key,I.props,null,E.mode,k),k.ref=Xl(E,v,I),k.return=E,E=k)}return o(E);case aa:e:{for(D=I.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(E,v.sibling),v=i(v,I.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=Og(I,E.mode,k),v.return=E,E=v}return o(E);case zi:return D=I._init,T(E,v,D(I._payload),k)}if(vu(I))return _(E,v,I,k);if(Kl(I))return w(E,v,I,k);ih(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,I),v.return=E,E=v):(n(E,v),v=xg(I,E.mode,k),v.return=E,E=v),o(E)):n(E,v)}return T}var Fa=RR(!0),AR=RR(!1),If=Ps(null),Tf=null,ga=null,xv=null;function Ov(){xv=ga=Tf=null}function Nv(t){var e=If.current;Me(If),t._currentValue=e}function Fy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){Tf=t,xv=ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(xv!==t)if(t={context:t,memoizedValue:e,next:null},ga===null){if(Tf===null)throw Error(q(308));ga=t,Tf.dependencies={lanes:0,firstContext:t}}else ga=ga.next=t;return e}var no=null;function Dv(t){no===null?no=[t]:no.push(t)}function PR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Dv(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function Vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,Dv(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function Oh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}function jI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,r){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(f=e,m=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(m,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(m,h,f):_,f==null)break e;h=Je({},h,f);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=h}}function BI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Qc={},Mr=Ps(Qc),fc=Ps(Qc),pc=Ps(Qc);function ro(t){if(t===Qc)throw Error(q(174));return t}function Lv(t,e){switch(Oe(pc,e),Oe(fc,t),Oe(Mr,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_y(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_y(e,t)}Me(Mr),Oe(Mr,e)}function Ua(){Me(Mr),Me(fc),Me(pc)}function kR(t){ro(pc.current);var e=ro(Mr.current),n=_y(e,t.type);e!==n&&(Oe(fc,t),Oe(Mr,n))}function Mv(t){fc.current===t&&(Me(Mr),Me(fc))}var He=Ps(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function Fv(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var Nh=Ti.ReactCurrentDispatcher,Rg=Ti.ReactCurrentBatchConfig,yo=0,Ke=null,Et=null,Rt=null,Rf=!1,Mu=!1,mc=0,V2=0;function $t(){throw Error(q(321))}function Uv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,s){if(yo=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nh.current=t===null||t.memoizedState===null?U2:j2,t=n(r,i),Mu){s=0;do{if(Mu=!1,mc=0,25<=s)throw Error(q(301));s+=1,Rt=Et=null,e.updateQueue=null,Nh.current=B2,t=n(r,i)}while(Mu)}if(Nh.current=Af,e=Et!==null&&Et.next!==null,yo=0,Rt=Et=Ke=null,Rf=!1,e)throw Error(q(300));return t}function Bv(){var t=mc!==0;return mc=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ke.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Yn(){if(Et===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Rt===null?Ke.memoizedState:Rt.next;if(e!==null)Rt=e,Et=t;else{if(t===null)throw Error(q(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?Ke.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function gc(t,e){return typeof e=="function"?e(t):e}function Ag(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((yo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=d,_o|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,mr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xR(){}function OR(t,e){var n=Ke,r=Yn(),i=e(),s=!mr(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,$v(VR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,yc(9,DR.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(q(349));yo&30||NR(n,e,i)}return i}function NR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DR(t,e,n,r){e.value=n,e.getSnapshot=r,LR(e)&&MR(t)}function VR(t,e,n){return n(function(){LR(e)&&MR(t)})}function LR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function MR(t){var e=mi(t,1);e!==null&&fr(e,t,1,-1)}function $I(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:t},e.queue=t,t=t.dispatch=F2.bind(null,Ke,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FR(){return Yn().memoizedState}function Dh(t,e,n,r){var i=Tr();Ke.flags|=t,i.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function Tp(t,e,n,r){var i=Yn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&Uv(r,o.deps)){i.memoizedState=yc(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=yc(1|e,n,s,r)}function zI(t,e){return Dh(8390656,8,t,e)}function $v(t,e){return Tp(2048,8,t,e)}function UR(t,e){return Tp(4,2,t,e)}function jR(t,e){return Tp(4,4,t,e)}function BR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $R(t,e,n){return n=n!=null?n.concat([t]):null,Tp(4,4,BR.bind(null,e,t),n)}function zv(){}function zR(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WR(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qR(t,e,n){return yo&21?(mr(n,e)||(n=Jb(),Ke.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function L2(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Rg.transition;Rg.transition={};try{t(!1),e()}finally{Re=n,Rg.transition=r}}function HR(){return Yn().memoizedState}function M2(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KR(t))GR(e,n);else if(n=PR(t,e,n,r),n!==null){var i=an();fr(n,t,r,i),QR(n,e,r)}}function F2(t,e,n){var r=ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KR(t))GR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(i.next=i,Dv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PR(t,e,i,r),n!==null&&(i=an(),fr(n,t,r,i),QR(n,e,r))}}function KR(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function GR(t,e){Mu=Rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}var Af={readContext:Jn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},U2={readContext:Jn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:zI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4194308,4,BR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dh(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M2.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:$I,useDebugValue:zv,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=$I(!1),e=t[0];return t=L2.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Tr();if(je){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Pt===null)throw Error(q(349));yo&30||NR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zI(VR.bind(null,r,s,t),[t]),r.flags|=2048,yc(9,DR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Pt.identifierPrefix;if(je){var n=si,r=ii;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j2={readContext:Jn,useCallback:zR,useContext:Jn,useEffect:$v,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:jR,useMemo:WR,useReducer:Ag,useRef:FR,useState:function(){return Ag(gc)},useDebugValue:zv,useDeferredValue:function(t){var e=Yn();return qR(e,Et.memoizedState,t)},useTransition:function(){var t=Ag(gc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1},B2={readContext:Jn,useCallback:zR,useContext:Jn,useEffect:$v,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:jR,useMemo:WR,useReducer:Pg,useRef:FR,useState:function(){return Pg(gc)},useDebugValue:zv,useDeferredValue:function(t){var e=Yn();return Et===null?e.memoizedState=t:qR(e,Et.memoizedState,t)},useTransition:function(){var t=Pg(gc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sp={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=ss(t),s=ci(r,i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(fr(e,t,i,r),Oh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=ss(t),s=ci(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(fr(e,t,i,r),Oh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=ss(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,r),e!==null&&(fr(e,t,r,n),Oh(e,t,r))}};function WI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!uc(n,r)||!uc(i,s):!0}function JR(t,e,n){var r=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=wn(e)?mo:Yt.current,r=e.contextTypes,s=(r=r!=null)?La(t,i):ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sp.enqueueReplaceState(e,e.state,null)}function jy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=wn(e)?mo:Yt.current,i.context=La(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sp.enqueueReplaceState(i,i.state,null),Sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e){try{var n="",r=e;do n+=mD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function By(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $2=typeof WeakMap=="function"?WeakMap:Map;function YR(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cf||(Cf=!0,Yy=r),By(t,e)},n}function XR(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){By(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){By(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nV.bind(null,t,e,n),e.then(t,t))}function KI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var z2=Ti.ReactCurrentOwner,mn=!1;function rn(t,e,n,r){e.child=t===null?AR(e,null,n,r):Fa(e,t.child,n,r)}function QI(t,e,n,r,i){n=n.render;var s=e.ref;return ba(e,i),r=jv(t,e,n,r,s,i),n=Bv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(je&&n&&Pv(e),e.flags|=1,rn(t,e,r,i),e.child)}function JI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Yv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZR(t,e,s,r,i)):(t=Fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(uc(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return $y(t,e,n,r,i)}function eA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(_a,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(_a,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(_a,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(_a,An),An|=r;return rn(t,e,i,n),e.child}function tA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $y(t,e,n,r,i){var s=wn(n)?mo:Yt.current;return s=La(e,s),ba(e,i),n=jv(t,e,n,r,s,i),r=Bv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(je&&r&&Pv(e),e.flags|=1,rn(t,e,n,i),e.child)}function YI(t,e,n,r,i){if(wn(n)){var s=!0;vf(e)}else s=!1;if(ba(e,i),e.stateNode===null)Vh(t,e),JR(e,n,r),jy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=wn(n)?mo:Yt.current,u=La(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qI(e,o,r,u),Wi=!1;var f=e.memoizedState;o.state=f,Sf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||vn.current||Wi?(typeof d=="function"&&(Uy(e,n,d,r),l=e.memoizedState),(a=Wi||WI(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=wn(n)?mo:Yt.current,l=La(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&qI(e,o,r,l),Wi=!1,f=e.memoizedState,o.state=f,Sf(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||vn.current||Wi?(typeof m=="function"&&(Uy(e,n,m,r),_=e.memoizedState),(u=Wi||WI(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zy(t,e,n,r,s,i)}function zy(t,e,n,r,i,s){tA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&LI(e,n,!1),gi(t,e,s);r=e.stateNode,z2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,s),e.child=Fa(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&LI(e,n,!0),e.child}function nA(t){var e=t.stateNode;e.pendingContext?VI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VI(t,e.context,!1),Lv(t,e.containerInfo)}function XI(t,e,n,r,i){return Ma(),kv(i),e.flags|=256,rn(t,e,n,r),e.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function rA(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(He,i&1),t===null)return My(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ap(o,r,0,null),t=uo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qy(n),e.memoizedState=Wy,t):Wv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return W2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=os(a,s):(s=uo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wy,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wv(t,e){return e=Ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,n,r){return r!==null&&kv(r),Fa(e,t.child,null,n),t=Wv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cg(Error(q(422))),sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ap({mode:"visible",children:r.children},i,0,null),s=uo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=qy(o),e.memoizedState=Wy,s);if(!(e.mode&1))return sh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Cg(s,r,void 0),sh(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mi(t,i),fr(r,t,i,-1))}return Jv(),r=Cg(Error(q(421))),sh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=ns(i.nextSibling),Nn=e,je=!0,cr=null,t!==null&&($n[zn++]=ii,$n[zn++]=si,$n[zn++]=go,ii=t.id,si=t.overflow,go=e),e=Wv(e,r.children),e.flags|=4096,e)}function ZI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fy(t.return,e,n)}function kg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZI(t,n,e);else if(t.tag===19)ZI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kg(e,!0,n,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q2(t,e,n){switch(e.tag){case 3:nA(e),Ma();break;case 5:kR(e);break;case 1:wn(e.type)&&vf(e);break;case 4:Lv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(If,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?rA(t,e,n):(Oe(He,He.current&1),t=gi(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,eA(t,e,n)}return gi(t,e,n)}var sA,Hy,oA,aA;sA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hy=function(){};oA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ro(Mr.current);var s=null;switch(n){case"input":i=py(t,i),r=py(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=yy(t,i),r=yy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yf)}vy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};aA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zl(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function H2(t,e,n){var r=e.pendingProps;switch(Cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return wn(e.type)&&_f(),zt(e),null;case 3:return r=e.stateNode,Ua(),Me(vn),Me(Yt),Fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(e_(cr),cr=null))),Hy(t,e),zt(e),null;case 5:Mv(e);var i=ro(pc.current);if(n=e.type,t!==null&&e.stateNode!=null)oA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return zt(e),null}if(t=ro(Mr.current),rh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[hc]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ve(Eu[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":lI(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":cI(r,s),Ve("invalid",r)}vy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nh(r.textContent,a,t),i=["children",""+a]):nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Gd(r),uI(r,s,!0);break;case"textarea":Gd(r),dI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[hc]=r,sA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wy(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ve(Eu[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":lI(t,r),i=py(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":cI(t,r),i=yy(t,r),Ve("invalid",t);break;default:i=r}vy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rc(t,l):typeof l=="number"&&rc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&pv(t,s,l,o))}switch(n){case"input":Gd(t),uI(t,r,!1);break;case"textarea":Gd(t),dI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ea(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ea(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)aA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=ro(pc.current),ro(Mr.current),rh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:nh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return zt(e),null;case 13:if(Me(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&xn!==null&&e.mode&1&&!(e.flags&128))bR(),Ma(),e.flags|=98560,s=!1;else if(s=rh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Rr]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else cr!==null&&(e_(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?It===0&&(It=3):Jv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ua(),Hy(t,e),t===null&&cc(e.stateNode.containerInfo),zt(e),null;case 10:return Nv(e.type._context),zt(e),null;case 17:return wn(e.type)&&_f(),zt(e),null;case 19:if(Me(He),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zl(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bf(t),o!==null){for(e.flags|=128,Zl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Ba&&(e.flags|=128,r=!0,Zl(s,!1),e.lanes=4194304)}else{if(!r)if(t=bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return zt(e),null}else 2*lt()-s.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,Zl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function K2(t,e){switch(Cv(e),e.tag){case 1:return wn(e.type)&&_f(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),Me(vn),Me(Yt),Fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mv(e),null;case 13:if(Me(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(He),null;case 4:return Ua(),null;case 10:return Nv(e.type._context),null;case 22:case 23:return Qv(),null;case 24:return null;default:return null}}var oh=!1,Gt=!1,G2=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Ky(t,e,n){try{n()}catch(r){rt(t,e,r)}}var eT=!1;function Q2(t,e){if(ky=pf,t=hR(),Av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xy={focusedElem:t,selectionRange:n},pf=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,T=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:lr(e.type,w),T);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=eT,eT=!1,_}function Fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ky(e,n,s)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lA(t){var e=t.alternate;e!==null&&(t.alternate=null,lA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[hc],delete e[Dy],delete e[x2],delete e[O2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uA(t){return t.tag===5||t.tag===3||t.tag===4}function tT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yf));else if(r!==4&&(t=t.child,t!==null))for(Qy(t,e,n),t=t.sibling;t!==null;)Qy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var Ot=null,ur=!1;function Li(t,e,n){for(n=n.child;n!==null;)cA(t,e,n),n=n.sibling}function cA(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(yp,n)}catch{}switch(n.tag){case 5:Gt||ya(n,e);case 6:var r=Ot,i=ur;Ot=null,Li(t,e,n),Ot=r,ur=i,Ot!==null&&(ur?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ur?(t=Ot,n=n.stateNode,t.nodeType===8?Tg(t.parentNode,n):t.nodeType===1&&Tg(t,n),ac(t)):Tg(Ot,n.stateNode));break;case 4:r=Ot,i=ur,Ot=n.stateNode.containerInfo,ur=!0,Li(t,e,n),Ot=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ky(n,e,o),i=i.next}while(i!==r)}Li(t,e,n);break;case 1:if(!Gt&&(ya(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Li(t,e,n);break;case 21:Li(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,Li(t,e,n),Gt=r):Li(t,e,n);break;default:Li(t,e,n)}}function nT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G2),e.forEach(function(r){var i=iV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,ur=!1;break e;case 3:Ot=a.stateNode.containerInfo,ur=!0;break e;case 4:Ot=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ot===null)throw Error(q(160));cA(s,o,i),Ot=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dA(e,t),e=e.sibling}function dA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),wr(t),r&4){try{Fu(3,t,t.return),bp(3,t)}catch(w){rt(t,t.return,w)}try{Fu(5,t,t.return)}catch(w){rt(t,t.return,w)}}break;case 1:sr(e,t),wr(t),r&512&&n!==null&&ya(n,n.return);break;case 5:if(sr(e,t),wr(t),r&512&&n!==null&&ya(n,n.return),t.flags&32){var i=t.stateNode;try{rc(i,"")}catch(w){rt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nb(i,s),wy(a,o);var u=wy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Fb(i,h):d==="dangerouslySetInnerHTML"?Lb(i,h):d==="children"?rc(i,h):pv(i,d,h,u)}switch(a){case"input":my(i,s);break;case"textarea":Db(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ea(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ea(i,!!s.multiple,s.defaultValue,!0):Ea(i,!!s.multiple,s.multiple?[]:"",!1))}i[hc]=s}catch(w){rt(t,t.return,w)}}break;case 6:if(sr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){rt(t,t.return,w)}}break;case 3:if(sr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(e.containerInfo)}catch(w){rt(t,t.return,w)}break;case 4:sr(e,t),wr(t);break;case 13:sr(e,t),wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kv=lt())),r&4&&nT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||d,sr(e,t),Gt=u):sr(e,t),wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Fu(4,f,f.return);break;case 1:ya(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){rt(r,n,w)}}break;case 5:ya(f,f.return);break;case 22:if(f.memoizedState!==null){iT(h);continue}}m!==null?(m.return=f,Y=m):iT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mb("display",o))}catch(w){rt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){rt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sr(e,t),wr(t),r&4&&nT(t);break;case 21:break;default:sr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uA(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rc(i,""),r.flags&=-33);var s=tT(t);Jy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tT(t);Qy(t,a,o);break;default:throw Error(q(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J2(t,e,n){Y=t,hA(t)}function hA(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=oh;var u=Gt;if(oh=o,(Gt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?sT(i):l!==null?(l.return=o,Y=l):sT(i);for(;s!==null;)Y=s,hA(s),s=s.sibling;Y=i,oh=a,Gt=u}rT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):rT(t)}}function rT(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&BI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}BI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Gt||e.flags&512&&Gy(e)}catch(f){rt(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function iT(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function sT(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Gy(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Gy(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var Y2=Math.ceil,Pf=Ti.ReactCurrentDispatcher,qv=Ti.ReactCurrentOwner,Gn=Ti.ReactCurrentBatchConfig,ye=0,Pt=null,yt=null,Lt=0,An=0,_a=Ps(0),It=0,_c=null,_o=0,Rp=0,Hv=0,Uu=null,pn=null,Kv=0,Ba=1/0,ei=null,Cf=!1,Yy=null,is=null,ah=!1,Ji=null,kf=0,ju=0,Xy=null,Lh=-1,Mh=0;function an(){return ye&6?lt():Lh!==-1?Lh:Lh=lt()}function ss(t){return t.mode&1?ye&2&&Lt!==0?Lt&-Lt:D2.transition!==null?(Mh===0&&(Mh=Jb()),Mh):(t=Re,t!==0||(t=window.event,t=t===void 0?16:rR(t.type)),t):1}function fr(t,e,n,r){if(50<ju)throw ju=0,Xy=null,Error(q(185));Hc(t,n,r),(!(ye&2)||t!==Pt)&&(t===Pt&&(!(ye&2)&&(Rp|=n),It===4&&Hi(t,Lt)),En(t,r),n===1&&ye===0&&!(e.mode&1)&&(Ba=lt()+500,Ip&&Cs()))}function En(t,e){var n=t.callbackNode;DD(t,e);var r=ff(t,t===Pt?Lt:0);if(r===0)n!==null&&pI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pI(n),e===1)t.tag===0?N2(oT.bind(null,t)):IR(oT.bind(null,t)),C2(function(){!(ye&6)&&Cs()}),n=null;else{switch(Yb(r)){case 1:n=vv;break;case 4:n=Gb;break;case 16:n=hf;break;case 536870912:n=Qb;break;default:n=hf}n=wA(n,fA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fA(t,e){if(Lh=-1,Mh=0,ye&6)throw Error(q(327));var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var r=ff(t,t===Pt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xf(t,r);else{e=r;var i=ye;ye|=2;var s=mA();(Pt!==t||Lt!==e)&&(ei=null,Ba=lt()+500,lo(t,e));do try{eV();break}catch(a){pA(t,a)}while(!0);Ov(),Pf.current=s,ye=i,yt!==null?e=0:(Pt=null,Lt=0,e=It)}if(e!==0){if(e===2&&(i=by(t),i!==0&&(r=i,e=Zy(t,i))),e===1)throw n=_c,lo(t,0),Hi(t,r),En(t,lt()),n;if(e===6)Hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!X2(i)&&(e=xf(t,r),e===2&&(s=by(t),s!==0&&(r=s,e=Zy(t,s))),e===1))throw n=_c,lo(t,0),Hi(t,r),En(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Hs(t,pn,ei);break;case 3:if(Hi(t,r),(r&130023424)===r&&(e=Kv+500-lt(),10<e)){if(ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ny(Hs.bind(null,t,pn,ei),e);break}Hs(t,pn,ei);break;case 4:if(Hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y2(r/1960))-r,10<r){t.timeoutHandle=Ny(Hs.bind(null,t,pn,ei),r);break}Hs(t,pn,ei);break;case 5:Hs(t,pn,ei);break;default:throw Error(q(329))}}}return En(t,lt()),t.callbackNode===n?fA.bind(null,t):null}function Zy(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=xf(t,e),t!==2&&(e=pn,pn=n,e!==null&&e_(e)),t}function e_(t){pn===null?pn=t:pn.push.apply(pn,t)}function X2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~Hv,e&=~Rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function oT(t){if(ye&6)throw Error(q(327));Ra();var e=ff(t,0);if(!(e&1))return En(t,lt()),null;var n=xf(t,e);if(t.tag!==0&&n===2){var r=by(t);r!==0&&(e=r,n=Zy(t,r))}if(n===1)throw n=_c,lo(t,0),Hi(t,e),En(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hs(t,pn,ei),En(t,lt()),null}function Gv(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Ba=lt()+500,Ip&&Cs())}}function vo(t){Ji!==null&&Ji.tag===0&&!(ye&6)&&Ra();var e=ye;ye|=1;var n=Gn.transition,r=Re;try{if(Gn.transition=null,Re=1,t)return t()}finally{Re=r,Gn.transition=n,ye=e,!(ye&6)&&Cs()}}function Qv(){An=_a.current,Me(_a)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,P2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_f();break;case 3:Ua(),Me(vn),Me(Yt),Fv();break;case 5:Mv(r);break;case 4:Ua();break;case 13:Me(He);break;case 19:Me(He);break;case 10:Nv(r.type._context);break;case 22:case 23:Qv()}n=n.return}if(Pt=t,yt=t=os(t.current,null),Lt=An=e,It=0,_c=null,Hv=Rp=_o=0,pn=Uu=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}no=null}return t}function pA(t,e){do{var n=yt;try{if(Ov(),Nh.current=Af,Rf){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rf=!1}if(yo=0,Rt=Et=Ke=null,Mu=!1,mc=0,qv.current=null,n===null||n.return===null){It=1,_c=e,yt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=KI(o);if(m!==null){m.flags&=-257,GI(m,o,a,s,e),m.mode&1&&HI(s,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){HI(s,u,e),Jv();break e}l=Error(q(426))}}else if(je&&a.mode&1){var T=KI(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),GI(T,o,a,s,e),kv(ja(l,a));break e}}s=l=ja(l,a),It!==4&&(It=2),Uu===null?Uu=[s]:Uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=YR(s,l,e);jI(s,E);break e;case 1:a=l;var v=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(is===null||!is.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=XR(s,a,e);jI(s,k);break e}}s=s.return}while(s!==null)}yA(n)}catch(x){e=x,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function mA(){var t=Pf.current;return Pf.current=Af,t===null?Af:t}function Jv(){(It===0||It===3||It===2)&&(It=4),Pt===null||!(_o&268435455)&&!(Rp&268435455)||Hi(Pt,Lt)}function xf(t,e){var n=ye;ye|=2;var r=mA();(Pt!==t||Lt!==e)&&(ei=null,lo(t,e));do try{Z2();break}catch(i){pA(t,i)}while(!0);if(Ov(),ye=n,Pf.current=r,yt!==null)throw Error(q(261));return Pt=null,Lt=0,It}function Z2(){for(;yt!==null;)gA(yt)}function eV(){for(;yt!==null&&!bD();)gA(yt)}function gA(t){var e=vA(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?yA(t):yt=e,qv.current=null}function yA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K2(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,yt=null;return}}else if(n=H2(n,e,An),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);It===0&&(It=5)}function Hs(t,e,n){var r=Re,i=Gn.transition;try{Gn.transition=null,Re=1,tV(t,e,n,r)}finally{Gn.transition=i,Re=r}return null}function tV(t,e,n,r){do Ra();while(Ji!==null);if(ye&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(VD(t,s),t===Pt&&(yt=Pt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ah||(ah=!0,wA(hf,function(){return Ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var o=Re;Re=1;var a=ye;ye|=4,qv.current=null,Q2(t,n),dA(n,t),E2(xy),pf=!!ky,xy=ky=null,t.current=n,J2(n),RD(),ye=a,Re=o,Gn.transition=s}else t.current=n;if(ah&&(ah=!1,Ji=t,kf=i),s=t.pendingLanes,s===0&&(is=null),CD(n.stateNode),En(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cf)throw Cf=!1,t=Yy,Yy=null,t;return kf&1&&t.tag!==0&&Ra(),s=t.pendingLanes,s&1?t===Xy?ju++:(ju=0,Xy=t):ju=0,Cs(),null}function Ra(){if(Ji!==null){var t=Yb(kf),e=Gn.transition,n=Re;try{if(Gn.transition=null,Re=16>t?16:t,Ji===null)var r=!1;else{if(t=Ji,Ji=null,kf=0,ye&6)throw Error(q(331));var i=ye;for(ye|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Fu(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(lA(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fu(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Y=I;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(x){rt(a,a.return,x)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(ye=i,Cs(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(yp,t)}catch{}r=!0}return r}finally{Re=n,Gn.transition=e}}return!1}function aT(t,e,n){e=ja(n,e),e=YR(t,e,1),t=rs(t,e,1),e=an(),t!==null&&(Hc(t,1,e),En(t,e))}function rt(t,e,n){if(t.tag===3)aT(t,t,n);else for(;e!==null;){if(e.tag===3){aT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=ja(n,t),t=XR(e,t,1),e=rs(e,t,1),t=an(),e!==null&&(Hc(e,1,t),En(e,t));break}}e=e.return}}function nV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Lt&n)===n&&(It===4||It===3&&(Lt&130023424)===Lt&&500>lt()-Kv?lo(t,0):Hv|=n),En(t,e)}function _A(t,e){e===0&&(t.mode&1?(e=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):e=1);var n=an();t=mi(t,e),t!==null&&(Hc(t,e,n),En(t,n))}function rV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_A(t,n)}function iV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),_A(t,n)}var vA;vA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,q2(t,e,n);mn=!!(t.flags&131072)}else mn=!1,je&&e.flags&1048576&&TR(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vh(t,e),t=e.pendingProps;var i=La(e,Yt.current);ba(e,n),i=jv(null,e,r,t,i,n);var s=Bv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vv(e),i.updater=Sp,e.stateNode=i,i._reactInternals=e,jy(e,r,t,n),e=zy(null,e,r,!0,s,n)):(e.tag=0,je&&s&&Pv(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oV(r),t=lr(r,t),i){case 0:e=$y(null,e,r,t,n);break e;case 1:e=YI(null,e,r,t,n);break e;case 11:e=QI(null,e,r,t,n);break e;case 14:e=JI(null,e,r,lr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),$y(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),YI(t,e,r,i,n);case 3:e:{if(nA(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CR(t,e),Sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ja(Error(q(423)),e),e=XI(t,e,r,n,i);break e}else if(r!==i){i=ja(Error(q(424)),e),e=XI(t,e,r,n,i);break e}else for(xn=ns(e.stateNode.containerInfo.firstChild),Nn=e,je=!0,cr=null,n=AR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===i){e=gi(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return kR(e),t===null&&My(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Oy(r,i)?o=null:s!==null&&Oy(r,s)&&(e.flags|=32),tA(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&My(e),null;case 13:return rA(t,e,n);case 4:return Lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),QI(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(If,r._currentValue),r._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!vn.current){e=gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ci(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ba(e,n),i=Jn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),JI(t,e,r,i,n);case 15:return ZR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Vh(t,e),e.tag=1,wn(r)?(t=!0,vf(e)):t=!1,ba(e,n),JR(e,r,i),jy(e,r,i,n),zy(null,e,r,!0,t,n);case 19:return iA(t,e,n);case 22:return eA(t,e,n)}throw Error(q(156,e.tag))};function wA(t,e){return Kb(t,e)}function sV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new sV(t,e,n,r)}function Yv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oV(t){if(typeof t=="function")return Yv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gv)return 11;if(t===yv)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Yv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case la:return uo(n.children,i,s,e);case mv:o=8,i|=8;break;case cy:return t=qn(12,n,e,i|2),t.elementType=cy,t.lanes=s,t;case dy:return t=qn(13,n,e,i),t.elementType=dy,t.lanes=s,t;case hy:return t=qn(19,n,e,i),t.elementType=hy,t.lanes=s,t;case kb:return Ap(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pb:o=10;break e;case Cb:o=9;break e;case gv:o=11;break e;case yv:o=14;break e;case zi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function uo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Ap(t,e,n,r){return t=qn(22,t,r,e),t.elementType=kb,t.lanes=n,t.stateNode={isHidden:!1},t}function xg(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Og(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xv(t,e,n,r,i,s,o,a,l){return t=new aV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vv(s),t}function lV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EA(t){if(!t)return ds;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return ER(t,n,e)}return e}function IA(t,e,n,r,i,s,o,a,l){return t=Xv(n,r,!0,t,i,s,o,a,l),t.context=EA(null),n=t.current,r=an(),i=ss(n),s=ci(r,i),s.callback=e??null,rs(n,s,i),t.current.lanes=i,Hc(t,i,r),En(t,r),t}function Pp(t,e,n,r){var i=e.current,s=an(),o=ss(i);return n=EA(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(i,e,o),t!==null&&(fr(t,i,o,s),Oh(t,i,o)),o}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zv(t,e){lT(t,e),(t=t.alternate)&&lT(t,e)}function uV(){return null}var TA=typeof reportError=="function"?reportError:function(t){console.error(t)};function e0(t){this._internalRoot=t}Cp.prototype.render=e0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pp(t,e,null,null)};Cp.prototype.unmount=e0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){Pp(null,t,null,null)}),e[pi]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=eR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qi.length&&e!==0&&e<qi[n].priority;n++);qi.splice(n,0,t),n===0&&nR(t)}};function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uT(){}function cV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Of(o);s.call(u)}}var o=IA(e,r,t,0,null,!1,!1,"",uT);return t._reactRootContainer=o,t[pi]=o.current,cc(t.nodeType===8?t.parentNode:t),vo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Of(l);a.call(u)}}var l=Xv(t,0,!1,null,null,!1,!1,"",uT);return t._reactRootContainer=l,t[pi]=l.current,cc(t.nodeType===8?t.parentNode:t),vo(function(){Pp(e,l,n,r)}),l}function xp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Of(o);a.call(l)}}Pp(e,o,t,i)}else o=cV(n,e,t,i,r);return Of(o)}Xb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wu(e.pendingLanes);n!==0&&(wv(e,n|1),En(e,lt()),!(ye&6)&&(Ba=lt()+500,Cs()))}break;case 13:vo(function(){var r=mi(t,1);if(r!==null){var i=an();fr(r,t,1,i)}}),Zv(t,1)}};Ev=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=an();fr(e,t,134217728,n)}Zv(t,134217728)}};Zb=function(t){if(t.tag===13){var e=ss(t),n=mi(t,e);if(n!==null){var r=an();fr(n,t,e,r)}Zv(t,e)}};eR=function(){return Re};tR=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Iy=function(t,e,n){switch(e){case"input":if(my(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ep(r);if(!i)throw Error(q(90));Ob(r),my(r,i)}}}break;case"textarea":Db(t,n);break;case"select":e=n.value,e!=null&&Ea(t,!!n.multiple,e,!1)}};Bb=Gv;$b=vo;var dV={usingClientEntryPoint:!1,Events:[Gc,ha,Ep,Ub,jb,Gv]},eu={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hV={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qb(t),t===null?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||uV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{yp=lh.inject(hV),Lr=lh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dV;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(e))throw Error(q(200));return lV(t,e,null,n)};Un.createRoot=function(t,e){if(!t0(t))throw Error(q(299));var n=!1,r="",i=TA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xv(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,cc(t.nodeType===8?t.parentNode:t),new e0(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=qb(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return vo(t)};Un.hydrate=function(t,e,n){if(!kp(e))throw Error(q(200));return xp(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!t0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IA(e,null,t,1,n??null,i,!1,s,o),t[pi]=e.current,cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cp(e)};Un.render=function(t,e,n){if(!kp(e))throw Error(q(200));return xp(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!kp(t))throw Error(q(40));return t._reactRootContainer?(vo(function(){xp(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};Un.unstable_batchedUpdates=Gv;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kp(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return xp(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function SA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SA)}catch(t){console.error(t)}}SA(),Sb.exports=Un;var fV=Sb.exports,bA,cT=fV;bA=cT.createRoot,cT.hydrateRoot;var RA={},Op={},n0={},Ng={},AA={exports:{}},pV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mV=pV,gV=mV;function PA(){}function CA(){}CA.resetWarningCache=PA;var yV=function(){function t(r,i,s,o,a,l){if(l!==gV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CA,resetWarningCache:PA};return n.PropTypes=n,n};AA.exports=yV();var kA=AA.exports;const qe=av(kA);var dT;function _V(){return dT||(dT=1,function(t){(function(e,n){n(t,V,kA)})(ov,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=_;var i=o(n),s=o(r);function o(v){return v&&v.__esModule?v:{default:v}}var a=Object.assign||function(v){for(var I=1;I<arguments.length;I++){var k=arguments[I];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(v[x]=k[x])}return v};function l(v,I){var k={};for(var x in v)I.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(v,x)&&(k[x]=v[x]);return k}function u(v,I){if(!(v instanceof I))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(I,k){for(var x=0;x<k.length;x++){var D=k[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,k,x){return k&&v(I.prototype,k),x&&v(I,x),I}}();function h(v,I){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:v}function f(v,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);v.prototype=Object.create(I&&I.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(v,I):v.__proto__=I)}var m=!1;function _(v){m=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){_(!0)}}))}catch{}function w(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?v:v.capture}function T(v){if("touches"in v){var I=v.touches[0],k=I.pageX,x=I.pageY;return{x:k,y:x}}var D=v.screenX,b=v.screenY;return{x:D,y:b}}var E=function(v){f(I,v);function I(){var k;u(this,I);for(var x=arguments.length,D=Array(x),b=0;b<x;b++)D[b]=arguments[b];var S=h(this,(k=I.__proto__||Object.getPrototypeOf(I)).call.apply(k,[this].concat(D)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return d(I,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(x){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(x))}},{key:"_onMouseMove",value:function(x){this.mouseDown&&this._handleSwipeMove(x)}},{key:"_onMouseUp",value:function(x){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(x)}},{key:"_handleSwipeStart",value:function(x){var D=T(x),b=D.x,S=D.y;this.moveStart={x:b,y:S},this.props.onSwipeStart(x)}},{key:"_handleSwipeMove",value:function(x){if(this.moveStart){var D=T(x),b=D.x,S=D.y,A=b-this.moveStart.x,g=S-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:A,y:g},x);P&&x.cancelable&&x.preventDefault(),this.movePosition={deltaX:A,deltaY:g}}}},{key:"_handleSwipeEnd",value:function(x){this.props.onSwipeEnd(x);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,x):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,x),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,x):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,x)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(x){this.swiper=x,this.props.innerRef(x)}},{key:"render",value:function(){var x=this.props;x.tagName;var D=x.className,b=x.style,S=x.children;x.allowMouseEvents,x.onSwipeUp,x.onSwipeDown,x.onSwipeLeft,x.onSwipeRight,x.onSwipeStart,x.onSwipeMove,x.onSwipeEnd,x.innerRef,x.tolerance;var A=l(x,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:b},A),S)}}]),I}(n.Component);E.displayName="ReactSwipe",E.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},E.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=E})}(Ng)),Ng}(function(t){(function(e,n){n(t,_V())})(ov,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(n0);var Jc={},xA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(xA);var vV=xA.exports;Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=void 0;var Mi=wV(vV);function wV(t){return t&&t.__esModule?t:{default:t}}function EV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IV={ROOT:function(e){return(0,Mi.default)(EV({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Mi.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Mi.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Mi.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Mi.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Mi.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Mi.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Mi.default)({dot:!0,selected:e})}};Jc.default=IV;var Yc={},Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.outerWidth=void 0;var TV=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Np.outerWidth=TV;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.default=void 0;var SV=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};fl.default=SV;var Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.default=void 0;var bV=function(){return window};Xc.default=bV;Object.defineProperty(Yc,"__esModule",{value:!0});Yc.default=void 0;var or=PV(V),zs=Dp(Jc),RV=Np,hT=Dp(fl),AV=Dp(n0),uh=Dp(Xc);function Dp(t){return t&&t.__esModule?t:{default:t}}function OA(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return OA=function(){return t},t}function PV(t){if(t&&t.__esModule)return t;if(t===null||Bu(t)!=="object"&&typeof t!="function")return{default:t};var e=OA();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Bu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(n){return typeof n}:Bu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bu(t)}function t_(){return t_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function CV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xV(t,e,n){return e&&kV(t.prototype,e),t}function OV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},n_(t,e)}function NV(t){var e=VV();return function(){var r=Nf(t),i;if(e){var s=Nf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return DV(this,i)}}function DV(t,e){return e&&(Bu(e)==="object"||typeof e=="function")?e:nn(t)}function nn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LV=function(e){return e.hasOwnProperty("key")},r0=function(t){OV(n,t);var e=NV(n);function n(r){var i;return CV(this,n),i=e.call(this,r),Ht(nn(i),"itemsWrapperRef",void 0),Ht(nn(i),"itemsListRef",void 0),Ht(nn(i),"thumbsRef",void 0),Ht(nn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Ht(nn(i),"setItemsListRef",function(s){i.itemsListRef=s}),Ht(nn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Ht(nn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=or.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,RV.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,d=u?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:u}})}}),Ht(nn(i),"handleClickItem",function(s,o,a){if(!LV(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Ht(nn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Ht(nn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Ht(nn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=or.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(l-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){i.itemsListRef.style[_]=(0,hT.default)(m,"%",i.props.axis)}),!0}),Ht(nn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Ht(nn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Ht(nn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return xV(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,uh.default)().addEventListener("resize",this.updateSizes),(0,uh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,uh.default)().removeEventListener("resize",this.updateSizes),(0,uh.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=zs.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return or.default.createElement("li",t_({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=or.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),d=(0,hT.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},or.default.createElement("div",{className:zs.default.CAROUSEL(!1)},or.default.createElement("div",{className:zs.default.WRAPPER(!1),ref:this.setItemsWrapperRef},or.default.createElement("button",{type:"button",className:zs.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?or.default.createElement(AV.default,{tagName:"ul",className:zs.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):or.default.createElement("ul",{className:zs.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:l},this.renderItems()),or.default.createElement("button",{type:"button",className:zs.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(or.Component);Yc.default=r0;Ht(r0,"displayName","Thumbs");Ht(r0,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=void 0;var MV=function(){return document};Vp.default=MV;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.setPosition=Cn.getPosition=Cn.isKeyboardEvent=Cn.defaultStatusFormatter=Cn.noop=void 0;var FV=V,UV=jV(fl);function jV(t){return t&&t.__esModule?t:{default:t}}var BV=function(){};Cn.noop=BV;var $V=function(e,n){return"".concat(e," of ").concat(n)};Cn.defaultStatusFormatter=$V;var zV=function(e){return e?e.hasOwnProperty("key"):!1};Cn.isKeyboardEvent=zV;var WV=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=FV.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};Cn.getPosition=WV;var qV=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,UV.default)(e,"%",n)}),r};Cn.setPosition=qV;var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.fadeAnimationHandler=xr.slideStopSwipingHandler=xr.slideSwipeAnimationHandler=xr.slideAnimationHandler=void 0;var NA=V,HV=KV(fl),Or=Cn;function KV(t){return t&&t.__esModule?t:{default:t}}function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){GV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QV=function(e,n){var r={},i=n.selectedItem,s=i,o=NA.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Or.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Or.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Or.setPosition)(0,e.axis)),r;var l=(0,Or.getPosition)(i,e),u=(0,HV.default)(l,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=Qs(Qs({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};xr.slideAnimationHandler=QV;var JV=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=NA.Children.count(n.children),l=0,u=(0,Or.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,Or.getPosition)(a-1,n)-100:(0,Or.getPosition)(a-1,n),h=o?e.x:e.y,f=h;u===l&&h>0&&(f=0),u===d&&h<0&&(f=0);var m=u+100/(r.itemSize/f),_=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&_&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||_||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Or.setPosition)(m,n.axis)),_&&!r.cancelClick&&i({cancelClick:!0}),s};xr.slideSwipeAnimationHandler=JV;var YV=function(e,n){var r=(0,Or.getPosition)(n.selectedItem,e),i=(0,Or.setPosition)(r,e.axis);return{itemListStyle:i}};xr.slideStopSwipingHandler=YV;var XV=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=Qs(Qs({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:Qs(Qs({},s),{},{opacity:1,position:"relative"}),prevStyle:Qs({},s)}};xr.fadeAnimationHandler=XV;Object.defineProperty(Op,"__esModule",{value:!0});Op.default=void 0;var Se=tL(V),ZV=Zc(n0),ni=Zc(Jc),eL=Zc(Yc),ch=Zc(Vp),dh=Zc(Xc),Iu=Cn,Df=xr;function Zc(t){return t&&t.__esModule?t:{default:t}}function DA(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return DA=function(){return t},t}function tL(t){if(t&&t.__esModule)return t;if(t===null||$u(t)!=="object"&&typeof t!="function")return{default:t};var e=DA();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function $u(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(n){return typeof n}:$u=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$u(t)}function r_(){return r_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iL(t,e,n){return e&&rL(t.prototype,e),t}function sL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},i_(t,e)}function oL(t){var e=lL();return function(){var r=Vf(t),i;if(e){var s=Vf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aL(this,i)}}function aL(t,e){return e&&($u(e)==="object"||typeof e=="function")?e:ue(t)}function ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(t)}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i0=function(t){sL(n,t);var e=oL(n);function n(r){var i;nL(this,n),i=e.call(this,r),ae(ue(i),"thumbsRef",void 0),ae(ue(i),"carouselWrapperRef",void 0),ae(ue(i),"listRef",void 0),ae(ue(i),"itemsRef",void 0),ae(ue(i),"timer",void 0),ae(ue(i),"animationHandler",void 0),ae(ue(i),"setThumbsRef",function(o){i.thumbsRef=o}),ae(ue(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),ae(ue(i),"setListRef",function(o){i.listRef=o}),ae(ue(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),ae(ue(i),"autoPlay",function(){Se.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),ae(ue(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),ae(ue(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),ae(ue(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),ae(ue(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),ae(ue(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,ch.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,ch.default)().activeElement)):!1}),ae(ue(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=l?u.ArrowRight:u.ArrowDown,h=l?u.ArrowLeft:u.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),ae(ue(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),ae(ue(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),ae(ue(i),"handleClickItem",function(o,a){if(Se.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),ae(ue(i),"handleOnChange",function(o,a){Se.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),ae(ue(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),ae(ue(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),ae(ue(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),ae(ue(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(ue(i)));return i.setState(ar({},l)),!!Object.keys(l).length}),ae(ue(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),ae(ue(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),ae(ue(i),"moveTo",function(o){if(typeof o=="number"){var a=Se.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),ae(ue(i),"onClickNext",function(){i.increment(1)}),ae(ue(i),"onClickPrev",function(){i.decrement(1)}),ae(ue(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ae(ue(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ae(ue(i),"changeItem",function(o){return function(a){(!(0,Iu.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),ae(ue(i),"selectItem",function(o){i.setState(ar({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Se.Children.toArray(i.props.children)[o.selectedItem])}),ae(ue(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),ae(ue(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var d=function m(){i.forceUpdate(),u.removeEventListener("load",m)};u.addEventListener("load",d)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Df.fadeAnimationHandler||Df.slideAnimationHandler,i.state=ar(ar({},s),i.animationHandler(r,s)),i}return iL(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(ar({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Se.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,dh.default)().addEventListener("resize",this.updateSizes),(0,dh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,ch.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,dh.default)().removeEventListener("resize",this.updateSizes),(0,dh.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,ch.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Se.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,d=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=ar(ar({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=ar(ar({},d),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:ni.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return Se.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?Se.default.createElement("ul",{className:"control-dots"},Se.Children.map(u,function(d,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Se.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Se.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Se.Children.count(this.props.children)===0?null:Se.default.createElement(eL.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Se.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Se.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Se.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<Se.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),m={className:ni.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var w=this.getVariableItemHeight(this.state.selectedItem);_.height=w||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=ar(ar({},m.style),{},{height:this.state.itemSize}),_.height=this.state.itemSize;return Se.default.createElement("div",{"aria-label":this.props.ariaLabel,className:ni.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Se.default.createElement("div",{className:ni.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Se.default.createElement("div",{className:ni.default.WRAPPER(!0,this.props.axis),style:_},s?Se.default.createElement(ZV.default,r_({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):Se.default.createElement("ul",{className:ni.default.SLIDER(!0,this.state.swiping),ref:function(E){return i.setListRef(E)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Se.default.Component);Op.default=i0;ae(i0,"displayName","Carousel");ae(i0,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Iu.noop,onClickThumb:Iu.noop,onChange:Iu.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Se.default.createElement("button",{type:"button","aria-label":r,className:ni.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Se.default.createElement("button",{type:"button","aria-label":r,className:ni.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Se.default.createElement("li",{className:ni.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Se.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Se.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Iu.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Df.slideSwipeAnimationHandler,stopSwipingHandler:Df.slideStopSwipingHandler});var uL={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Op),n=uL,r=i(Yc);function i(s){return s&&s.__esModule?s:{default:s}}})(RA);const cL="_hero_img_13f19_1",dL={hero_img:cL},hL="/assets/10001-bl35EseN.jpg",fL="/assets/10002-BRftKkGe.jpg",pL="/assets/10003-CQUPWWP_.jpg",mL="/assets/10004-Fp0oaH3y.jpg",gL="/assets/10005-CxK7DcDb.jpg",yL=[hL,fL,pL,mL,gL];function _L(){return O.jsxs("div",{children:[O.jsx(RA.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:yL.map((t,e)=>O.jsx("img",{src:t,alt:""},e))}),O.jsx("div",{className:dL.hero_img})]})}const vL="_category_1ulcn_1",wL="_category_container_1ulcn_51",VA={category:vL,category_container:wL},EL=[{title:"Electronics",name:"electronics",imgLink:"https://5.imimg.com/data5/XL/RM/DB/SELLER-16425730/home-appliances-500x500.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/91Zu+hBrNOL._AC_SX569_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}];var s0={};Object.defineProperty(s0,"__esModule",{value:!0});s0.parse=PL;s0.serialize=CL;const IL=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,TL=/^[\u0021-\u003A\u003C-\u007E]*$/,SL=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,bL=/^[\u0020-\u003A\u003D-\u007E]*$/,RL=Object.prototype.toString,AL=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function PL(t,e){const n=new AL,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||kL;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=mT(t,s,o),d=gT(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=mT(t,o+1,l),m=gT(t,l,f);const _=i(t.slice(f,m));n[h]=_}s=l+1}while(s<r);return n}function mT(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function gT(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function CL(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!IL.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!TL.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!SL.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!bL.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!xL(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function kL(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function xL(t){return RL.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yT="popstate";function OL(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return s_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vc(i)}return DL(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NL(){return Math.random().toString(36).substring(2,10)}function _T(t,e){return{usr:t.state,key:t.key,idx:e}}function s_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:n,key:e&&e.key||r||NL()}}function vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DL(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let T=d(),E=T==null?null:T-u;u=T,l&&l({action:a,location:w.location,delta:E})}function f(T,E){a="PUSH";let v=s_(w.location,T,E);u=d()+1;let I=_T(v,u),k=w.createHref(v);try{o.pushState(I,"",k)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function m(T,E){a="REPLACE";let v=s_(w.location,T,E);u=d();let I=_T(v,u),k=w.createHref(v);o.replaceState(I,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function _(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:vc(T);return v=v.replace(/ $/,"%20"),Ge(E,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,E)}let w={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yT,h),l=T,()=>{i.removeEventListener(yT,h),l=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let E=_(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:m,go(T){return o.go(T)}};return w}function LA(t,e,n="/"){return VL(t,e,n,!1)}function VL(t,e,n,r){let i=typeof e=="string"?pl(e):e,s=hs(i.pathname||"/",n);if(s==null)return null;let o=MA(t);LL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=KL(s);a=qL(o[l],u,r)}return a}function MA(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=di([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),MA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:zL(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of FA(s.path))i(s,o,l)}),e}function FA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=FA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ML=/^:[\w-]+$/,FL=3,UL=2,jL=1,BL=10,$L=-2,vT=t=>t==="*";function zL(t,e){let n=t.split("/"),r=n.length;return n.some(vT)&&(r+=$L),e&&(r+=UL),n.filter(i=>!vT(i)).reduce((i,s)=>i+(ML.test(s)?FL:s===""?jL:BL),r)}function WL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qL(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Lf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Lf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:di([s,h.pathname]),pathnameBase:YL(di([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=di([s,h.pathnameBase]))}return o}function Lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function HL(t,e=!1,n=!0){ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ks(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:QL(n,e):e,search:XL(r),hash:ZL(i)}}function QL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UA(t){let e=JL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jA(t,e,n,r=!1){let i;typeof t=="string"?i=pl(t):(i={...t},Ge(!i.pathname||!i.pathname.includes("?"),Dg("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),Dg("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),Dg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=GL(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var di=t=>t.join("/").replace(/\/\/+/g,"/"),YL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var BA=["POST","PUT","PATCH","DELETE"];new Set(BA);var tM=["GET",...BA];new Set(tM);var ml=V.createContext(null);ml.displayName="DataRouter";var Lp=V.createContext(null);Lp.displayName="DataRouterState";var $A=V.createContext({isTransitioning:!1});$A.displayName="ViewTransition";var nM=V.createContext(new Map);nM.displayName="Fetchers";var rM=V.createContext(null);rM.displayName="Await";var Hr=V.createContext(null);Hr.displayName="Navigation";var ed=V.createContext(null);ed.displayName="Location";var Kr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var o0=V.createContext(null);o0.displayName="RouteError";function iM(t,{relative:e}={}){Ge(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Hr),{hash:i,pathname:s,search:o}=nd(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:di([n,s])),r.createHref({pathname:a,search:o,hash:i})}function td(){return V.useContext(ed)!=null}function xs(){return Ge(td(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(ed).location}var zA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WA(t){V.useContext(Hr).static||V.useLayoutEffect(t)}function Mp(){let{isDataRoute:t}=V.useContext(Kr);return t?yM():sM()}function sM(){Ge(td(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(ml),{basename:e,navigator:n}=V.useContext(Hr),{matches:r}=V.useContext(Kr),{pathname:i}=xs(),s=JSON.stringify(UA(r)),o=V.useRef(!1);return WA(()=>{o.current=!0}),V.useCallback((l,u={})=>{if(ks(o.current,zA),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=jA(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:di([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}V.createContext(null);function qA(){let{matches:t}=V.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function nd(t,{relative:e}={}){let{matches:n}=V.useContext(Kr),{pathname:r}=xs(),i=JSON.stringify(UA(n));return V.useMemo(()=>jA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function oM(t,e){return HA(t,e)}function HA(t,e,n,r){var w;Ge(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=V.useContext(Hr),{matches:s}=V.useContext(Kr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xs(),d;if(e){let T=typeof e=="string"?pl(e):e;Ge(l==="/"||((w=T.pathname)==null?void 0:w.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${T.pathname}" was given in the \`location\` prop.`),d=T}else d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let T=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let m=LA(t,{pathname:f}),_=dM(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:di([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:di([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&_?V.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function aM(){let t=gM(),e=eM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}var lM=V.createElement(aM,null),uM=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(Kr.Provider,{value:this.props.routeContext},V.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cM({routeContext:t,match:e,children:n}){let r=V.useContext(ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Kr.Provider,{value:t},n)}function dM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Ge(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,_=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||lM,o&&(a<0&&d===0?(_M("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,_=null):a===d&&(f=!0,_=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),T=()=>{let E;return h?E=m:f?E=_:u.route.Component?E=V.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,V.createElement(cM,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:E})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?V.createElement(uM,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function a0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hM(t){let e=V.useContext(ml);return Ge(e,a0(t)),e}function fM(t){let e=V.useContext(Lp);return Ge(e,a0(t)),e}function pM(t){let e=V.useContext(Kr);return Ge(e,a0(t)),e}function l0(t){let e=pM(t),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mM(){return l0("useRouteId")}function gM(){var r;let t=V.useContext(o0),e=fM("useRouteError"),n=l0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yM(){let{router:t}=hM("useNavigate"),e=l0("useNavigate"),n=V.useRef(!1);return WA(()=>{n.current=!0}),V.useCallback(async(i,s={})=>{ks(n.current,zA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var wT={};function _M(t,e,n){wT[t]||(wT[t]=!0,ks(!1,n))}V.memo(vM);function vM({routes:t,future:e,state:n}){return HA(t,void 0,n,e)}function $i(t){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ge(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=V.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=pl(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=V.useMemo(()=>{let _=hs(l,o);return _==null?null:{location:{pathname:_,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return ks(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:V.createElement(Hr.Provider,{value:a},V.createElement(ed.Provider,{children:e,value:m}))}function EM({children:t,location:e}){return oM(o_(t),e)}function o_(t,e=[]){let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,o_(r.props.children,s));return}Ge(r.type===$i,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=o_(r.props.children,s)),n.push(o)}),n}var Uh="get",jh="application/x-www-form-urlencoded";function Fp(t){return t!=null&&typeof t.tagName=="string"}function IM(t){return Fp(t)&&t.tagName.toLowerCase()==="button"}function TM(t){return Fp(t)&&t.tagName.toLowerCase()==="form"}function SM(t){return Fp(t)&&t.tagName.toLowerCase()==="input"}function bM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RM(t,e){return t.button===0&&(!e||e==="_self")&&!bM(t)}var hh=null;function AM(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var PM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(t){return t!=null&&!PM.has(t)?(ks(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):t}function CM(t,e){let n,r,i,s,o;if(TM(t)){let a=t.getAttribute("action");r=a?hs(a,e):null,n=t.getAttribute("method")||Uh,i=Vg(t.getAttribute("enctype"))||jh,s=new FormData(t)}else if(IM(t)||SM(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?hs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Uh,i=Vg(t.getAttribute("formenctype"))||Vg(a.getAttribute("enctype"))||jh,s=new FormData(a,t),!AM()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Fp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uh,r=null,i=jh,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function u0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function kM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await kM(s,n);return o.links?o.links():[]}return[]}));return LM(r.flat(1).filter(xM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ET(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function NM(t,e){return DM(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function DM(t){return[...new Set(t)]}function VM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(VM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function MM(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function FM(){let t=V.useContext(ml);return u0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UM(){let t=V.useContext(Lp);return u0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c0=V.createContext(void 0);c0.displayName="FrameworkContext";function KA(){let t=V.useContext(c0);return u0(t,"You must render this element inside a <HydratedRouter> element"),t}function jM(t,e){let n=V.useContext(c0),[r,i]=V.useState(!1),[s,o]=V.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=V.useRef(null);V.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=E=>{E.forEach(v=>{o(v.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[t]),V.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:tu(a,m),onBlur:tu(l,_),onMouseEnter:tu(u,m),onMouseLeave:tu(d,_),onTouchStart:tu(h,m)}]:[!1,f,{}]}function tu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function BM({page:t,...e}){let{router:n}=FM(),r=V.useMemo(()=>LA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(zM,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function $M(t){let{manifest:e,routeModules:n}=KA(),[r,i]=V.useState([]);return V.useEffect(()=>{let s=!1;return OM(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function zM({page:t,matches:e,...n}){let r=xs(),{manifest:i,routeModules:s}=KA(),{loaderData:o,matches:a}=UM(),l=V.useMemo(()=>ET(t,e,a,i,r,"data"),[t,e,a,i,r]),u=V.useMemo(()=>ET(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,_=!1;if(e.forEach(T=>{var v;let E=i.routes[T.route.id];!E||!E.hasLoader||(!l.some(I=>I.route.id===T.route.id)&&T.route.id in o&&((v=s[T.route.id])!=null&&v.shouldRevalidate)||E.hasClientLoader?_=!0:m.add(T.route.id))}),m.size===0)return[];let w=MM(t);return _&&m.size>0&&w.searchParams.set("_routes",e.filter(T=>m.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[o,r,i,l,e,t,s]),h=V.useMemo(()=>NM(u,i),[u,i]),f=$M(u);return V.createElement(V.Fragment,null,d.map(m=>V.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>V.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:_})=>V.createElement("link",{key:m,..._})))}function WM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GA&&(window.__reactRouterVersion="7.0.1")}catch{}function qM({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=OL({window:n,v5Compat:!0}));let i=r.current,[s,o]=V.useState({action:i.action,location:i.location}),a=V.useCallback(l=>{V.startTransition(()=>o(l))},[o]);return V.useLayoutEffect(()=>i.listen(a),[i,a]),V.createElement(wM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var QA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:_}=V.useContext(Hr),w=typeof u=="string"&&QA.test(u),T,E=!1;if(typeof u=="string"&&w&&(T=u,GA))try{let A=new URL(window.location.href),g=u.startsWith("//")?new URL(A.protocol+u):new URL(u),P=hs(g.pathname,_);g.origin===A.origin&&P!=null?u=P+g.search+g.hash:E=!0}catch{ks(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=iM(u,{relative:i}),[I,k,x]=jM(r,f),D=QM(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(A){e&&e(A),A.defaultPrevented||D(A)}let S=V.createElement("a",{...f,...x,href:T||v,onClick:E||s?e:b,ref:WM(m,k),target:l,"data-discover":!w&&n==="render"?"true":void 0});return I&&!w?V.createElement(V.Fragment,null,S,V.createElement(BM,{page:v})):S});dr.displayName="Link";var HM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=nd(o,{relative:u.relative}),f=xs(),m=V.useContext(Lp),{navigator:_,basename:w}=V.useContext(Hr),T=m!=null&&eF(h)&&a===!0,E=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,v=f.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(v=v.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&w&&(I=hs(I,w)||I);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let x=v===E||!i&&v.startsWith(E)&&v.charAt(k)==="/",D=I!=null&&(I===E||!i&&I.startsWith(E)&&I.charAt(E.length)==="/"),b={isActive:x,isPending:D,isTransitioning:T},S=x?e:void 0,A;typeof r=="function"?A=r(b):A=[r,x?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let g=typeof s=="function"?s(b):s;return V.createElement(dr,{...u,"aria-current":S,className:A,ref:d,style:g,to:o,viewTransition:a},typeof l=="function"?l(b):l)});HM.displayName="NavLink";var KM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Uh,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let _=XM(),w=ZM(a,{relative:u}),T=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&QA.test(a),v=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let k=I.nativeEvent.submitter,x=(k==null?void 0:k.getAttribute("formmethod"))||o;_(k||I.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return V.createElement("form",{ref:m,method:T,action:w,onSubmit:r?l:v,...f,"data-discover":!E&&t==="render"?"true":void 0})});KM.displayName="Form";function GM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(t){let e=V.useContext(ml);return Ge(e,GM(t)),e}function QM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Mp(),l=xs(),u=nd(t,{relative:s});return V.useCallback(d=>{if(RM(d,e)){d.preventDefault();let h=n!==void 0?n:vc(l)===vc(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var JM=0,YM=()=>`__${String(++JM)}__`;function XM(){let{router:t}=JA("useSubmit"),{basename:e}=V.useContext(Hr),n=mM();return V.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=CM(r,e);if(i.navigate===!1){let d=i.fetcherKey||YM();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZM(t,{relative:e}={}){let{basename:n}=V.useContext(Hr),r=V.useContext(Kr);Ge(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...nd(t||".",{relative:e})},o=xs();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:di([n,s.pathname])),vc(s)}function eF(t,e={}){let n=V.useContext($A);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JA("useViewTransitionState"),i=nd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lf(i.pathname,o)!=null||Lf(i.pathname,s)!=null}new TextEncoder;function tF({data:t}){return O.jsx("div",{className:VA.category,children:O.jsxs(dr,{to:`/category/${t.name}`,children:[O.jsx("span",{children:O.jsx("h2",{children:t.title})}),O.jsx("img",{src:t.imgLink,alt:""}),O.jsx("p",{children:"shop now"})]})})}function nF(){return O.jsx("section",{className:VA.category_container,children:EL.map((t,e)=>O.jsx(tF,{data:t},e))})}function YA(t,e){return function(){return t.apply(e,arguments)}}const{toString:rF}=Object.prototype,{getPrototypeOf:d0}=Object,Up=(t=>e=>{const n=rF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=t=>(t=t.toLowerCase(),e=>Up(e)===t),jp=t=>e=>typeof e===t,{isArray:gl}=Array,wc=jp("undefined");function iF(t){return t!==null&&!wc(t)&&t.constructor!==null&&!wc(t.constructor)&&Dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const XA=yr("ArrayBuffer");function sF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&XA(t.buffer),e}const oF=jp("string"),Dn=jp("function"),ZA=jp("number"),Bp=t=>t!==null&&typeof t=="object",aF=t=>t===!0||t===!1,Bh=t=>{if(Up(t)!=="object")return!1;const e=d0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lF=yr("Date"),uF=yr("File"),cF=yr("Blob"),dF=yr("FileList"),hF=t=>Bp(t)&&Dn(t.pipe),fF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dn(t.append)&&((e=Up(t))==="formdata"||e==="object"&&Dn(t.toString)&&t.toString()==="[object FormData]"))},pF=yr("URLSearchParams"),[mF,gF,yF,_F]=["ReadableStream","Request","Response","Headers"].map(yr),vF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),gl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function eP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tP=t=>!wc(t)&&t!==io;function a_(){const{caseless:t}=tP(this)&&this||{},e={},n=(r,i)=>{const s=t&&eP(e,i)||i;Bh(e[s])&&Bh(r)?e[s]=a_(e[s],r):Bh(r)?e[s]=a_({},r):gl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&rd(arguments[r],n);return e}const wF=(t,e,n,{allOwnKeys:r}={})=>(rd(e,(i,s)=>{n&&Dn(i)?t[s]=YA(i,n):t[s]=i},{allOwnKeys:r}),t),EF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},TF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&d0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},SF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},bF=t=>{if(!t)return null;if(gl(t))return t;let e=t.length;if(!ZA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},RF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&d0(Uint8Array)),AF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},PF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CF=yr("HTMLFormElement"),kF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),IT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xF=yr("RegExp"),nP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};rd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},OF=t=>{nP(t,(e,n)=>{if(Dn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Dn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},NF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return gl(t)?r(t):r(String(t).split(e)),n},DF=()=>{},VF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lg="abcdefghijklmnopqrstuvwxyz",TT="0123456789",rP={DIGIT:TT,ALPHA:Lg,ALPHA_DIGIT:Lg+Lg.toUpperCase()+TT},LF=(t=16,e=rP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function MF(t){return!!(t&&Dn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const FF=t=>{const e=new Array(10),n=(r,i)=>{if(Bp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=gl(r)?[]:{};return rd(r,(o,a)=>{const l=n(o,i+1);!wc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},UF=yr("AsyncFunction"),jF=t=>t&&(Bp(t)||Dn(t))&&Dn(t.then)&&Dn(t.catch),iP=((t,e)=>t?setImmediate:e?((n,r)=>(io.addEventListener("message",({source:i,data:s})=>{i===io&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Dn(io.postMessage)),BF=typeof queueMicrotask<"u"?queueMicrotask.bind(io):typeof process<"u"&&process.nextTick||iP,j={isArray:gl,isArrayBuffer:XA,isBuffer:iF,isFormData:fF,isArrayBufferView:sF,isString:oF,isNumber:ZA,isBoolean:aF,isObject:Bp,isPlainObject:Bh,isReadableStream:mF,isRequest:gF,isResponse:yF,isHeaders:_F,isUndefined:wc,isDate:lF,isFile:uF,isBlob:cF,isRegExp:xF,isFunction:Dn,isStream:hF,isURLSearchParams:pF,isTypedArray:RF,isFileList:dF,forEach:rd,merge:a_,extend:wF,trim:vF,stripBOM:EF,inherits:IF,toFlatObject:TF,kindOf:Up,kindOfTest:yr,endsWith:SF,toArray:bF,forEachEntry:AF,matchAll:PF,isHTMLForm:CF,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:nP,freezeMethods:OF,toObjectSet:NF,toCamelCase:kF,noop:DF,toFiniteNumber:VF,findKey:eP,global:io,isContextDefined:tP,ALPHABET:rP,generateString:LF,isSpecCompliantForm:MF,toJSONObject:FF,isAsyncFn:UF,isThenable:jF,setImmediate:iP,asap:BF};function se(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const sP=se.prototype,oP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oP[t]={value:t}});Object.defineProperties(se,oP);Object.defineProperty(sP,"isAxiosError",{value:!0});se.from=(t,e,n,r,i,s)=>{const o=Object.create(sP);return j.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),se.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const $F=null;function l_(t){return j.isPlainObject(t)||j.isArray(t)}function aP(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function ST(t,e,n){return t?t.concat(e).map(function(i,s){return i=aP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function zF(t){return j.isArray(t)&&!t.some(l_)}const WF=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function $p(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,T){return!j.isUndefined(T[w])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(j.isDate(_))return _.toISOString();if(!l&&j.isBlob(_))throw new se("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(_)||j.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,w,T){let E=_;if(_&&!T&&typeof _=="object"){if(j.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(j.isArray(_)&&zF(_)||(j.isFileList(_)||j.endsWith(w,"[]"))&&(E=j.toArray(_)))return w=aP(w),E.forEach(function(I,k){!(j.isUndefined(I)||I===null)&&e.append(o===!0?ST([w],k,s):o===null?w:w+"[]",u(I))}),!1}return l_(_)?!0:(e.append(ST(T,w,s),u(_)),!1)}const h=[],f=Object.assign(WF,{defaultVisitor:d,convertValue:u,isVisitable:l_});function m(_,w){if(!j.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(_),j.forEach(_,function(E,v){(!(j.isUndefined(E)||E===null)&&i.call(e,E,j.isString(v)?v.trim():v,w,f))===!0&&m(E,w?w.concat(v):[v])}),h.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return m(t),e}function bT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function h0(t,e){this._pairs=[],t&&$p(t,this,e)}const lP=h0.prototype;lP.append=function(e,n){this._pairs.push([e,n])};lP.toString=function(e){const n=e?function(r){return e.call(this,r,bT)}:bT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function qF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uP(t,e,n){if(!e)return t;const r=n&&n.encode||qF;j.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new h0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class RT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HF=typeof URLSearchParams<"u"?URLSearchParams:h0,KF=typeof FormData<"u"?FormData:null,GF=typeof Blob<"u"?Blob:null,QF={isBrowser:!0,classes:{URLSearchParams:HF,FormData:KF,Blob:GF},protocols:["http","https","file","blob","url","data"]},f0=typeof window<"u"&&typeof document<"u",u_=typeof navigator=="object"&&navigator||void 0,JF=f0&&(!u_||["ReactNative","NativeScript","NS"].indexOf(u_.product)<0),YF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XF=f0&&window.location.href||"http://localhost",ZF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f0,hasStandardBrowserEnv:JF,hasStandardBrowserWebWorkerEnv:YF,navigator:u_,origin:XF},Symbol.toStringTag,{value:"Module"})),Qt={...ZF,...QF};function e4(t,e){return $p(t,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Qt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function t4(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function n4(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function dP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,l?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=n4(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(t4(r),i,n,0)}),n}return null}function r4(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const id={transitional:cP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(dP(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return e4(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $p(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),r4(e)):e}],transformResponse:[function(e){const n=this.transitional||id.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{id.headers[t]={}});const i4=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&i4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},AT=Symbol("internals");function nu(t){return t&&String(t).trim().toLowerCase()}function $h(t){return t===!1||t==null?t:j.isArray(t)?t.map($h):String(t)}function o4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const a4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mg(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function l4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function u4(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class In{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=nu(l);if(!d)throw new Error("header name must be a non-empty string");const h=j.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=$h(a))}const o=(a,l)=>j.forEach(a,(u,d)=>s(u,d,l));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!a4(e))o(s4(e),n);else if(j.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=nu(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return o4(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nu(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Mg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=nu(o),o){const a=j.findKey(r,o);a&&(!n||Mg(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Mg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=$h(i),delete n[s];return}const a=e?l4(s):String(s).trim();a!==s&&delete n[s],n[a]=$h(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[AT]=this[AT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=nu(o);r[a]||(u4(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}}In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(In);function Fg(t,e){const n=this||id,r=e||n,i=In.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hP(t){return!!(t&&t.__CANCEL__)}function yl(t,e,n){se.call(this,t??"canceled",se.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(yl,se,{__CANCEL__:!0});function fP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function d4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function h4(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Mf=(t,e,n=3)=>{let r=0;const i=d4(50,250);return h4(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},PT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},CT=t=>(...e)=>j.asap(()=>t(...e)),f4=Qt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,p4=Qt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function m4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function g4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function pP(t,e){return t&&!m4(e)?g4(t,e):e}const kT=t=>t instanceof In?{...t}:t;function wo(t,e){e=e||{};const n={};function r(u,d,h,f){return j.isPlainObject(u)&&j.isPlainObject(d)?j.merge.call({caseless:f},u,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(u,d,h,f){if(j.isUndefined(d)){if(!j.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!j.isUndefined(d))return r(void 0,d)}function o(u,d){if(j.isUndefined(d)){if(!j.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(kT(u),kT(d),h,!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);j.isUndefined(f)&&h!==a||(n[d]=f)}),n}const mP=t=>{const e=wo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=In.from(o),e.url=uP(pP(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(j.isFormData(n)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Qt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&f4(e.url))){const u=i&&s&&p4.read(s);u&&o.set(i,u)}return e},y4=typeof XMLHttpRequest<"u",_4=y4&&function(t){return new Promise(function(n,r){const i=mP(t);let s=i.data;const o=In.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,_;function w(){m&&m(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function E(){if(!T)return;const I=In.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:t,request:T};fP(function(b){n(b),w()},function(b){r(b),w()},x),T=null}"onloadend"in T?T.onloadend=E:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(E)},T.onabort=function(){T&&(r(new se("Request aborted",se.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new se("Network Error",se.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||cP;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new se(k,x.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&j.forEach(o.toJSON(),function(k,x){T.setRequestHeader(x,k)}),j.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),u&&([f,_]=Mf(u,!0),T.addEventListener("progress",f)),l&&T.upload&&([h,m]=Mf(l),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=I=>{T&&(r(!I||I.type?new yl(null,t,T):I),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=c4(i.url);if(v&&Qt.protocols.indexOf(v)===-1){r(new se("Unsupported protocol "+v+":",se.ERR_BAD_REQUEST,t));return}T.send(s||null)})},v4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof se?d:new yl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>j.asap(a),l}},w4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},E4=async function*(t,e){for await(const n of I4(t))yield*w4(n,e)},I4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},xT=(t,e,n,r)=>{const i=E4(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},zp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gP=zp&&typeof ReadableStream=="function",T4=zp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),yP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},S4=gP&&yP(()=>{let t=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),OT=64*1024,c_=gP&&yP(()=>j.isReadableStream(new Response("").body)),Ff={stream:c_&&(t=>t.body)};zp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ff[e]&&(Ff[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new se(`Response type '${e}' is not supported`,se.ERR_NOT_SUPPORT,r)})})})(new Response);const b4=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(Qt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await T4(t)).byteLength},R4=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??b4(e)},A4=zp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=mP(t);u=u?(u+"").toLowerCase():"text";let m=v4([i,s&&s.toAbortSignal()],o),_;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let T;try{if(l&&S4&&n!=="get"&&n!=="head"&&(T=await R4(d,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(j.isFormData(r)&&(D=x.headers.get("content-type"))&&d.setContentType(D),x.body){const[b,S]=PT(T,Mf(CT(l)));r=xT(x.body,OT,b,S)}}j.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;_=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:E?h:void 0});let v=await fetch(_);const I=c_&&(u==="stream"||u==="response");if(c_&&(a||I&&w)){const x={};["status","statusText","headers"].forEach(A=>{x[A]=v[A]});const D=j.toFiniteNumber(v.headers.get("content-length")),[b,S]=a&&PT(D,Mf(CT(a),!0))||[];v=new Response(xT(v.body,OT,b,()=>{S&&S(),w&&w()}),x)}u=u||"text";let k=await Ff[j.findKey(Ff,u)||"text"](v,t);return!I&&w&&w(),await new Promise((x,D)=>{fP(x,D,{data:k,headers:In.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:_})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,t,_),{cause:E.cause||E}):se.from(E,E&&E.code,t,_)}}),d_={http:$F,xhr:_4,fetch:A4};j.forEach(d_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const NT=t=>`- ${t}`,P4=t=>j.isFunction(t)||t===null||t===!1,_P={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!P4(n)&&(r=d_[(o=String(n)).toLowerCase()],r===void 0))throw new se(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(NT).join(`
`):" "+NT(s[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:d_};function Ug(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yl(null,t)}function DT(t){return Ug(t),t.headers=In.from(t.headers),t.data=Fg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_P.getAdapter(t.adapter||id.adapter)(t).then(function(r){return Ug(t),r.data=Fg.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return hP(r)||(Ug(t),r&&r.response&&(r.response.data=Fg.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const vP="1.7.8",Wp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const VT={};Wp.transitional=function(e,n,r){function i(s,o){return"[Axios v"+vP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new se(i(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!VT[o]&&(VT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Wp.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function C4(t,e,n){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new se("option "+s+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}}const zh={assertOptions:C4,validators:Wp},Er=zh.validators;class co{constructor(e){this.defaults=e,this.interceptors={request:new RT,response:new RT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=wo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&zh.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:zh.assertOptions(i,{encode:Er.function,serialize:Er.function},!0)),zh.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=In.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,f;if(!l){const _=[DT.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),f=_.length,d=Promise.resolve(n);h<f;)d=d.then(_[h++],_[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const _=a[h++],w=a[h++];try{m=_(m)}catch(T){w.call(this,T);break}}try{d=DT.call(this,m)}catch(_){return Promise.reject(_)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wo(this.defaults,e);const n=pP(e.baseURL,e.url);return uP(n,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){co.prototype[e]=function(n,r){return this.request(wo(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(wo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}co.prototype[e]=n(),co.prototype[e+"Form"]=n(!0)});class p0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new yl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new p0(function(i){e=i}),cancel:e}}}function k4(t){return function(n){return t.apply(null,n)}}function x4(t){return j.isObject(t)&&t.isAxiosError===!0}const h_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(h_).forEach(([t,e])=>{h_[e]=t});function wP(t){const e=new co(t),n=YA(co.prototype.request,e);return j.extend(n,co.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wP(wo(t,i))},n}const Ye=wP(id);Ye.Axios=co;Ye.CanceledError=yl;Ye.CancelToken=p0;Ye.isCancel=hP;Ye.VERSION=vP;Ye.toFormData=$p;Ye.AxiosError=se;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=k4;Ye.isAxiosError=x4;Ye.mergeConfig=wo;Ye.AxiosHeaders=In;Ye.formToJSON=t=>dP(j.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=_P.getAdapter;Ye.HttpStatusCode=h_;Ye.default=Ye;const O4="_card_container_16vxp_1",N4="_button_16vxp_17",D4="_rating_16vxp_69",V4="_products_container_16vxp_79",L4="_product_flexed_16vxp_95",Tu={card_container:O4,button:N4,rating:D4,products_container:V4,product_flexed:L4};function EP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=EP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zu(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=EP(t))&&(r&&(r+=" "),r+=e);return r}function IP(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const M4={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function TP(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}const F4=V.createContext(),U4=()=>V.useContext(F4)??!1;function LT(t){try{return t.matches(":focus-visible")}catch{}return!1}function ri(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function SP(t){if(V.isValidElement(t)||!ri(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=SP(t[n])}),e}function Vn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ri(t)&&ri(e)&&Object.keys(e).forEach(i=>{V.isValidElement(e[i])?r[i]=e[i]:ri(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ri(t[i])?r[i]=Vn(t[i],e[i],n):n.clone?r[i]=ri(e[i])?SP(e[i]):e[i]:r[i]=e[i]}),r}function Eo(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function fs(t){if(typeof t!="string")throw new Error(Eo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function j4(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let MT=0;function B4(t){const[e,n]=V.useState(t),r=t||e;return V.useEffect(()=>{e==null&&(MT+=1,n(`mui-${MT}`))},[e]),r}const $4={...ly},FT=$4.useId;function bP(t){if(FT!==void 0){const e=FT();return t??e}return B4(t)}function z4({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=V.useRef(t!==void 0),[s,o]=V.useState(e),a=i?t:s,l=V.useCallback(u=>{i||o(u)},[]);return[a,l]}function W4(...t){return V.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{j4(n,e)})},t)}function f_(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=f_(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const UT=t=>t,q4=()=>{let t=UT;return{configure(e){t=e},generate(e){return t(e)},reset(){t=UT}}},H4=q4(),K4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function m0(t,e,n="Mui"){const r=K4[e];return r?`${n}-${r}`:`${H4.generate(t)}-${e}`}function RP(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=m0(t,i,n)}),r}function Wu(t,e){return e?Vn(t,e,{clone:!1}):t}function G4(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Q4(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function J4(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function Y4(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const qp={xs:0,sm:600,md:900,lg:1200,xl:1536},jT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${qp[t]}px)`},X4={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:qp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function yi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||jT;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||jT;return Object.keys(e).reduce((o,a)=>{if(Q4(s.keys,a)){const l=J4(r.containerQueries?r:X4,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||qp).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Z4(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function eU(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Hp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Uf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Hp(t,n)||r,e&&(i=e(i,r,t)),i}function ht(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Hp(l,r)||{};return yi(o,a,h=>{let f=Uf(u,i,h);return h===f&&typeof h=="string"&&(f=Uf(u,i,`${e}${h==="default"?"":fs(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function tU(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const nU={m:"margin",p:"padding"},rU={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},iU=tU(t=>{if(t.length>2)if(BT[t])t=BT[t];else return[t];const[e,n]=t.split(""),r=nU[e],i=rU[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),g0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],y0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...g0,...y0];function sd(t,e,n,r){const i=Hp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function _0(t){return sd(t,"spacing",8)}function od(t,e){return typeof e=="string"||e==null?e:t(e)}function sU(t,e){return n=>t.reduce((r,i)=>(r[i]=od(e,n),r),{})}function oU(t,e,n,r){if(!e.includes(n))return null;const i=iU(n),s=sU(i,r),o=t[n];return yi(t,o,s)}function AP(t,e){const n=_0(t.theme);return Object.keys(t).map(r=>oU(t,e,r,n)).reduce(Wu,{})}function tt(t){return AP(t,g0)}tt.propTypes={};tt.filterProps=g0;function nt(t){return AP(t,y0)}nt.propTypes={};nt.filterProps=y0;function Kp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Wu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Wn(t){return typeof t!="number"?t:`${t}px solid`}function Zn(t,e){return ht({prop:t,themeKey:"borders",transform:e})}const aU=Zn("border",Wn),lU=Zn("borderTop",Wn),uU=Zn("borderRight",Wn),cU=Zn("borderBottom",Wn),dU=Zn("borderLeft",Wn),hU=Zn("borderColor"),fU=Zn("borderTopColor"),pU=Zn("borderRightColor"),mU=Zn("borderBottomColor"),gU=Zn("borderLeftColor"),yU=Zn("outline",Wn),_U=Zn("outlineColor"),Gp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=sd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:od(e,r)});return yi(t,t.borderRadius,n)}return null};Gp.propTypes={};Gp.filterProps=["borderRadius"];Kp(aU,lU,uU,cU,dU,hU,fU,pU,mU,gU,Gp,yU,_U);const Qp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=sd(t.theme,"spacing",8),n=r=>({gap:od(e,r)});return yi(t,t.gap,n)}return null};Qp.propTypes={};Qp.filterProps=["gap"];const Jp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=sd(t.theme,"spacing",8),n=r=>({columnGap:od(e,r)});return yi(t,t.columnGap,n)}return null};Jp.propTypes={};Jp.filterProps=["columnGap"];const Yp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=sd(t.theme,"spacing",8),n=r=>({rowGap:od(e,r)});return yi(t,t.rowGap,n)}return null};Yp.propTypes={};Yp.filterProps=["rowGap"];const vU=ht({prop:"gridColumn"}),wU=ht({prop:"gridRow"}),EU=ht({prop:"gridAutoFlow"}),IU=ht({prop:"gridAutoColumns"}),TU=ht({prop:"gridAutoRows"}),SU=ht({prop:"gridTemplateColumns"}),bU=ht({prop:"gridTemplateRows"}),RU=ht({prop:"gridTemplateAreas"}),AU=ht({prop:"gridArea"});Kp(Qp,Jp,Yp,vU,wU,EU,IU,TU,SU,bU,RU,AU);function Aa(t,e){return e==="grey"?e:t}const PU=ht({prop:"color",themeKey:"palette",transform:Aa}),CU=ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Aa}),kU=ht({prop:"backgroundColor",themeKey:"palette",transform:Aa});Kp(PU,CU,kU);function kn(t){return t<=1&&t!==0?`${t*100}%`:t}const xU=ht({prop:"width",transform:kn}),v0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||qp[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:kn(n)}};return yi(t,t.maxWidth,e)}return null};v0.filterProps=["maxWidth"];const OU=ht({prop:"minWidth",transform:kn}),NU=ht({prop:"height",transform:kn}),DU=ht({prop:"maxHeight",transform:kn}),VU=ht({prop:"minHeight",transform:kn});ht({prop:"size",cssProperty:"width",transform:kn});ht({prop:"size",cssProperty:"height",transform:kn});const LU=ht({prop:"boxSizing"});Kp(xU,v0,OU,NU,DU,VU,LU);const Xp={border:{themeKey:"borders",transform:Wn},borderTop:{themeKey:"borders",transform:Wn},borderRight:{themeKey:"borders",transform:Wn},borderBottom:{themeKey:"borders",transform:Wn},borderLeft:{themeKey:"borders",transform:Wn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gp},color:{themeKey:"palette",transform:Aa},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Aa},backgroundColor:{themeKey:"palette",transform:Aa},p:{style:nt},pt:{style:nt},pr:{style:nt},pb:{style:nt},pl:{style:nt},px:{style:nt},py:{style:nt},padding:{style:nt},paddingTop:{style:nt},paddingRight:{style:nt},paddingBottom:{style:nt},paddingLeft:{style:nt},paddingX:{style:nt},paddingY:{style:nt},paddingInline:{style:nt},paddingInlineStart:{style:nt},paddingInlineEnd:{style:nt},paddingBlock:{style:nt},paddingBlockStart:{style:nt},paddingBlockEnd:{style:nt},m:{style:tt},mt:{style:tt},mr:{style:tt},mb:{style:tt},ml:{style:tt},mx:{style:tt},my:{style:tt},margin:{style:tt},marginTop:{style:tt},marginRight:{style:tt},marginBottom:{style:tt},marginLeft:{style:tt},marginX:{style:tt},marginY:{style:tt},marginInline:{style:tt},marginInlineStart:{style:tt},marginInlineEnd:{style:tt},marginBlock:{style:tt},marginBlockStart:{style:tt},marginBlockEnd:{style:tt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qp},rowGap:{style:Yp},columnGap:{style:Jp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:kn},maxWidth:{style:v0},minWidth:{transform:kn},height:{transform:kn},maxHeight:{transform:kn},minHeight:{transform:kn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function MU(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function FU(t,e){return typeof t=="function"?t(e):t}function UU(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=Hp(i,u)||{};return h?h(o):yi(o,r,_=>{let w=Uf(f,d,_);return _===w&&typeof _=="string"&&(w=Uf(f,d,`${n}${_==="default"?"":fs(_)}`,_)),l===!1?w:{[l]:w}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Xp;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=Z4(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const m=FU(l[f],i);if(m!=null)if(typeof m=="object")if(s[f])h=Wu(h,t(f,m,i,s));else{const _=yi({theme:i},m,w=>({[f]:w}));MU(_,m)?h[f]=e({sx:m,theme:i}):h=Wu(h,_)}else h=Wu(h,t(f,m,i,s))}),G4(i,eU(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const $a=UU();$a.filterProps=["sx"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function PP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var jU=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BU=PP(function(t){return jU.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),$U=!1;function zU(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function WU(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var qU=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!$U:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(WU(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=zU(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qt="-ms-",jf="-moz-",we="-webkit-",CP="comm",w0="rule",E0="decl",HU="@import",kP="@keyframes",KU="@layer",GU=Math.abs,Zp=String.fromCharCode,QU=Object.assign;function JU(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function xP(t){return t.trim()}function YU(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function m_(t,e){return t.indexOf(e)}function Dt(t,e){return t.charCodeAt(e)|0}function Ec(t,e,n){return t.slice(e,n)}function Sr(t){return t.length}function I0(t){return t.length}function fh(t,e){return e.push(t),t}function XU(t,e){return t.map(e).join("")}var em=1,za=1,OP=0,Tn=0,gt=0,_l="";function tm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:em,column:za,length:o,return:""}}function ru(t,e){return QU(tm("",null,null,"",null,null,0),t,{length:-t.length},e)}function ZU(){return gt}function ej(){return gt=Tn>0?Dt(_l,--Tn):0,za--,gt===10&&(za=1,em--),gt}function Ln(){return gt=Tn<OP?Dt(_l,Tn++):0,za++,gt===10&&(za=1,em++),gt}function Fr(){return Dt(_l,Tn)}function Wh(){return Tn}function ad(t,e){return Ec(_l,t,e)}function Ic(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NP(t){return em=za=1,OP=Sr(_l=t),Tn=0,[]}function DP(t){return _l="",t}function qh(t){return xP(ad(Tn-1,g_(t===91?t+2:t===40?t+1:t)))}function tj(t){for(;(gt=Fr())&&gt<33;)Ln();return Ic(t)>2||Ic(gt)>3?"":" "}function nj(t,e){for(;--e&&Ln()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return ad(t,Wh()+(e<6&&Fr()==32&&Ln()==32))}function g_(t){for(;Ln();)switch(gt){case t:return Tn;case 34:case 39:t!==34&&t!==39&&g_(gt);break;case 40:t===41&&g_(t);break;case 92:Ln();break}return Tn}function rj(t,e){for(;Ln()&&t+gt!==57;)if(t+gt===84&&Fr()===47)break;return"/*"+ad(e,Tn-1)+"*"+Zp(t===47?t:Ln())}function ij(t){for(;!Ic(Fr());)Ln();return ad(t,Tn)}function sj(t){return DP(Hh("",null,null,null,[""],t=NP(t),0,[0],t))}function Hh(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,_=0,w=1,T=1,E=1,v=0,I="",k=i,x=s,D=r,b=I;T;)switch(_=v,v=Ln()){case 40:if(_!=108&&Dt(b,h-1)==58){m_(b+=Ee(qh(v),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:b+=qh(v);break;case 9:case 10:case 13:case 32:b+=tj(_);break;case 92:b+=nj(Wh()-1,7);continue;case 47:switch(Fr()){case 42:case 47:fh(oj(rj(Ln(),Wh()),e,n),l);break;default:b+="/"}break;case 123*w:a[u++]=Sr(b)*E;case 125*w:case 59:case 0:switch(v){case 0:case 125:T=0;case 59+d:E==-1&&(b=Ee(b,/\f/g,"")),m>0&&Sr(b)-h&&fh(m>32?zT(b+";",r,n,h-1):zT(Ee(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(fh(D=$T(b,e,n,u,d,i,a,I,k=[],x=[],h),s),v===123)if(d===0)Hh(b,e,D,D,k,s,h,a,x);else switch(f===99&&Dt(b,3)===110?100:f){case 100:case 108:case 109:case 115:Hh(t,D,D,r&&fh($T(t,D,D,0,0,i,a,I,i,k=[],h),x),i,x,h,a,r?k:x);break;default:Hh(b,D,D,D,[""],x,0,a,x)}}u=d=m=0,w=E=1,I=b="",h=o;break;case 58:h=1+Sr(b),m=_;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&ej()==125)continue}switch(b+=Zp(v),v*w){case 38:E=d>0?1:(b+="\f",-1);break;case 44:a[u++]=(Sr(b)-1)*E,E=1;break;case 64:Fr()===45&&(b+=qh(Ln())),f=Fr(),d=h=Sr(I=b+=ij(Wh())),v++;break;case 45:_===45&&Sr(b)==2&&(w=0)}}return s}function $T(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=I0(f),_=0,w=0,T=0;_<r;++_)for(var E=0,v=Ec(t,h+1,h=GU(w=o[_])),I=t;E<m;++E)(I=xP(w>0?f[E]+" "+v:Ee(v,/&\f/g,f[E])))&&(l[T++]=I);return tm(t,e,n,i===0?w0:a,l,u,d)}function oj(t,e,n){return tm(t,e,n,CP,Zp(ZU()),Ec(t,2,-2),0)}function zT(t,e,n,r){return tm(t,e,n,E0,Ec(t,0,r),Ec(t,r+1,-1),r)}function Pa(t,e){for(var n="",r=I0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function aj(t,e,n,r){switch(t.type){case KU:if(t.children.length)break;case HU:case E0:return t.return=t.return||t.value;case CP:return"";case kP:return t.return=t.value+"{"+Pa(t.children,r)+"}";case w0:t.value=t.props.join(",")}return Sr(n=Pa(t.children,r))?t.return=t.value+"{"+n+"}":""}function lj(t){var e=I0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function uj(t){return function(e){e.root||(e=e.return)&&t(e)}}var cj=function(e,n,r){for(var i=0,s=0;i=s,s=Fr(),i===38&&s===12&&(n[r]=1),!Ic(s);)Ln();return ad(e,Tn)},dj=function(e,n){var r=-1,i=44;do switch(Ic(i)){case 0:i===38&&Fr()===12&&(n[r]=1),e[r]+=cj(Tn-1,n,r);break;case 2:e[r]+=qh(i);break;case 4:if(i===44){e[++r]=Fr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Zp(i)}while(i=Ln());return e},hj=function(e,n){return DP(dj(NP(e),n))},WT=new WeakMap,fj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!WT.get(r))&&!i){WT.set(e,!0);for(var s=[],o=hj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},pj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function VP(t,e){switch(JU(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+jf+t+qt+t+t;case 6828:case 4268:return we+t+qt+t+t;case 6165:return we+t+qt+"flex-"+t+t;case 5187:return we+t+Ee(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+qt+"flex-$1$2")+t;case 5443:return we+t+qt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return we+t+qt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return we+t+qt+Ee(t,"shrink","negative")+t;case 5292:return we+t+qt+Ee(t,"basis","preferred-size")+t;case 6060:return we+"box-"+Ee(t,"-grow","")+we+t+qt+Ee(t,"grow","positive")+t;case 4554:return we+Ee(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+jf+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~m_(t,"stretch")?VP(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dt(t,e+1)!==115)break;case 6444:switch(Dt(t,Sr(t)-3-(~m_(t,"!important")&&10))){case 107:return Ee(t,":",":"+we)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(Dt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+qt+"$2box$3")+t}break;case 5936:switch(Dt(t,e+11)){case 114:return we+t+qt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+qt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+qt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return we+t+qt+t+t}return t}var mj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case E0:e.return=VP(e.value,e.length);break;case kP:return Pa([ru(e,{value:Ee(e.value,"@","@"+we)})],i);case w0:if(e.length)return XU(e.props,function(s){switch(YU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pa([ru(e,{props:[Ee(s,/:(read-\w+)/,":"+jf+"$1")]})],i);case"::placeholder":return Pa([ru(e,{props:[Ee(s,/:(plac\w+)/,":"+we+"input-$1")]}),ru(e,{props:[Ee(s,/:(plac\w+)/,":"+jf+"$1")]}),ru(e,{props:[Ee(s,/:(plac\w+)/,qt+"input-$1")]})],i)}return""})}},gj=[mj],yj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var T=w.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||gj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var T=w.getAttribute("data-emotion").split(" "),E=1;E<T.length;E++)s[T[E]]=!0;a.push(w)});var l,u=[fj,pj];{var d,h=[aj,uj(function(w){d.insert(w)})],f=lj(u.concat(i,h)),m=function(T){return Pa(sj(T),f)};l=function(T,E,v,I){d=v,m(T?T+"{"+E.styles+"}":E.styles),I&&(_.inserted[E.name]=!0)}}var _={key:n,sheet:new qU({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},_j=!0;function vj(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var LP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||_j===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},wj=function(e,n,r){LP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Ej(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ij={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tj=!1,Sj=/[A-Z]|^ms/g,bj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MP=function(e){return e.charCodeAt(1)===45},qT=function(e){return e!=null&&typeof e!="boolean"},jg=PP(function(t){return MP(t)?t:t.replace(Sj,"-$&").toLowerCase()}),HT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(bj,function(r,i,s){return br={name:i,styles:s,next:br},i})}return Ij[e]!==1&&!MP(e)&&typeof n=="number"&&n!==0?n+"px":n},Rj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Tc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return br={name:i.name,styles:i.styles,next:br},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)br={name:o.name,styles:o.styles,next:br},o=o.next;var a=s.styles+";";return a}return Aj(t,e,n)}case"function":{if(t!==void 0){var l=br,u=n(t);return br=l,Tc(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function Aj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":qT(a)&&(r+=jg(s)+":"+HT(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Tj)throw new Error(Rj);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)qT(o[l])&&(r+=jg(s)+":"+HT(s,o[l])+";");else{var u=Tc(t,e,o);switch(s){case"animation":case"animationName":{r+=jg(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var KT=/label:\s*([^\s;{]+)\s*(;|$)/g,br;function FP(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";br=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Tc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Tc(n,e,t[a]),r){var l=s;i+=l[a]}KT.lastIndex=0;for(var u="",d;(d=KT.exec(i))!==null;)u+="-"+d[1];var h=Ej(i)+u;return{name:h,styles:i,next:br}}var Pj=function(e){return e()},Cj=ly.useInsertionEffect?ly.useInsertionEffect:!1,kj=Cj||Pj,UP=V.createContext(typeof HTMLElement<"u"?yj({key:"css"}):null);UP.Provider;var xj=function(e){return V.forwardRef(function(n,r){var i=V.useContext(UP);return e(n,i,r)})},Oj=V.createContext({}),Nj=BU,Dj=function(e){return e!=="theme"},GT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Nj:Dj},QT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Vj=!1,Lj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return LP(n,r,i),kj(function(){return wj(n,r,i)}),null},Mj=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=QT(e,n,r),l=a||GT(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var _=xj(function(w,T,E){var v=u&&w.as||i,I="",k=[],x=w;if(w.theme==null){x={};for(var D in w)x[D]=w[D];x.theme=V.useContext(Oj)}typeof w.className=="string"?I=vj(T.registered,k,w.className):w.className!=null&&(I=w.className+" ");var b=FP(h.concat(k),T.registered,x);I+=T.key+"-"+b.name,o!==void 0&&(I+=" "+o);var S=u&&a===void 0?GT(v):l,A={};for(var g in w)u&&g==="as"||S(g)&&(A[g]=w[g]);return A.className=I,E&&(A.ref=E),V.createElement(V.Fragment,null,V.createElement(Lj,{cache:T,serialized:b,isStringTag:typeof v=="string"}),V.createElement(v,A))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&Vj?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(w,T){return t(w,p_({},n,T,{shouldForwardProp:QT(_,T,!0)})).apply(void 0,h)},_}},Fj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],y_=Mj.bind();Fj.forEach(function(t){y_[t]=y_(t)});/**
 * @mui/styled-engine v6.1.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Uj(t,e){return y_(t,e)}function jj(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const JT=[];function YT(t){return JT[0]=t,FP(JT)}const Bj=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function $j(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=Bj(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,m){const _=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:m)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n,...i}}const zj={borderRadius:4};function jP(t=8,e=_0({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Wj(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function BP(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=$j(n),l=jP(i);let u=Vn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...zj,...s}},o);return u=Y4(u),u.applyStyles=Wj,u=e.reduce((d,h)=>Vn(d,h),u),u.unstable_sxConfig={...Xp,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return $a({sx:h,theme:this})},u}function $P(t){const{variants:e,...n}=t,r={variants:e,style:YT(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=YT(i.style))}),r}const qj=BP();function Bg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Hj(t){return t?(e,n)=>n[t]:null}function Kj(t,e,n){t.theme=Jj(t.theme)?n:t.theme[e]||t.theme}function Kh(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Kh(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return zP(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function zP(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function Gj(t={}){const{themeId:e,defaultTheme:n=qj,rootShouldForwardProp:r=Bg,slotShouldForwardProp:i=Bg}=t;function s(a){Kj(a,e,n)}return(a,l={})=>{jj(a,x=>x.filter(D=>D!==$a));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:m=Hj(Xj(d)),..._}=l,w=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,T=f||!1;let E=Bg;d==="Root"||d==="root"?E=r:d?E=i:Yj(a)&&(E=void 0);const v=Uj(a,{shouldForwardProp:E,label:Qj(),..._}),I=x=>{if(typeof x=="function"&&x.__emotion_real!==x)return function(b){return Kh(b,x)};if(ri(x)){const D=$P(x);return D.variants?function(S){return Kh(S,D)}:D.style}return x},k=(...x)=>{const D=[],b=x.map(I),S=[];if(D.push(s),u&&m&&S.push(function(N){var wt,Ie;const ie=(Ie=(wt=N.theme.components)==null?void 0:wt[u])==null?void 0:Ie.styleOverrides;if(!ie)return null;const le={};for(const K in ie)le[K]=Kh(N,ie[K]);return m(N,le)}),u&&!w&&S.push(function(N){var le,wt;const C=N.theme,ie=(wt=(le=C==null?void 0:C.components)==null?void 0:le[u])==null?void 0:wt.variants;return ie?zP(N,ie):null}),T||S.push($a),Array.isArray(b[0])){const P=b.shift(),N=new Array(D.length).fill(""),C=new Array(S.length).fill("");let ie;ie=[...N,...P,...C],ie.raw=[...N,...P.raw,...C],D.unshift(ie)}const A=[...D,...b,...S],g=v(...A);return a.muiName&&(g.muiName=a.muiName),g};return v.withConfig&&(k.withConfig=v.withConfig),k}}function Qj(t,e){return void 0}function Jj(t){for(const e in t)return!1;return!0}function Yj(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Xj(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function T0(t,e=0,n=1){return IP(t,e,n)}function Zj(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ps(t){if(t.type)return t;if(t.charAt(0)==="#")return ps(Zj(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Eo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Eo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const eB=t=>{const e=ps(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Su=(t,e)=>{try{return eB(t)}catch{return t}};function nm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function WP(t){t=ps(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),nm({type:a,values:l})}function __(t){t=ps(t);let e=t.type==="hsl"||t.type==="hsla"?ps(WP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tB(t,e){const n=__(t),r=__(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function nB(t,e){return t=ps(t),e=T0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,nm(t)}function ph(t,e,n){try{return nB(t,e)}catch{return t}}function S0(t,e){if(t=ps(t),e=T0(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return nm(t)}function Ce(t,e,n){try{return S0(t,e)}catch{return t}}function b0(t,e){if(t=ps(t),e=T0(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return nm(t)}function ke(t,e,n){try{return b0(t,e)}catch{return t}}function rB(t,e=.15){return __(t)>.5?S0(t,e):b0(t,e)}function mh(t,e,n){try{return rB(t,e)}catch{return t}}const iB=V.createContext(void 0);function sB(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?f_(i.defaultProps,r):!i.styleOverrides&&!i.variants?f_(i,r):r}function oB({props:t,name:e}){const n=V.useContext(iB);return sB({props:t,name:e,theme:{components:n}})}const XT={theme:void 0};function aB(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(XT.theme=i.theme,s=$P(t(XT)),e=s,n=i.theme),s}}function lB(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const ZT=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},uB=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},cB=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function $g(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return uB(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=cB(a,l);Object.assign(i,{[d]:h}),ZT(s,a,`var(${d})`,u),ZT(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function dB(t,e={}){const{getSelector:n=T,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:d,varsWithDefaults:h}=$g(l,e);let f=h;const m={},{[a]:_,...w}=s;if(Object.entries(w||{}).forEach(([I,k])=>{const{vars:x,css:D,varsWithDefaults:b}=$g(k,e);f=Vn(f,b),m[I]={css:D,vars:x}}),_){const{css:I,vars:k,varsWithDefaults:x}=$g(_,e);f=Vn(f,x),m[a]={css:I,vars:k}}function T(I,k){var D,b;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),I){if(x==="media")return t.defaultColorScheme===I?":root":{[`@media (prefers-color-scheme: ${((b=(D=s[I])==null?void 0:D.palette)==null?void 0:b.mode)||I})`]:{":root":k}};if(x)return t.defaultColorScheme===I?`:root, ${x.replace("%s",String(I))}`:x.replace("%s",String(I))}return":root"}return{vars:f,generateThemeVars:()=>{let I={...u};return Object.entries(m).forEach(([,{vars:k}])=>{I=Vn(I,k)}),I},generateStyleSheets:()=>{var S,A;const I=[],k=t.defaultColorScheme||"light";function x(g,P){Object.keys(P).length&&I.push(typeof g=="string"?{[g]:{...P}}:g)}x(n(void 0,{...d}),d);const{[k]:D,...b}=m;if(D){const{css:g}=D,P=(A=(S=s[k])==null?void 0:S.palette)==null?void 0:A.mode,N=!r&&P?{colorScheme:P,...g}:{...g};x(n(k,{...N}),N)}return Object.entries(b).forEach(([g,{css:P}])=>{var ie,le;const N=(le=(ie=s[g])==null?void 0:ie.palette)==null?void 0:le.mode,C=!r&&N?{colorScheme:N,...P}:{...P};x(n(g,{...C}),C)}),I}}}function hB(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Sc={black:"#000",white:"#fff"},fB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ho={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ko={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},iu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Go={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Qo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Jo={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function qP(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Sc.white,default:Sc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const pB=qP();function HP(){return{text:{primary:Sc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Sc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const eS=HP();function tS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=b0(t.main,i):e==="dark"&&(t.dark=S0(t.main,s)))}function mB(t="light"){return t==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[700],light:Go[400],dark:Go[800]}}function gB(t="light"){return t==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[500],light:Ho[300],dark:Ho[700]}}function yB(t="light"){return t==="dark"?{main:Ko[500],light:Ko[300],dark:Ko[700]}:{main:Ko[700],light:Ko[400],dark:Ko[800]}}function _B(t="light"){return t==="dark"?{main:Qo[400],light:Qo[300],dark:Qo[700]}:{main:Qo[700],light:Qo[500],dark:Qo[900]}}function vB(t="light"){return t==="dark"?{main:Jo[400],light:Jo[300],dark:Jo[700]}:{main:Jo[800],light:Jo[500],dark:Jo[900]}}function wB(t="light"){return t==="dark"?{main:iu[400],light:iu[300],dark:iu[700]}:{main:"#ed6c02",light:iu[500],dark:iu[900]}}function R0(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||mB(e),o=t.secondary||gB(e),a=t.error||yB(e),l=t.info||_B(e),u=t.success||vB(e),d=t.warning||wB(e);function h(w){return tB(w,eS.text.primary)>=n?eS.text.primary:pB.text.primary}const f=({color:w,name:T,mainShade:E=500,lightShade:v=300,darkShade:I=700})=>{if(w={...w},!w.main&&w[E]&&(w.main=w[E]),!w.hasOwnProperty("main"))throw new Error(Eo(11,T?` (${T})`:"",E));if(typeof w.main!="string")throw new Error(Eo(12,T?` (${T})`:"",JSON.stringify(w.main)));return tS(w,"light",v,r),tS(w,"dark",I,r),w.contrastText||(w.contrastText=h(w.main)),w};let m;return e==="light"?m=qP():e==="dark"&&(m=HP()),Vn({common:{...Sc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:fB,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...m},i)}function EB(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function IB(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function TB(t){return Math.round(t*1e5)/1e5}const nS={textTransform:"uppercase"},rS='"Roboto", "Helvetica", "Arial", sans-serif';function SB(t,e){const{fontFamily:n=rS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,m=d||(T=>`${T/l*f}rem`),_=(T,E,v,I,k)=>({fontFamily:n,fontWeight:T,fontSize:m(E),lineHeight:v,...n===rS?{letterSpacing:`${TB(I/E)}em`}:{},...k,...u}),w={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,nS),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,nS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vn({htmlFontSize:l,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...w},h,{clone:!1})}const bB=.2,RB=.14,AB=.12;function Fe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${bB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${RB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${AB})`].join(",")}const PB=["none",Fe(0,2,1,-1,0,1,1,0,0,1,3,0),Fe(0,3,1,-2,0,2,2,0,0,1,5,0),Fe(0,3,3,-2,0,3,4,0,0,1,8,0),Fe(0,2,4,-1,0,4,5,0,0,1,10,0),Fe(0,3,5,-1,0,5,8,0,0,1,14,0),Fe(0,3,5,-1,0,6,10,0,0,1,18,0),Fe(0,4,5,-2,0,7,10,1,0,2,16,1),Fe(0,5,5,-3,0,8,10,1,0,3,14,2),Fe(0,5,6,-3,0,9,12,1,0,3,16,2),Fe(0,6,6,-3,0,10,14,1,0,4,18,3),Fe(0,6,7,-4,0,11,15,1,0,4,20,3),Fe(0,7,8,-4,0,12,17,2,0,5,22,4),Fe(0,7,8,-4,0,13,19,2,0,5,24,4),Fe(0,7,9,-4,0,14,21,2,0,5,26,4),Fe(0,8,9,-5,0,15,22,2,0,6,28,5),Fe(0,8,10,-5,0,16,24,2,0,6,30,5),Fe(0,8,11,-5,0,17,26,2,0,6,32,5),Fe(0,9,11,-5,0,18,28,2,0,7,34,6),Fe(0,9,12,-6,0,19,29,2,0,7,36,6),Fe(0,10,13,-6,0,20,31,3,0,8,38,7),Fe(0,10,13,-6,0,21,33,3,0,8,40,7),Fe(0,10,14,-6,0,22,35,3,0,8,42,7),Fe(0,11,14,-7,0,23,36,3,0,9,44,8),Fe(0,11,15,-7,0,24,38,3,0,9,46,8)],CB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kB={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function iS(t){return`${Math.round(t)}ms`}function xB(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function OB(t){const e={...CB,...t.easing},n={...kB,...t.duration};return{getAutoHeightDuration:xB,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:iS(o)} ${a} ${typeof l=="string"?l:iS(l)}`).join(",")},...t,easing:e,duration:n}}const NB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function DB(t){return ri(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function KP(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!DB(a)||o.startsWith("unstable_")?delete r[o]:ri(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function v_(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(Eo(20));const d=R0(s),h=BP(t);let f=Vn(h,{mixins:IB(h.breakpoints,r),palette:d,shadows:PB.slice(),typography:SB(d,a),transitions:OB(o),zIndex:{...NB}});return f=Vn(f,u),f=e.reduce((m,_)=>Vn(m,_),f),f.unstable_sxConfig={...Xp,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return $a({sx:_,theme:this})},f.toRuntimeSource=KP,f}function VB(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const LB=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=VB(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function GP(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function QP(t){return t==="dark"?LB:[]}function MB(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=R0(e);return{palette:s,opacity:{...GP(s.mode),...n},overlays:r||QP(s.mode),...i}}function FB(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const UB=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],jB=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return UB(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function BB(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function B(t,e,n){!t[e]&&n&&(t[e]=n)}function bu(t){return!t||!t.startsWith("hsl")?t:WP(t)}function Yr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Su(bu(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function $B(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ir=t=>{try{return t()}catch{}},zB=(t="mui")=>lB(t);function zg(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=MB({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=v_({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...GP(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||QP(i)},o}function WB(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=FB,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=zB(s),{[h]:m,light:_,dark:w,...T}=n,E={...T};let v=m;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(Eo(21,h));const I=zg(E,v,u,h);_&&!E.light&&zg(E,_,void 0,"light"),w&&!E.dark&&zg(E,w,void 0,"dark");let k={defaultColorScheme:h,...I,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:E,font:{...EB(I.typography),...I.font},spacing:$B(u.spacing)};Object.keys(k.colorSchemes).forEach(A=>{const g=k.colorSchemes[A].palette,P=N=>{const C=N.split("-"),ie=C[1],le=C[2];return f(N,g[ie][le])};if(g.mode==="light"&&(B(g.common,"background","#fff"),B(g.common,"onBackground","#000")),g.mode==="dark"&&(B(g.common,"background","#000"),B(g.common,"onBackground","#fff")),BB(g,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),g.mode==="light"){B(g.Alert,"errorColor",Ce(g.error.light,.6)),B(g.Alert,"infoColor",Ce(g.info.light,.6)),B(g.Alert,"successColor",Ce(g.success.light,.6)),B(g.Alert,"warningColor",Ce(g.warning.light,.6)),B(g.Alert,"errorFilledBg",P("palette-error-main")),B(g.Alert,"infoFilledBg",P("palette-info-main")),B(g.Alert,"successFilledBg",P("palette-success-main")),B(g.Alert,"warningFilledBg",P("palette-warning-main")),B(g.Alert,"errorFilledColor",Ir(()=>g.getContrastText(g.error.main))),B(g.Alert,"infoFilledColor",Ir(()=>g.getContrastText(g.info.main))),B(g.Alert,"successFilledColor",Ir(()=>g.getContrastText(g.success.main))),B(g.Alert,"warningFilledColor",Ir(()=>g.getContrastText(g.warning.main))),B(g.Alert,"errorStandardBg",ke(g.error.light,.9)),B(g.Alert,"infoStandardBg",ke(g.info.light,.9)),B(g.Alert,"successStandardBg",ke(g.success.light,.9)),B(g.Alert,"warningStandardBg",ke(g.warning.light,.9)),B(g.Alert,"errorIconColor",P("palette-error-main")),B(g.Alert,"infoIconColor",P("palette-info-main")),B(g.Alert,"successIconColor",P("palette-success-main")),B(g.Alert,"warningIconColor",P("palette-warning-main")),B(g.AppBar,"defaultBg",P("palette-grey-100")),B(g.Avatar,"defaultBg",P("palette-grey-400")),B(g.Button,"inheritContainedBg",P("palette-grey-300")),B(g.Button,"inheritContainedHoverBg",P("palette-grey-A100")),B(g.Chip,"defaultBorder",P("palette-grey-400")),B(g.Chip,"defaultAvatarColor",P("palette-grey-700")),B(g.Chip,"defaultIconColor",P("palette-grey-700")),B(g.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),B(g.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),B(g.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),B(g.LinearProgress,"primaryBg",ke(g.primary.main,.62)),B(g.LinearProgress,"secondaryBg",ke(g.secondary.main,.62)),B(g.LinearProgress,"errorBg",ke(g.error.main,.62)),B(g.LinearProgress,"infoBg",ke(g.info.main,.62)),B(g.LinearProgress,"successBg",ke(g.success.main,.62)),B(g.LinearProgress,"warningBg",ke(g.warning.main,.62)),B(g.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),B(g.Slider,"primaryTrack",ke(g.primary.main,.62)),B(g.Slider,"secondaryTrack",ke(g.secondary.main,.62)),B(g.Slider,"errorTrack",ke(g.error.main,.62)),B(g.Slider,"infoTrack",ke(g.info.main,.62)),B(g.Slider,"successTrack",ke(g.success.main,.62)),B(g.Slider,"warningTrack",ke(g.warning.main,.62));const N=mh(g.background.default,.8);B(g.SnackbarContent,"bg",N),B(g.SnackbarContent,"color",Ir(()=>g.getContrastText(N))),B(g.SpeedDialAction,"fabHoverBg",mh(g.background.paper,.15)),B(g.StepConnector,"border",P("palette-grey-400")),B(g.StepContent,"border",P("palette-grey-400")),B(g.Switch,"defaultColor",P("palette-common-white")),B(g.Switch,"defaultDisabledColor",P("palette-grey-100")),B(g.Switch,"primaryDisabledColor",ke(g.primary.main,.62)),B(g.Switch,"secondaryDisabledColor",ke(g.secondary.main,.62)),B(g.Switch,"errorDisabledColor",ke(g.error.main,.62)),B(g.Switch,"infoDisabledColor",ke(g.info.main,.62)),B(g.Switch,"successDisabledColor",ke(g.success.main,.62)),B(g.Switch,"warningDisabledColor",ke(g.warning.main,.62)),B(g.TableCell,"border",ke(ph(g.divider,1),.88)),B(g.Tooltip,"bg",ph(g.grey[700],.92))}if(g.mode==="dark"){B(g.Alert,"errorColor",ke(g.error.light,.6)),B(g.Alert,"infoColor",ke(g.info.light,.6)),B(g.Alert,"successColor",ke(g.success.light,.6)),B(g.Alert,"warningColor",ke(g.warning.light,.6)),B(g.Alert,"errorFilledBg",P("palette-error-dark")),B(g.Alert,"infoFilledBg",P("palette-info-dark")),B(g.Alert,"successFilledBg",P("palette-success-dark")),B(g.Alert,"warningFilledBg",P("palette-warning-dark")),B(g.Alert,"errorFilledColor",Ir(()=>g.getContrastText(g.error.dark))),B(g.Alert,"infoFilledColor",Ir(()=>g.getContrastText(g.info.dark))),B(g.Alert,"successFilledColor",Ir(()=>g.getContrastText(g.success.dark))),B(g.Alert,"warningFilledColor",Ir(()=>g.getContrastText(g.warning.dark))),B(g.Alert,"errorStandardBg",Ce(g.error.light,.9)),B(g.Alert,"infoStandardBg",Ce(g.info.light,.9)),B(g.Alert,"successStandardBg",Ce(g.success.light,.9)),B(g.Alert,"warningStandardBg",Ce(g.warning.light,.9)),B(g.Alert,"errorIconColor",P("palette-error-main")),B(g.Alert,"infoIconColor",P("palette-info-main")),B(g.Alert,"successIconColor",P("palette-success-main")),B(g.Alert,"warningIconColor",P("palette-warning-main")),B(g.AppBar,"defaultBg",P("palette-grey-900")),B(g.AppBar,"darkBg",P("palette-background-paper")),B(g.AppBar,"darkColor",P("palette-text-primary")),B(g.Avatar,"defaultBg",P("palette-grey-600")),B(g.Button,"inheritContainedBg",P("palette-grey-800")),B(g.Button,"inheritContainedHoverBg",P("palette-grey-700")),B(g.Chip,"defaultBorder",P("palette-grey-700")),B(g.Chip,"defaultAvatarColor",P("palette-grey-300")),B(g.Chip,"defaultIconColor",P("palette-grey-300")),B(g.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),B(g.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),B(g.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),B(g.LinearProgress,"primaryBg",Ce(g.primary.main,.5)),B(g.LinearProgress,"secondaryBg",Ce(g.secondary.main,.5)),B(g.LinearProgress,"errorBg",Ce(g.error.main,.5)),B(g.LinearProgress,"infoBg",Ce(g.info.main,.5)),B(g.LinearProgress,"successBg",Ce(g.success.main,.5)),B(g.LinearProgress,"warningBg",Ce(g.warning.main,.5)),B(g.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),B(g.Slider,"primaryTrack",Ce(g.primary.main,.5)),B(g.Slider,"secondaryTrack",Ce(g.secondary.main,.5)),B(g.Slider,"errorTrack",Ce(g.error.main,.5)),B(g.Slider,"infoTrack",Ce(g.info.main,.5)),B(g.Slider,"successTrack",Ce(g.success.main,.5)),B(g.Slider,"warningTrack",Ce(g.warning.main,.5));const N=mh(g.background.default,.98);B(g.SnackbarContent,"bg",N),B(g.SnackbarContent,"color",Ir(()=>g.getContrastText(N))),B(g.SpeedDialAction,"fabHoverBg",mh(g.background.paper,.15)),B(g.StepConnector,"border",P("palette-grey-600")),B(g.StepContent,"border",P("palette-grey-600")),B(g.Switch,"defaultColor",P("palette-grey-300")),B(g.Switch,"defaultDisabledColor",P("palette-grey-600")),B(g.Switch,"primaryDisabledColor",Ce(g.primary.main,.55)),B(g.Switch,"secondaryDisabledColor",Ce(g.secondary.main,.55)),B(g.Switch,"errorDisabledColor",Ce(g.error.main,.55)),B(g.Switch,"infoDisabledColor",Ce(g.info.main,.55)),B(g.Switch,"successDisabledColor",Ce(g.success.main,.55)),B(g.Switch,"warningDisabledColor",Ce(g.warning.main,.55)),B(g.TableCell,"border",Ce(ph(g.divider,1),.68)),B(g.Tooltip,"bg",ph(g.grey[700],.92))}Yr(g.background,"default"),Yr(g.background,"paper"),Yr(g.common,"background"),Yr(g.common,"onBackground"),Yr(g,"divider"),Object.keys(g).forEach(N=>{const C=g[N];C&&typeof C=="object"&&(C.main&&B(g[N],"mainChannel",Su(bu(C.main))),C.light&&B(g[N],"lightChannel",Su(bu(C.light))),C.dark&&B(g[N],"darkChannel",Su(bu(C.dark))),C.contrastText&&B(g[N],"contrastTextChannel",Su(bu(C.contrastText))),N==="text"&&(Yr(g[N],"primary"),Yr(g[N],"secondary")),N==="action"&&(C.active&&Yr(g[N],"active"),C.selected&&Yr(g[N],"selected")))})}),k=e.reduce((A,g)=>Vn(A,g),k);const x={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:jB(k)},{vars:D,generateThemeVars:b,generateStyleSheets:S}=dB(k,x);return k.vars=D,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([A,g])=>{k[A]=g}),k.generateThemeVars=b,k.generateStyleSheets=S,k.generateSpacing=function(){return jP(u.spacing,_0(this))},k.getColorSchemeSelector=hB(a),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=o,k.unstable_sxConfig={...Xp,...u==null?void 0:u.unstable_sxConfig},k.unstable_sx=function(g){return $a({sx:g,theme:this})},k.toRuntimeSource=KP,k}function sS(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:R0({...n===!0?{}:n.palette,mode:e})})}function qB(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return v_(t,...e);let d=n;"palette"in t||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=v_({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},sS(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},sS(h,"light",u.light)),h}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),WB({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const HB=qB(),KB="$$material";function JP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const GB=t=>JP(t)&&t!=="classes",ld=Gj({themeId:KB,defaultTheme:HB,rootShouldForwardProp:GB}),A0=aB;function YP(t){return oB(t)}function QB(t){return m0("MuiSvgIcon",t)}RP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const JB=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fs(e)}`,`fontSize${fs(n)}`]};return TP(i,QB,r)},YB=ld("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fs(n.color)}`],e[`fontSize${fs(n.fontSize)}`]]}})(A0(({theme:t})=>{var e,n,r,i,s,o,a,l,u,d,h,f,m,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var T,E;return{props:{color:w},style:{color:(E=(T=(t.vars??t).palette)==null?void 0:T[w])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(_=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Bf=V.forwardRef(function(e,n){const r=YP({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...m}=r,_=V.isValidElement(i)&&i.type==="svg",w={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:_},T={};d||(T.viewBox=f);const E=JB(w);return O.jsxs(YB,{as:a,className:zu(E.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...T,...m,..._&&i.props,ownerState:w,children:[_?i.props.children:i,h?O.jsx("title",{children:h}):null]})});Bf&&(Bf.muiName="SvgIcon");function XP(t,e){function n(r,i){return O.jsx(Bf,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Bf.muiName,V.memo(V.forwardRef(n))}const XB=XP(O.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),ZB=XP(O.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function e5(t){return m0("MuiRating",t)}const su=RP("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function t5(t){const e=t.toString().split(".")[1];return e?e.length:0}function Wg(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(t5(e)))}const n5=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${fs(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return TP(a,e5,e)},r5=ld("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${su.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${fs(n.size)}`],n.readOnly&&e.readOnly]}})(A0(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${su.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${su.focusVisible} .${su.iconActive}`]:{outline:"1px solid #999"},[`& .${su.visuallyHidden}`]:M4,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),ZP=ld("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),i5=ld("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(A0(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),s5=ld("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>JP(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function o5(t){const{value:e,...n}=t;return O.jsx("span",{...n})}function oS(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:m,onBlur:_,onChange:w,onClick:T,onFocus:E,readOnly:v,ownerState:I,ratingValue:k,ratingValueRounded:x}=t,D=o?h===k:h<=k,b=h<=a,S=h<=i,A=h===x,g=`${m}-${bP()}`,P=O.jsx(i5,{as:u,value:h,className:zu(e.icon,D?e.iconFilled:e.iconEmpty,b&&e.iconHover,S&&e.iconFocus,d&&e.iconActive),ownerState:{...I,iconEmpty:!D,iconFilled:D,iconHover:b,iconFocus:S,iconActive:d},children:r&&!D?r:l});return v?O.jsx("span",{...f,children:P}):O.jsxs(V.Fragment,{children:[O.jsxs(ZP,{ownerState:{...I,emptyValueFocused:void 0},htmlFor:g,...f,children:[P,O.jsx("span",{className:e.visuallyHidden,children:s(h)})]}),O.jsx("input",{className:e.visuallyHidden,onFocus:E,onBlur:_,onChange:w,onClick:T,disabled:n,value:h,id:g,type:"radio",name:m,checked:A})]})}const a5=O.jsx(XB,{fontSize:"inherit"}),l5=O.jsx(ZB,{fontSize:"inherit"});function u5(t){return`${t||"0"} Star${t!==1?"s":""}`}const c5=V.forwardRef(function(e,n){const r=YP({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:o=null,disabled:a=!1,emptyIcon:l=l5,emptyLabelText:u="Empty",getLabelText:d=u5,highlightSelectedOnly:h=!1,icon:f=a5,IconContainerComponent:m=o5,max:_=5,name:w,onChange:T,onChangeActive:E,onMouseLeave:v,onMouseMove:I,precision:k=1,readOnly:x=!1,size:D="medium",value:b,...S}=r,A=bP(w),[g,P]=z4({controlled:b,default:o,name:"Rating"}),N=Wg(g,k),C=U4(),[{hover:ie,focus:le},wt]=V.useState({hover:-1,focus:-1});let Ie=N;ie!==-1&&(Ie=ie),le!==-1&&(Ie=le);const[K,te]=V.useState(!1),ne=V.useRef(),ce=W4(ne,n),Te=xe=>{I&&I(xe);const ft=ne.current,{right:Zt,left:xi,width:Gr}=ft.getBoundingClientRect();let Oi;C?Oi=(Zt-xe.clientX)/Gr:Oi=(xe.clientX-xi)/Gr;let rr=Wg(_*Oi+k/2,k);rr=IP(rr,k,_),wt(vr=>vr.hover===rr&&vr.focus===rr?vr:{hover:rr,focus:rr}),te(!1),E&&ie!==rr&&E(xe,rr)},We=xe=>{v&&v(xe);const ft=-1;wt({hover:ft,focus:ft}),E&&ie!==ft&&E(xe,ft)},Bn=xe=>{let ft=xe.target.value===""?null:parseFloat(xe.target.value);ie!==-1&&(ft=ie),P(ft),T&&T(xe,ft)},er=xe=>{xe.clientX===0&&xe.clientY===0||(wt({hover:-1,focus:-1}),P(null),T&&parseFloat(xe.target.value)===N&&T(xe,null))},tr=xe=>{LT(xe.target)&&te(!0);const ft=parseFloat(xe.target.value);wt(Zt=>({hover:Zt.hover,focus:ft}))},nr=xe=>{if(ie!==-1)return;LT(xe.target)||te(!1);const ft=-1;wt(Zt=>({hover:Zt.hover,focus:ft}))},[$m,Cd]=V.useState(!1),_r={...r,component:i,defaultValue:o,disabled:a,emptyIcon:l,emptyLabelText:u,emptyValueFocused:$m,focusVisible:K,getLabelText:d,icon:f,IconContainerComponent:m,max:_,precision:k,readOnly:x,size:D},Sn=n5(_r);return O.jsxs(r5,{as:i,ref:ce,onMouseMove:Te,onMouseLeave:We,className:zu(Sn.root,s,x&&"MuiRating-readOnly"),ownerState:_r,role:x?"img":null,"aria-label":x?d(Ie):null,...S,children:[Array.from(new Array(_)).map((xe,ft)=>{const Zt=ft+1,xi={classes:Sn,disabled:a,emptyIcon:l,focus:le,getLabelText:d,highlightSelectedOnly:h,hover:ie,icon:f,IconContainerComponent:m,name:A,onBlur:nr,onChange:Bn,onClick:er,onFocus:tr,ratingValue:Ie,ratingValueRounded:N,readOnly:x,ownerState:_r},Gr=Zt===Math.ceil(Ie)&&(ie!==-1||le!==-1);if(k<1){const Oi=Array.from(new Array(1/k));return O.jsx(s5,{className:zu(Sn.decimal,Gr&&Sn.iconActive),ownerState:_r,iconActive:Gr,children:Oi.map((rr,vr)=>{const Fs=Wg(Zt-1+(vr+1)*k,k);return O.jsx(oS,{...xi,isActive:!1,itemValue:Fs,labelProps:{style:Oi.length-1===vr?{}:{width:Fs===Ie?`${(vr+1)*k*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Fs)})},Zt)}return O.jsx(oS,{...xi,isActive:Gr,itemValue:Zt},Zt)}),!x&&!a&&O.jsxs(ZP,{className:zu(Sn.label,Sn.labelEmptyValue),ownerState:_r,children:[O.jsx("input",{className:Sn.visuallyHidden,value:"",id:`${A}-empty`,type:"radio",name:A,checked:N==null,onFocus:()=>Cd(!0),onBlur:()=>Cd(!1),onChange:Bn}),O.jsx("span",{className:Sn.visuallyHidden,children:u})]})]})});var eC={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(ov,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,d){this._input=u,this._value=d}return e=function(u){var d,h,f,m;if(e.isNumeral(u))d=u.value();else if(u===0||typeof u>"u")d=0;else if(u===null||n.isNaN(u))d=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)d=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(m=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,m&&u.match(m)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(u)}else d=Number(u)||null;return new l(u,d)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,d,h){var f=s[e.options.currentLocale],m=!1,_=!1,w=0,T="",E=1e12,v=1e9,I=1e6,k=1e3,x="",D=!1,b,S,A,g,P,N,C;if(u=u||0,S=Math.abs(u),e._.includes(d,"(")?(m=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(P=e._.includes(d,"+")?d.indexOf("+"):u<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(b=d.match(/a(k|m|b|t)?/),b=b?b[1]:!1,e._.includes(d," a")&&(T=" "),d=d.replace(new RegExp(T+"a[kmbt]?"),""),S>=E&&!b||b==="t"?(T+=f.abbreviations.trillion,u=u/E):S<E&&S>=v&&!b||b==="b"?(T+=f.abbreviations.billion,u=u/v):S<v&&S>=I&&!b||b==="m"?(T+=f.abbreviations.million,u=u/I):(S<I&&S>=k&&!b||b==="k")&&(T+=f.abbreviations.thousand,u=u/k)),e._.includes(d,"[.]")&&(_=!0,d=d.replace("[.]",".")),A=u.toString().split(".")[0],g=d.split(".")[1],N=d.indexOf(","),w=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,g?(e._.includes(g,"[")?(g=g.replace("]",""),g=g.split("["),x=e._.toFixed(u,g[0].length+g[1].length,h,g[1].length)):x=e._.toFixed(u,g.length,h),A=x.split(".")[0],e._.includes(x,".")?x=f.delimiters.decimal+x.split(".")[1]:x="",_&&Number(x.slice(1))===0&&(x="")):A=e._.toFixed(u,0,h),T&&!b&&Number(A)>=1e3&&T!==f.abbreviations.trillion)switch(A=String(Number(A)/1e3),T){case f.abbreviations.thousand:T=f.abbreviations.million;break;case f.abbreviations.million:T=f.abbreviations.billion;break;case f.abbreviations.billion:T=f.abbreviations.trillion;break}if(e._.includes(A,"-")&&(A=A.slice(1),D=!0),A.length<w)for(var ie=w-A.length;ie>0;ie--)A="0"+A;return N>-1&&(A=A.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(A=""),C=A+x+(T||""),m?C=(m&&D?"(":"")+C+(m&&D?")":""):P>=0?C=P===0?(D?"-":"+")+C:C+(D?"-":"+"):D&&(C="-"+C),C},stringToNumber:function(u){var d=s[a.currentLocale],h=u,f={thousand:3,million:6,billion:9,trillion:12},m,_,w;if(a.zeroFormat&&u===a.zeroFormat)_=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)_=null;else{_=1,d.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(m in f)if(w=new RegExp("[^a-zA-Z]"+d.abbreviations[m]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(w)){_*=Math.pow(10,f[m]);break}_*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),_*=Number(u)}return _},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,d){return u.indexOf(d)!==-1},insert:function(u,d,h){return u.slice(0,h)+d+u.slice(h)},reduce:function(u,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(u),f=h.length>>>0,m=0,_;if(arguments.length===3)_=arguments[2];else{for(;m<f&&!(m in h);)m++;if(m>=f)throw new TypeError("Reduce of empty array with no initial value");_=h[m++]}for(;m<f;m++)m in h&&(_=d(_,h[m],m,h));return _},multiplier:function(u){var d=u.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(u,d,h,f){var m=u.toString().split("."),_=d-(f||0),w,T,E,v;return m.length===2?w=Math.min(Math.max(m[1].length,_),d):w=_,E=Math.pow(10,w),v=(h(u+"e+"+w)/E).toFixed(w),f>d-w&&(T=new RegExp("\\.?0{1,"+(f-(d-w))+"}$"),v=v.replace(T,"")),v}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,d,h){if(d=d.toLowerCase(),this[u+"s"][d])throw new TypeError(d+" "+u+" already registered.");return this[u+"s"][d]=h,h},e.validate=function(u,d){var h,f,m,_,w,T,E,v;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{E=e.localeData(d)}catch{E=e.localeData(e.locale())}return m=E.currency.symbol,w=E.abbreviations,h=E.delimiters.decimal,E.delimiters.thousands==="."?f="\\.":f=E.delimiters.thousands,v=u.match(/^[^\d]+/),v!==null&&(u=u.substr(1),v[0]!==m)||(v=u.match(/[^\d]+$/),v!==null&&(u=u.slice(0,-1),v[0]!==w.thousand&&v[0]!==w.million&&v[0]!==w.billion&&v[0]!==w.trillion))?!1:(T=new RegExp(f+"{2}"),u.match(/[^\d.,]/g)?!1:(_=u.split(h),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(T):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(T)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(T)&&!!_[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,d){var h=this._value,f=u||a.defaultFormat,m,_,w;if(d=d||Math.round,h===0&&a.zeroFormat!==null)_=a.zeroFormat;else if(h===null&&a.nullFormat!==null)_=a.nullFormat;else{for(m in i)if(f.match(i[m].regexps.format)){w=i[m].format;break}w=w||e._.numberToFormat,_=w(h,f,d)}return _},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,_,w){return f+Math.round(d*m)}return this._value=n.reduce([this._value,u],h,0)/d,this},subtract:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,_,w){return f-Math.round(d*m)}return this._value=n.reduce([u],h,Math.round(this._value*d))/d,this},multiply:function(u){function d(h,f,m,_){var w=n.correctionFactor(h,f);return Math.round(h*w)*Math.round(f*w)/Math.round(w*w)}return this._value=n.reduce([this._value,u],d,1),this},divide:function(u){function d(h,f,m,_){var w=n.correctionFactor(h,f);return Math.round(h*w)/Math.round(f*w)}return this._value=n.reduce([this._value,u],d),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var d=u%10;return~~(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,d,h){var f=e._.includes(d," BPS")?" ":"",m;return u=u*1e4,d=d.replace(/\s?BPS/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"BPS"),m=m.join("")):m=m+f+"BPS",m},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=u.suffixes.concat(d.suffixes.filter(function(m){return u.suffixes.indexOf(m)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(m,_,w){var T,E=e._.includes(_,"ib")?d:u,v=e._.includes(_," b")||e._.includes(_," ib")?" ":"",I,k,x;for(_=_.replace(/\s?i?b/,""),I=0;I<=E.suffixes.length;I++)if(k=Math.pow(E.base,I),x=Math.pow(E.base,I+1),m===null||m===0||m>=k&&m<x){v+=E.suffixes[I],k>0&&(m=m/k);break}return T=e._.numberToFormat(m,_,w),T+v},unformat:function(m){var _=e._.stringToNumber(m),w,T;if(_){for(w=u.suffixes.length-1;w>=0;w--){if(e._.includes(m,u.suffixes[w])){T=Math.pow(u.base,w);break}if(e._.includes(m,d.suffixes[w])){T=Math.pow(d.base,w);break}}_*=T||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,w,T;for(d=d.replace(/\s?\$\s?/,""),_=e._.numberToFormat(u,d,h),u>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),T=0;T<m.before.length;T++)switch(w=m.before[T],w){case"$":_=e._.insert(_,f.currency.symbol,T);break;case" ":_=e._.insert(_," ",T+f.currency.symbol.length-1);break}for(T=m.after.length-1;T>=0;T--)switch(w=m.after[T],w){case"$":_=T===m.after.length-1?_+f.currency.symbol:e._.insert(_,f.currency.symbol,-(m.after.length-(1+T)));break;case" ":_=T===m.after.length-1?_+" ":e._.insert(_," ",-(m.after.length-(1+T)+f.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,d,h){var f,m=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",_=m.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(_[0]),d,h),f+"e"+_[1]},unformat:function(u){var d=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(u,"e-")?f*=-1:f;function m(_,w,T,E){var v=e._.correctionFactor(_,w),I=_*v*(w*v)/(v*v);return I}return e._.reduce([h,Math.pow(10,f)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m,_=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),_+=f.ordinal(u),m=e._.numberToFormat(u,d,h),m+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,d,h){var f=e._.includes(d," %")?" ":"",m;return e.options.scalePercentBy100&&(u=u*100),d=d.replace(/\s?\%/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"%"),m=m.join("")):m=m+f+"%",m},unformat:function(u){var d=e._.stringToNumber(u);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,d,h){var f=Math.floor(u/60/60),m=Math.floor((u-f*60*60)/60),_=Math.round(u-f*60*60-m*60);return f+":"+(m<10?"0"+m:m)+":"+(_<10?"0"+_:_)},unformat:function(u){var d=u.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(eC);var d5=eC.exports;const h5=av(d5),P0=({amount:t})=>h5(t).format("$0.00"),Si=V.createContext(),f5=({children:t,reducer:e,initialState:n})=>O.jsx(Si.Provider,{value:V.useReducer(e,n),children:t}),Hn={ADD_TO_BASKET:"add_to_basket",REMOVE_FROM_BASKET:"remove_from_basket",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function vl({product:t,flex:e,renderDescription:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:l,description:u}=t,[d,h]=V.useContext(Si),f=()=>{h({type:Hn.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:l,description:u}})};return O.jsxs("div",{className:`${Tu.card_container} ${e&&Tu.product_flexed}`,children:[O.jsx(dr,{to:`/products/${o}`,children:O.jsx("img",{src:i,alt:""})}),O.jsxs("div",{children:[O.jsx("h3",{children:s}),n&&O.jsx("div",{style:{maxWidth:"750px"},children:u}),O.jsxs("div",{className:Tu.rating,children:[O.jsx(c5,{value:a==null?void 0:a.rate,precision:.1}),O.jsx("small",{children:a==null?void 0:a.count})]}),O.jsx("div",{children:O.jsx(P0,{amount:l})}),r&&O.jsx("button",{className:Tu.button,onClick:f,children:"add to cart"})]})]})}var p5={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function tC(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return p5[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function va(t){var e=tC(t);return"".concat(e.value).concat(e.unit)}var w_=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},$f;(function(t){t.maroon="#800000",t.red="#FF0000",t.orange="#FFA500",t.yellow="#FFFF00",t.olive="#808000",t.green="#008000",t.purple="#800080",t.fuchsia="#FF00FF",t.lime="#00FF00",t.teal="#008080",t.aqua="#00FFFF",t.blue="#0000FF",t.navy="#000080",t.black="#000000",t.gray="#808080",t.silver="#C0C0C0",t.white="#FFFFFF"})($f||($f={}));var m5=function(t,e){if(t.includes("/"))return t.replace("rgb(","rgba(");var n=t.substring(t.startsWith("rgba(")?5:4,t.length-1).trim(),r=n.split(",");return r.length===4?t.replace("rgb(","rgba("):r.length===3?"rgba(".concat(n,", ").concat(e,")"):"rgba(".concat(n," / ").concat(e,")")},g5=function(t,e){if(t.startsWith("rgb"))return m5(t,e);if(Object.keys($f).includes(t)&&(t=$f[t]),t[0]==="#"&&(t=t.slice(1)),t.length===3){var n="";t.split("").forEach(function(i){n+=i,n+=i}),t=n}var r=(t.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")},zf=function(){return zf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zf.apply(this,arguments)},y5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_5=w_("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function E_(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=y5(t,["loading","color","speedMultiplier","cssOverride","size"]),f=zf({background:"transparent !important",width:va(d),height:va(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(_5," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?V.createElement("span",zf({style:f},h)):null}var Wf=function(){return Wf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wf.apply(this,arguments)},v5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function w5(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?50:u,h=v5(t,["loading","color","speedMultiplier","cssOverride","size"]),f=tC(d),m=f.value,_=f.unit,w=Wf({display:"inherit",position:"relative",width:va(d),height:va(d),transform:"rotate(165deg)"},l),T=m/5,E=(m-T)/2,v=E-T,I=g5(i,.75),k=w_("HashLoader","0% {width: ".concat(T,"px; box-shadow: ").concat(E,"px ").concat(-v,"px ").concat(I,", ").concat(-E,"px ").concat(v,"px ").concat(I,`}
    35% {width: `).concat(va(d),"; box-shadow: 0 ").concat(-v,"px ").concat(I,", 0 ").concat(v,"px ").concat(I,`}
    70% {width: `).concat(T,"px; box-shadow: ").concat(-E,"px ").concat(-v,"px ").concat(I,", ").concat(E,"px ").concat(v,"px ").concat(I,`}
    100% {box-shadow: `).concat(E,"px ").concat(-v,"px ").concat(I,", ").concat(-E,"px ").concat(v,"px ").concat(I,"}"),"before"),x=w_("HashLoader","0% {height: ".concat(T,"px; box-shadow: ").concat(v,"px ").concat(E,"px ").concat(i,", ").concat(-v,"px ").concat(-E,"px ").concat(i,`}
    35% {height: `).concat(va(d),"; box-shadow: ").concat(v,"px 0 ").concat(i,", ").concat(-v,"px 0 ").concat(i,`}
    70% {height: `).concat(T,"px; box-shadow: ").concat(v,"px ").concat(-E,"px ").concat(i,", ").concat(-v,"px ").concat(E,"px ").concat(i,`}
    100% {box-shadow: `).concat(v,"px ").concat(E,"px ").concat(i,", ").concat(-v,"px ").concat(-E,"px ").concat(i,"}"),"after"),D=function(b){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(m/5).concat(_),height:"".concat(m/5).concat(_),borderRadius:"".concat(m/10).concat(_),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(b===1?k:x," ").concat(2/o,"s infinite")}};return n?V.createElement("span",Wf({style:w},h),V.createElement("span",{style:D(1)}),V.createElement("span",{style:D(2)})):null}function C0(){return O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:O.jsx(w5,{color:"#36e2de"})})}function E5(){const[t,e]=V.useState([]),[n,r]=V.useState(!1);return V.useEffect(()=>{r(!0),Ye.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),O.jsx(O.Fragment,{children:n?O.jsx(C0,{}):O.jsx("div",{className:Tu.products_container,children:t.map((i,s)=>O.jsx(vl,{product:i,renderAdd:!0},s))})})}const I5="_fixed_9zvjx_1",T5="_header_container_9zvjx_13",S5="_logo_container_9zvjx_31",b5="_delivery_9zvjx_55",R5="_search_9zvjx_77",A5="_order_container_9zvjx_143",P5="_language_9zvjx_171",C5="_cart_9zvjx_197",k5="_lower_container_9zvjx_221",Zr={fixed:I5,header_container:T5,logo_container:S5,delivery:b5,search:R5,order_container:A5,language:P5,cart:C5,lower_container:k5};var nC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aS=me.createContext&&me.createContext(nC),x5=["attr","size","title"];function O5(t,e){if(t==null)return{};var n=N5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){D5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D5(t,e,n){return e=V5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V5(t){var e=L5(t,"string");return typeof e=="symbol"?e:e+""}function L5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rC(t){return t&&t.map((e,n)=>me.createElement(e.tag,Hf({key:n},e.attr),rC(e.child)))}function wl(t){return e=>me.createElement(M5,qf({attr:Hf({},t.attr)},e),rC(t.child))}function M5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=O5(t,x5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),me.createElement("svg",qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Hf(Hf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return aS!==void 0?me.createElement(aS.Consumer,null,n=>e(n)):e(nC)}function F5(t){return wl({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}function U5(t){return wl({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function j5(t){return wl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}function B5(t){return wl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}function $5(){return O.jsx("div",{className:Zr.lower_container,children:O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx(B5,{}),O.jsx("p",{children:"All"})]}),O.jsx("li",{children:"Today's Deals"}),O.jsx("li",{children:"Customer Service"}),O.jsx("li",{children:"Registry"}),O.jsx("li",{children:"Gift Cards"}),O.jsx("li",{children:"Sell"})]})})}var uS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new W5;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q5=function(t){const e=iC(t);return sC.encodeByteArray(e,!0)},Kf=function(t){return q5(t).replace(/\./g,"")},oC=function(t){try{return sC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!H5(n)||(t[n]=Gf(t[n],e[n]));return t}function H5(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=()=>aC().__FIREBASE_DEFAULTS__,G5=()=>{if(typeof process>"u"||typeof uS>"u")return;const t=uS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oC(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return K5()||G5()||Q5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J5=t=>{var e,n;return(n=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lC=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=rm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kf(JSON.stringify(n)),Kf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function k0(){var t;const e=(t=rm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e$(){return typeof window<"u"||cC()}function cC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function t$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hC(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fC(){return!k0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bc(){try{return typeof indexedDB=="object"}catch{return!1}}function n$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="FirebaseError";class ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r$,Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?i$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ln(i,a,r)}}function i$(t,e){return t.replace(s$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dS(s)&&dS(o)){if(!Wa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pC(t,e){const n=new a$(t,e);return n.subscribe.bind(n)}class a${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qg),i.error===void 0&&(i.error=qg),i.complete===void 0&&(i.complete=qg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d$(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c$(t){return t===Ks?void 0:t}function d$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=[];var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const gC={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},h$=de.INFO,f$={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},p$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=h$,this._logHandler=p$,this._userLogHandler=null,O0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}function m$(t){O0.forEach(e=>{e.setLogLevel(t)})}function g$(t,e){for(const n of O0){let r=null;e&&e.level&&(r=gC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:de[s].toLowerCase(),message:a,args:o,type:i.name})}}}const y$=(t,e)=>e.some(n=>t instanceof n);let hS,fS;function _$(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v$(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yC=new WeakMap,I_=new WeakMap,_C=new WeakMap,Hg=new WeakMap,N0=new WeakMap;function w$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(as(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yC.set(n,t)}).catch(()=>{}),N0.set(e,t),e}function E$(t){if(I_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});I_.set(t,e)}let T_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return I_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I$(t){T_=t(T_)}function T$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kg(this),e,...n);return _C.set(r,e.sort?e.sort():[e]),as(r)}:v$().includes(t)?function(...e){return t.apply(Kg(this),e),as(yC.get(this))}:function(...e){return as(t.apply(Kg(this),e))}}function S$(t){return typeof t=="function"?T$(t):(t instanceof IDBTransaction&&E$(t),y$(t,_$())?new Proxy(t,T_):t)}function as(t){if(t instanceof IDBRequest)return w$(t);if(Hg.has(t))return Hg.get(t);const e=S$(t);return e!==t&&(Hg.set(t,e),N0.set(e,t)),e}const Kg=t=>N0.get(t);function b$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",l=>{r(as(o.result),l.oldVersion,l.newVersion,as(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const R$=["get","getKey","getAll","getAllKeys","count"],A$=["put","add","delete","clear"],Gg=new Map;function pS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gg.get(e))return Gg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gg.set(e,s),s}I$(t=>({...t,get:(e,n,r)=>pS(e,n)||t.get(e,n,r),has:(e,n)=>!!pS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",S_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new im("@firebase/app"),k$="@firebase/app-compat",x$="@firebase/analytics-compat",O$="@firebase/analytics",N$="@firebase/app-check-compat",D$="@firebase/app-check",V$="@firebase/auth",L$="@firebase/auth-compat",M$="@firebase/database",F$="@firebase/data-connect",U$="@firebase/database-compat",j$="@firebase/functions",B$="@firebase/functions-compat",$$="@firebase/installations",z$="@firebase/installations-compat",W$="@firebase/messaging",q$="@firebase/messaging-compat",H$="@firebase/performance",K$="@firebase/performance-compat",G$="@firebase/remote-config",Q$="@firebase/remote-config-compat",J$="@firebase/storage",Y$="@firebase/storage-compat",X$="@firebase/firestore",Z$="@firebase/vertexai",e3="@firebase/firestore-compat",t3="firebase",n3="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]",r3={[Qf]:"fire-core",[k$]:"fire-core-compat",[O$]:"fire-analytics",[x$]:"fire-analytics-compat",[D$]:"fire-app-check",[N$]:"fire-app-check-compat",[V$]:"fire-auth",[L$]:"fire-auth-compat",[M$]:"fire-rtdb",[F$]:"fire-data-connect",[U$]:"fire-rtdb-compat",[j$]:"fire-fn",[B$]:"fire-fn-compat",[$$]:"fire-iid",[z$]:"fire-iid-compat",[W$]:"fire-fcm",[q$]:"fire-fcm-compat",[H$]:"fire-perf",[K$]:"fire-perf-compat",[G$]:"fire-rc",[Q$]:"fire-rc-compat",[J$]:"fire-gcs",[Y$]:"fire-gcs-compat",[X$]:"fire-fst",[e3]:"fire-fst-compat",[Z$]:"fire-vertex","fire-js":"fire-js",[t3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Map,qa=new Map,Ha=new Map;function Rc(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vC(t,e){t.container.addOrOverwriteComponent(e)}function ys(t){const e=t.name;if(Ha.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Ha.set(e,t);for(const n of gs.values())Rc(n,t);for(const n of qa.values())Rc(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function i3(t,e,n=ms){sm(t,e).clearInstance(n)}function wC(t){return t.options!==void 0}function it(t){return t.settings!==void 0}function s3(){Ha.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new Do("app","Firebase",o3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends EC{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,pr(Qf,S_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){V0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=n3;function D0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ms,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qn.create("bad-app-name",{appName:String(i)});if(n||(n=lC()),!n)throw Qn.create("no-options");const s=gs.get(i);if(s){if(Wa(n,s.options)&&Wa(r,s.config))return s;throw Qn.create("duplicate-app",{appName:i})}const o=new mC(i);for(const l of Ha.values())o.addComponent(l);const a=new EC(n,r,o);return gs.set(i,a),a}function l3(t,e){if(e$()&&!cC())throw Qn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;wC(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Qn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=qa.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new mC(s);for(const u of Ha.values())a.addComponent(u);const l=new a3(n,e,s,a);return qa.set(s,l),l}function IC(t=ms){const e=gs.get(t);if(!e&&t===ms&&lC())return D0();if(!e)throw Qn.create("no-app",{appName:t});return e}function u3(){return Array.from(gs.values())}async function V0(t){let e=!1;const n=t.name;gs.has(n)?(e=!0,gs.delete(n)):qa.has(n)&&t.decRefCount()<=0&&(qa.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function pr(t,e,n){var r;let i=(r=r3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}ys(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function TC(t,e){if(t!==null&&typeof t!="function")throw Qn.create("invalid-log-argument");g$(t,e)}function SC(t){m$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebase-heartbeat-database",d3=1,Ac="firebase-heartbeat-store";let Qg=null;function bC(){return Qg||(Qg=b$(c3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),Qg}async function h3(t){try{const n=(await bC()).transaction(Ac),r=await n.objectStore(Ac).get(RC(t));return await n.done,r}catch(e){if(e instanceof ln)_i.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function mS(t,e){try{const r=(await bC()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,RC(t)),await r.done}catch(n){if(n instanceof ln)_i.warn(n.message);else{const r=Qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function RC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1024,p3=30*24*60*60*1e3;class m3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=p3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gS(),{heartbeatsToSend:r,unsentEntries:i}=g3(this._heartbeatsCache.heartbeats),s=Kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}}}function gS(){return new Date().toISOString().substring(0,10)}function g3(t,e=f3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bc()?n$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yS(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){ys(new Br("platform-logger",e=>new P$(e),"PRIVATE")),ys(new Br("heartbeat",e=>new m3(e),"PRIVATE")),pr(Qf,S_,t),pr(Qf,S_,"esm2017"),pr("fire-js","")}_3("");const v3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ln,SDK_VERSION:Os,_DEFAULT_ENTRY_NAME:ms,_addComponent:Rc,_addOrOverwriteComponent:vC,_apps:gs,_clearComponents:s3,_components:Ha,_getProvider:sm,_isFirebaseApp:wC,_isFirebaseServerApp:it,_registerComponent:ys,_removeServiceInstance:i3,_serverApps:qa,deleteApp:V0,getApp:IC,getApps:u3,initializeApp:D0,initializeServerApp:l3,onLog:TC,registerVersion:pr,setLogLevel:SC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this._delegate=e,this.firebase=n,Rc(e,new Br("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),V0(this._delegate)))}_getService(e,n=ms){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ms){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Rc(this._delegate,e)}_addOrOverwriteComponent(e){vC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},_S=new Do("app-compat","Firebase",E3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:pr,setLogLevel:SC,onLog:TC,apps:null,SDK_VERSION:Os,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:v3}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ms,!cS(e,u))throw _S.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=D0(u,d);if(cS(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(ys(u)&&u.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw _S.create("invalid-app-argument",{appName:d});return m[h]()};u.serviceProps!==void 0&&Gf(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,u.multipleInstances?m:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){const t=I3(w3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:AC,extendNamespace:e,createSubscribe:pC,ErrorFactory:Do,deepExtend:Gf});function e(n){Gf(t,n)}return t}const T3=AC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new im("@firebase/app-compat"),S3="@firebase/app-compat",b3="0.2.46";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){pr(S3,b3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=aC();if(t.firebase!==void 0){vS.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vS.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Vo=T3;R3();var A3="firebase",P3="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo.registerVersion(A3,P3,"app-compat");function L0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ou={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function PC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k3=C3,x3=PC,CC=new Do("auth","Firebase",PC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new im("@firebase/auth");function O3(t,...e){Jf.logLevel<=de.WARN&&Jf.warn(`Auth (${Os}): ${t}`,...e)}function Gh(t,...e){Jf.logLevel<=de.ERROR&&Jf.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,...e){throw F0(t,...e)}function Tt(t,...e){return F0(t,...e)}function M0(t,e,n){const r=Object.assign(Object.assign({},x3()),{[e]:n});return new Do("auth","Firebase",r).create(e,{appName:t.name})}function Ct(t){return M0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Il(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kt(t,"argument-error"),M0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CC.create(t,...e)}function W(t,e,...n){if(!t)throw F0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function gr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U0(){return wS()==="http:"||wS()==="https:"}function wS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U0()||dC()||"connection"in navigator)?navigator.onLine:!0}function D3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z5()||x0()}get(){return N3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new ud(3e4,6e4);function ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function at(t,e,n,r,i={}){return xC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=El(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return t$()||(u.referrerPolicy="no-referrer"),kC.fetch()(OC(t,t.config.apiHost,n,a),u)})}async function xC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V3),e);try{const i=new F3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Au(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw M0(t,d,u);kt(t,d)}}catch(i){if(i instanceof ln)throw i;kt(t,"network-request-failed",{message:String(i)})}}async function bi(t,e,n,r,i={}){const s=await at(t,e,n,r,i);return"mfaPendingCredential"in s&&kt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j0(t.config,i):`${t.config.apiScheme}://${i}`}function M3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tt(this.auth,"network-request-failed")),L3.get())})}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){return t!==void 0&&t.getResponse!==void 0}function IS(t){return t!==void 0&&t.enterprise!==void 0}class NC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t){return(await at(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function DC(t,e){return at(t,"GET","/v2/recaptchaConfig",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e){return at(t,"POST","/v1/accounts:delete",e)}async function B3(t,e){return at(t,"POST","/v1/accounts:update",e)}async function VC(t,e){return at(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $3(t,e=!1){const n=ee(t),r=await n.getIdToken(e),i=om(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qu(Jg(i.auth_time)),issuedAtTime:qu(Jg(i.iat)),expirationTime:qu(Jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jg(t){return Number(t)*1e3}function om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=oC(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TS(t){const e=om(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ln&&z3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vi(t,VC(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LC(s.providerUserInfo):[],a=H3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new b_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function q3(t){const e=ee(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LC(t){return t.map(e=>{var{providerId:n}=e,r=L0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e){const n=await xC(t,{},async()=>{const r=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G3(t,e){return at(t,"POST","/v2/accounts:revokeToken",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=TS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await K3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ca;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new b_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $3(this,e)}reload(){return q3(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(Ct(this.auth));const e=await this.getIdToken();return await vi(this,j3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:k,isAnonymous:x,providerData:D,stsTokenManager:b}=n;W(I&&b,e,"internal-error");const S=Ca.fromJSON(this.name,b);W(typeof I=="string",e,"internal-error"),Fi(h,e.name),Fi(f,e.name),W(typeof k=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),Fi(m,e.name),Fi(_,e.name),Fi(w,e.name),Fi(T,e.name),Fi(E,e.name),Fi(v,e.name);const A=new oi({uid:I,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:x,photoURL:_,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:E,lastLoginAt:v});return D&&Array.isArray(D)&&(A.providerData=D.map(g=>Object.assign({},g))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ca;i.updateFromServerResponse(n);const s=new oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?LC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ca;a.updateFromIdToken(r);const l=new oi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new b_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function On(t){gr(t instanceof Function,"Expected a class definition");let e=SS.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MC.type="NONE";const Ka=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ho(this.userKey,i.apiKey,s),this.fullPersistenceKey=ho("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(On(Ka),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||On(Ka);const o=ho(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=oi._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ka(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ka(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($C(e))return"Blackberry";if(zC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||jC(e))&&!e.includes("edge/"))return"Chrome";if(cd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FC(t=Xe()){return/firefox\//i.test(t)}function UC(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jC(t=Xe()){return/crios\//i.test(t)}function BC(t=Xe()){return/iemobile/i.test(t)}function cd(t=Xe()){return/android/i.test(t)}function $C(t=Xe()){return/blackberry/i.test(t)}function zC(t=Xe()){return/webos/i.test(t)}function dd(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q3(t=Xe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function J3(t=Xe()){var e;return dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y3(){return hC()&&document.documentMode===10}function WC(t=Xe()){return dd(t)||cd(t)||zC(t)||$C(t)||/windows phone/i.test(t)||BC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e=[]){let n;switch(t){case"Browser":n=bS(Xe());break;case"Worker":n=`${bS(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e={}){return at(t,"GET","/v2/passwordPolicy",ot(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=6;class tz{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ez,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RS(this),this.idTokenSubscription=new RS(this),this.beforeStateQueue=new X3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VC(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(it(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(Ct(this));const n=e?ee(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(Ct(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(Ct(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(On(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z3(this),n=new tz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&On(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ze(t){return ee(t)}class RS{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rz(t){hd=t}function B0(t){return hd.loadJS(t)}function iz(){return hd.recaptchaV2Script}function sz(){return hd.recaptchaEnterpriseScript}function oz(){return hd.gapiScript}function HC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=500,lz=6e4,gh=1e12;class uz{constructor(e){this.auth=e,this.counter=gh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new hz(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class cz{constructor(){this.enterprise=new dz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hz{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=fz(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},lz)},az))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function fz(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const pz="recaptcha-enterprise",Hu="NO_RECAPTCHA";class KC{constructor(e){this.type=pz,this.auth=Ze(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new NC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;IS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Hu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cz().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&IS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sz();l.length!==0&&(l+=a),B0(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function au(t,e,n,r=!1,i=!1){const s=new KC(t);let o;if(i)o=Hu;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ls(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await au(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await au(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await au(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await au(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await au(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}async function mz(t){const e=Ze(t),n=await DC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new NC(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new KC(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t,e){const n=sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wa(s,e??{}))return i;kt(i,"already-initialized")}return n.initialize({options:e})}function yz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(On);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GC(t,e,n){const r=Ze(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=QC(e),{host:o,port:a}=_z(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vz()}function QC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _z(t){const e=QC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AS(o)}}}function AS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e){return at(t,"POST","/v1/accounts:resetPassword",ot(t,e))}async function wz(t,e){return at(t,"POST","/v1/accounts:update",e)}async function Ez(t,e){return at(t,"POST","/v1/accounts:signUp",e)}async function Iz(t,e){return at(t,"POST","/v1/accounts:update",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){return bi(t,"POST","/v1/accounts:signInWithPassword",ot(t,e))}async function am(t,e){return at(t,"POST","/v1/accounts:sendOobCode",ot(t,e))}async function Sz(t,e){return am(t,e)}async function bz(t,e){return am(t,e)}async function Rz(t,e){return am(t,e)}async function Az(t,e){return am(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){return bi(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}async function Cz(t,e){return bi(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Tl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ls(e,n,"signInWithPassword",Tz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Pz(e,{email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ls(e,r,"signUpPassword",Ez,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Cz(e,{idToken:n,email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hi(t,e){return bi(t,"POST","/v1/accounts:signInWithIdp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="http://localhost";class $r extends Tl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $r(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}buildRequest(){const e={requestUri:kz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=El(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e){return at(t,"POST","/v1/accounts:sendVerificationCode",ot(t,e))}async function xz(t,e){return bi(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e))}async function Oz(t,e){const n=await bi(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e));if(n.temporaryProof)throw Au(t,"account-exists-with-different-credential",n);return n}const Nz={USER_NOT_FOUND:"user-not-found"};async function Dz(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return bi(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,n),Nz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Tl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new fo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new fo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return xz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Oz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Dz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new fo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lz(t){const e=wa(Ru(t)).link,n=e?wa(Ru(e)).deep_link_id:null,r=wa(Ru(t)).deep_link_id;return(r?wa(Ru(r)).link:null)||r||n||e||t}class lm{constructor(e){var n,r,i,s,o,a;const l=wa(Ru(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Vz((i=l.mode)!==null&&i!==void 0?i:null);W(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Lz(e);try{return new lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lm.parseLink(n);return W(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}Ns.PROVIDER_ID="password";Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xa extends Sl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),$r._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return xa.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return xa.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new xa(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Sl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Sl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="http://localhost";class Ga extends Tl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ga(r,s)}static _create(e,n){return new Ga(e,n)}buildRequest(){return{requestUri:Mz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="saml.";class Yf extends Ri{constructor(e){W(e.startsWith(Fz),"argument-error"),super(e)}static credentialFromResult(e){return Yf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ga.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ga._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Sl{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e){return bi(t,"POST","/v1/accounts:signUp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await oi._fromIdTokenResponse(e,r,i),o=CS(r);return new Xn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CS(r);return new Xn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t){var e;if(it(t.app))return Promise.reject(Ct(t));const n=Ze(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await YC(n,{returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function XC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t,e){const n=ee(t);await um(!0,n,e);const{providerUserInfo:r}=await B3(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=ZC(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function $0(t,e,n=!1){const r=await vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xn._forOperation(t,"link",r)}async function um(t,e,n){await Cc(e);const r=ZC(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(t,e,n=!1){const{auth:r}=t;if(it(r.app))return Promise.reject(Ct(r));const i="reauthenticate";try{const s=await vi(t,XC(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=om(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Xn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t,e,n=!1){if(it(t.app))return Promise.reject(Ct(t));const r="signIn",i=await XC(t,r,e),s=await Xn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function cm(t,e){return tk(Ze(t),e)}async function nk(t,e){const n=ee(t);return await um(!1,n,e.providerId),$0(n,e)}async function rk(t,e){return ek(ee(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){return bi(t,"POST","/v1/accounts:signInWithCustomToken",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){if(it(t.app))return Promise.reject(Ct(t));const n=Ze(t),r=await Bz(n,{token:e,returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?z0._fromServerResponse(e,n):"totpInfo"in n?W0._fromServerResponse(e,n):kt(e,"internal-error")}}class z0 extends fd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new z0(n)}}class W0 extends fd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new W0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(t){const e=Ze(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zz(t,e,n){const r=Ze(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&dm(r,i,n),await ls(r,i,"getOobCode",bz,"EMAIL_PASSWORD_PROVIDER")}async function Wz(t,e,n){await JC(ee(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q0(t),r})}async function qz(t,e){await Iz(ee(t),{oobCode:e})}async function ik(t,e){const n=ee(t),r=await JC(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=fd._fromServerResponse(Ze(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Hz(t,e){const{data:n}=await ik(ee(t),e);return n.email}async function sk(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),o=await ls(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YC,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&q0(t),l}),a=await Xn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ok(t,e,n){return it(t.app)?Promise.reject(Ct(t)):cm(ee(t),Ns.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e,n){const r=Ze(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&dm(r,o,a)}s(i,n),await ls(r,i,"getOobCode",Rz,"EMAIL_PASSWORD_PROVIDER")}function Gz(t,e){const n=lm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Qz(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=ee(t),i=Ns.credentialWithLink(e,n||Pc());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),cm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e){return at(t,"POST","/v1/accounts:createAuthUri",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e){const n=U0()?Pc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Jz(ee(t),r);return i||[]}async function Xz(t,e){const n=ee(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&dm(n.auth,i,e);const{email:s}=await Sz(n.auth,i);s!==t.email&&await t.reload()}async function Zz(t,e,n){const r=ee(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&dm(r.auth,s,n);const{email:o}=await Az(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e){return at(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ee(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vi(r,e9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function n9(t,e){const n=ee(t);return it(n.auth.app)?Promise.reject(Ct(n.auth)):ak(n,e,null)}function r9(t,e){return ak(ee(t),null,e)}async function ak(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await vi(t,wz(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=om(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Oa(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new s9(s,i);case"github.com":return new o9(s,i);case"google.com":return new a9(s,i);case"twitter.com":return new l9(s,i,t.screenName||null);case"custom":case"anonymous":return new Oa(s,null);default:return new Oa(s,r,i)}}class Oa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class lk extends Oa{constructor(e,n,r,i){super(e,n,r),this.username=i}}class s9 extends Oa{constructor(e,n){super(e,"facebook.com",n)}}class o9 extends lk{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class a9 extends Oa{constructor(e,n){super(e,"google.com",n)}}class l9 extends lk{constructor(e,n,r){super(e,"twitter.com",n,r)}}function u9(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:i9(n)}function c9(t,e,n,r){return ee(t).onIdTokenChanged(e,n,r)}function d9(t,e,n){return ee(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new so("enroll",e,n)}static _fromMfaPendingCredential(e){return new so("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return so._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return so._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ze(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>fd._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=so._fromMfaPendingCredential(i.mfaPendingCredential);return new H0(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Xn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),Xn._forOperation(n.user,n.operationType,u);default:kt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function h9(t,e){var n;const r=ee(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),H0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:start",ot(t,e))}function f9(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:finalize",ot(t,e))}function p9(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(t,e))}class K0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>fd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new K0(e)}async getSession(){return so._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await vi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await vi(this.user,p9(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Yg=new WeakMap;function m9(t){const e=ee(t);return Yg.has(e)||Yg.set(e,K0._fromUser(e)),Yg.get(e)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=1e3,y9=10;class ck extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Y3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,y9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ck.type="LOCAL";const hm=ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dk.type="SESSION";const _s=dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=pd("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return window}function w9(t){mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof mt().WorkerGlobalScope<"u"&&typeof mt().importScripts=="function"}async function E9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T9(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebaseLocalStorageDb",S9=1,ep="firebaseLocalStorage",fk="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function b9(){const t=indexedDB.deleteDatabase(hk);return new md(t).toPromise()}function R_(){const t=indexedDB.open(hk,S9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ep,{keyPath:fk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ep)?e(r):(r.close(),await b9(),e(await R_()))})})}async function xS(t,e,n){const r=pm(t,!0).put({[fk]:e,value:n});return new md(r).toPromise()}async function R9(t,e){const n=pm(t,!1).get(e),r=await new md(n).toPromise();return r===void 0?null:r.value}function OS(t,e){const n=pm(t,!0).delete(e);return new md(n).toPromise()}const A9=800,P9=3;class pk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(T9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E9(),!this.activeServiceWorker)return;this.sender=new v9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R_();return await xS(e,Zf,"1"),await OS(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pm(i,!1).getAll();return new md(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pk.type="LOCAL";const Qa=pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){return at(t,"POST","/v2/accounts/mfaSignIn:start",ot(t,e))}function C9(t,e){return at(t,"POST","/v2/accounts/mfaSignIn:finalize",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=HC("rcb"),k9=new ud(3e4,6e4);class x9{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(O9(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ES(mt().grecaptcha)?Promise.resolve(mt().grecaptcha):new Promise((r,i)=>{const s=mt().setTimeout(()=>{i(Tt(e,"network-request-failed"))},k9.get());mt()[Xg]=()=>{mt().clearTimeout(s),delete mt()[Xg];const a=mt().grecaptcha;if(!a||!ES(a)){i(Tt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${iz()}?${El({onload:Xg,render:"explicit",hl:n})}`;B0(o).catch(()=>{clearTimeout(s),i(Tt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function O9(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class N9{async load(e){return new uz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="recaptcha",D9={theme:"light",type:"image"};let V9=class{constructor(e,n,r=Object.assign({},D9)){this.parameters=r,this.type=Ku,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N9:new x9,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(U0()&&!G0(),this.auth,"internal-error"),await L9(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await U3(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function L9(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=fo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function M9(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),i=await mm(r,e,ee(n));return new Q0(i,s=>cm(r,s))}async function F9(t,e,n){const r=ee(t);await um(!1,r,"phone");const i=await mm(r.auth,e,ee(n));return new Q0(i,s=>nk(r,s))}async function U9(t,e,n){const r=ee(t);if(it(r.auth.app))return Promise.reject(Ct(r.auth));const i=await mm(r.auth,e,ee(n));return new Q0(i,s=>rk(r,s))}async function mm(t,e,n){var r;if(!t._getRecaptchaConfig())try{await mz(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){W(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ls(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Hu){W((n==null?void 0:n.type)===Ku,d,"argument-error");const f=await Zg(d,h,n);return kS(d,f)}return kS(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{W(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;W(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ls(t,a,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Hu){W((n==null?void 0:n.type)===Ku,h,"argument-error");const m=await Zg(h,f,n);return NS(h,m)}return NS(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ls(t,s,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Hu){W((n==null?void 0:n.type)===Ku,u,"argument-error");const h=await Zg(u,d,n);return PS(u,h)}return PS(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function j9(t,e){const n=ee(t);if(it(n.auth.app))return Promise.reject(Ct(n.auth));await $0(n,e)}async function Zg(t,e,n){W(n.type===Ku,t,"argument-error");const r=await n.verify();W(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=class Qh{constructor(e){this.providerId=Qh.PROVIDER_ID,this.auth=Ze(e)}verifyPhoneNumber(e,n){return mm(this.auth,e,ee(n))}static credential(e,n){return fo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Qh.credentialFromTaggedObject(n)}static credentialFromError(e){return Qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?fo._fromTokenResponse(n,r):null}};Io.PROVIDER_ID="phone";Io.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t,e){return e?On(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Tl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B9(t){return tk(t.auth,new J0(t),t.bypassAuthState)}function $9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),ek(n,new J0(t),t.bypassAuthState)}async function z9(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),$0(n,new J0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B9;case"linkViaPopup":case"linkViaRedirect":return z9;case"reauthViaPopup":case"reauthViaRedirect":return $9;default:kt(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new ud(2e3,1e4);async function q9(t,e,n){if(it(t.app))return Promise.reject(Tt(t,"operation-not-supported-in-this-environment"));const r=Ze(t);Il(t,e,Ri);const i=Lo(r,n);return new ai(r,"signInViaPopup",e,i).executeNotNull()}async function H9(t,e,n){const r=ee(t);if(it(r.auth.app))return Promise.reject(Tt(r.auth,"operation-not-supported-in-this-environment"));Il(r.auth,e,Ri);const i=Lo(r.auth,n);return new ai(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function K9(t,e,n){const r=ee(t);Il(r.auth,e,Ri);const i=Lo(r.auth,n);return new ai(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ai extends mk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=pd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W9.get())};e()}}ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="pendingRedirect",Gu=new Map;class Q9 extends mk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gu.get(this.auth._key());if(!e){try{const r=await J9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J9(t,e){const n=yk(e),r=gk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Y0(t,e){return gk(t)._set(yk(e),"true")}function Y9(){Gu.clear()}function X0(t,e){Gu.set(t._key(),e)}function gk(t){return On(t._redirectPersistence)}function yk(t){return ho(G9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e,n){return Z9(t,e,n)}async function Z9(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t);Il(t,e,Ri),await r._initializationPromise;const i=Lo(r,n);return await Y0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function e6(t,e,n){return t6(t,e,n)}async function t6(t,e,n){const r=ee(t);if(Il(r.auth,e,Ri),it(r.auth.app))return Promise.reject(Ct(r.auth));await r.auth._initializationPromise;const i=Lo(r.auth,n);await Y0(i,r.auth);const s=await _k(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function n6(t,e,n){return r6(t,e,n)}async function r6(t,e,n){const r=ee(t);Il(r.auth,e,Ri),await r.auth._initializationPromise;const i=Lo(r.auth,n);await um(!1,r,e.providerId),await Y0(i,r.auth);const s=await _k(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function i6(t,e){return await Ze(t)._initializationPromise,gm(t,e,!1)}async function gm(t,e,n=!1){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),i=Lo(r,e),o=await new Q9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function _k(t){const e=pd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=10*60*1e3;class vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(DS(e))}saveEventToCache(e){this.cachedEventUids.add(DS(e)),this.lastProcessedEventTime=Date.now()}}function DS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e={}){return at(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l6=/^https?/;async function u6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ek(t);for(const n of e)try{if(c6(n))return}catch{}kt(t,"unauthorized-domain")}function c6(t){const e=Pc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l6.test(n))return!1;if(a6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new ud(3e4,6e4);function VS(){const t=mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h6(t){return new Promise((e,n)=>{var r,i,s;function o(){VS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VS(),n(Tt(t,"network-request-failed"))},timeout:d6.get()})}if(!((i=(r=mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mt().gapi)===null||s===void 0)&&s.load)o();else{const a=HC("iframefcb");return mt()[a]=()=>{gapi.load?o():n(Tt(t,"network-request-failed"))},B0(`${oz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function f6(t){return Jh=Jh||h6(t),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new ud(5e3,15e3),m6="__/auth/iframe",g6="emulator/auth/iframe",y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v6(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j0(e,g6):`https://${t.config.authDomain}/${m6}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=_6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${El(r).slice(1)}`}async function w6(t){const e=await f6(t),n=mt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:v6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tt(t,"network-request-failed"),a=mt().setTimeout(()=>{s(o)},p6.get());function l(){mt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,T6=600,S6="_blank",b6="http://localhost";class LS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R6(t,e,n,r=I6,i=T6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xe().toLowerCase();n&&(a=jC(u)?S6:n),FC(u)&&(e=e||b6,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(J3(u)&&a!=="_self")return A6(e||"",a),new LS(null);const h=window.open(e||"",a,d);W(h,t,"popup-blocked");try{h.focus()}catch{}return new LS(h)}function A6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",C6="emulator/auth/handler",k6=encodeURIComponent("fac");async function A_(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof Ri){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",o$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Sl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${k6}=${encodeURIComponent(l)}`:"";return`${x6(t)}?${El(a).slice(1)}${u}`}function x6({config:t}){return t.emulator?j0(t,C6):`https://${t.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="webStorageSupport";class O6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=gm,this._overrideRedirectResult=X0}async _openPopup(e,n,r,i){var s;gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await A_(e,n,r,Pc(),i);return R6(e,o,pd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A_(e,n,r,Pc(),i);return w9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w6(e),r=new vk(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ey];o!==void 0&&n(!!o),kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WC()||UC()||dd()}}const Ik=O6;class N6{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Nr("unexpected MultiFactorSessionType")}}}class Z0 extends N6{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Z0(e)}_finalizeEnroll(e,n,r){return f9(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return C9(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Tk{constructor(){}static assertion(e){return Z0._fromCredential(e)}}Tk.FACTOR_ID="phone";var MS="@firebase/auth",FS="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L6(t){ys(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},u=new nz(r,i,s,l);return yz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ys(new Br("auth-internal",e=>{const n=Ze(e.getProvider("auth").getImmediate());return(r=>new D6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(MS,FS,V6(t)),pr(MS,FS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=5*60,F6=uC("authIdTokenMaxAge")||M6;let US=null;const U6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F6)return;const i=n==null?void 0:n.token;US!==i&&(US=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j6(t=IC()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gz(t,{popupRedirectResolver:Ik,persistence:[Qa,hm,_s]}),r=uC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=U6(s.toString());d9(n,o,()=>o(n.currentUser)),c9(n,a=>o(a))}}const i=J5("auth");return i&&GC(n,`http://${i}`),n}function B6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L6("Browser");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,Sk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function A(){}A.prototype=S.prototype,b.D=S.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(g,P,N){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return S.prototype[P].apply(g,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,S,A){A||(A=0);var g=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)g[P]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(P=0;16>P;++P)g[P]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=b.g[0],A=b.g[1],P=b.g[2];var N=b.g[3],C=S+(N^A&(P^N))+g[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=N+(P^S&(A^P))+g[1]+3905402710&4294967295,N=S+(C<<12&4294967295|C>>>20),C=P+(A^N&(S^A))+g[2]+606105819&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(S^P&(N^S))+g[3]+3250441966&4294967295,A=P+(C<<22&4294967295|C>>>10),C=S+(N^A&(P^N))+g[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=N+(P^S&(A^P))+g[5]+1200080426&4294967295,N=S+(C<<12&4294967295|C>>>20),C=P+(A^N&(S^A))+g[6]+2821735955&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(S^P&(N^S))+g[7]+4249261313&4294967295,A=P+(C<<22&4294967295|C>>>10),C=S+(N^A&(P^N))+g[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=N+(P^S&(A^P))+g[9]+2336552879&4294967295,N=S+(C<<12&4294967295|C>>>20),C=P+(A^N&(S^A))+g[10]+4294925233&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(S^P&(N^S))+g[11]+2304563134&4294967295,A=P+(C<<22&4294967295|C>>>10),C=S+(N^A&(P^N))+g[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=N+(P^S&(A^P))+g[13]+4254626195&4294967295,N=S+(C<<12&4294967295|C>>>20),C=P+(A^N&(S^A))+g[14]+2792965006&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(S^P&(N^S))+g[15]+1236535329&4294967295,A=P+(C<<22&4294967295|C>>>10),C=S+(P^N&(A^P))+g[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(S^A))+g[6]+3225465664&4294967295,N=S+(C<<9&4294967295|C>>>23),C=P+(S^A&(N^S))+g[11]+643717713&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^S&(P^N))+g[0]+3921069994&4294967295,A=P+(C<<20&4294967295|C>>>12),C=S+(P^N&(A^P))+g[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(S^A))+g[10]+38016083&4294967295,N=S+(C<<9&4294967295|C>>>23),C=P+(S^A&(N^S))+g[15]+3634488961&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^S&(P^N))+g[4]+3889429448&4294967295,A=P+(C<<20&4294967295|C>>>12),C=S+(P^N&(A^P))+g[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(S^A))+g[14]+3275163606&4294967295,N=S+(C<<9&4294967295|C>>>23),C=P+(S^A&(N^S))+g[3]+4107603335&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^S&(P^N))+g[8]+1163531501&4294967295,A=P+(C<<20&4294967295|C>>>12),C=S+(P^N&(A^P))+g[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(S^A))+g[2]+4243563512&4294967295,N=S+(C<<9&4294967295|C>>>23),C=P+(S^A&(N^S))+g[7]+1735328473&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^S&(P^N))+g[12]+2368359562&4294967295,A=P+(C<<20&4294967295|C>>>12),C=S+(A^P^N)+g[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=N+(S^A^P)+g[8]+2272392833&4294967295,N=S+(C<<11&4294967295|C>>>21),C=P+(N^S^A)+g[11]+1839030562&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^S)+g[14]+4259657740&4294967295,A=P+(C<<23&4294967295|C>>>9),C=S+(A^P^N)+g[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=N+(S^A^P)+g[4]+1272893353&4294967295,N=S+(C<<11&4294967295|C>>>21),C=P+(N^S^A)+g[7]+4139469664&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^S)+g[10]+3200236656&4294967295,A=P+(C<<23&4294967295|C>>>9),C=S+(A^P^N)+g[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=N+(S^A^P)+g[0]+3936430074&4294967295,N=S+(C<<11&4294967295|C>>>21),C=P+(N^S^A)+g[3]+3572445317&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^S)+g[6]+76029189&4294967295,A=P+(C<<23&4294967295|C>>>9),C=S+(A^P^N)+g[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=N+(S^A^P)+g[12]+3873151461&4294967295,N=S+(C<<11&4294967295|C>>>21),C=P+(N^S^A)+g[15]+530742520&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^S)+g[2]+3299628645&4294967295,A=P+(C<<23&4294967295|C>>>9),C=S+(P^(A|~N))+g[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=N+(A^(S|~P))+g[7]+1126891415&4294967295,N=S+(C<<10&4294967295|C>>>22),C=P+(S^(N|~A))+g[14]+2878612391&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~S))+g[5]+4237533241&4294967295,A=P+(C<<21&4294967295|C>>>11),C=S+(P^(A|~N))+g[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=N+(A^(S|~P))+g[3]+2399980690&4294967295,N=S+(C<<10&4294967295|C>>>22),C=P+(S^(N|~A))+g[10]+4293915773&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~S))+g[1]+2240044497&4294967295,A=P+(C<<21&4294967295|C>>>11),C=S+(P^(A|~N))+g[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=N+(A^(S|~P))+g[15]+4264355552&4294967295,N=S+(C<<10&4294967295|C>>>22),C=P+(S^(N|~A))+g[6]+2734768916&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~S))+g[13]+1309151649&4294967295,A=P+(C<<21&4294967295|C>>>11),C=S+(P^(A|~N))+g[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=N+(A^(S|~P))+g[11]+3174756917&4294967295,N=S+(C<<10&4294967295|C>>>22),C=P+(S^(N|~A))+g[2]+718787259&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~S))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+P&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,S){S===void 0&&(S=b.length);for(var A=S-this.blockSize,g=this.B,P=this.h,N=0;N<S;){if(P==0)for(;N<=A;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<S;)if(g[P++]=b.charCodeAt(N++),P==this.blockSize){i(this,g),P=0;break}}else for(;N<S;)if(g[P++]=b[N++],P==this.blockSize){i(this,g),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;var A=8*this.o;for(S=b.length-8;S<b.length;++S)b[S]=A&255,A/=256;for(this.u(b),b=Array(16),S=A=0;4>S;++S)for(var g=0;32>g;g+=8)b[A++]=this.g[S]>>>g&255;return b};function s(b,S){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=S(b)}function o(b,S){this.h=S;for(var A=[],g=!0,P=b.length-1;0<=P;P--){var N=b[P]|0;g&&N==S||(A[P]=N,g=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?s(b,function(S){return new o([S|0],0>S?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return T(u(-b));for(var S=[],A=1,g=0;b>=A;g++)S[g]=b/A|0,A*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return T(d(b.substring(1),S));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(S,8)),g=h,P=0;P<b.length;P+=8){var N=Math.min(8,b.length-P),C=parseInt(b.substring(P,P+N),S);8>N?(N=u(Math.pow(S,N)),g=g.j(N).add(u(C))):(g=g.j(A),g=g.add(u(C)))}return g}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var b=0,S=1,A=0;A<this.g.length;A++){var g=this.i(A);b+=(0<=g?g:4294967296+g)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(w(this))return"-"+T(this).toString(b);for(var S=u(Math.pow(b,6)),A=this,g="";;){var P=k(A,S).g;A=E(A,P.j(S));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=P,_(A))return N+g;for(;6>N.length;)N="0"+N;g=N+g}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=E(this,b),w(b)?-1:_(b)?0:1};function T(b){for(var S=b.g.length,A=[],g=0;g<S;g++)A[g]=~b.g[g];return new o(A,~b.h).add(f)}t.abs=function(){return w(this)?T(this):this},t.add=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],g=0,P=0;P<=S;P++){var N=g+(this.i(P)&65535)+(b.i(P)&65535),C=(N>>>16)+(this.i(P)>>>16)+(b.i(P)>>>16);g=C>>>16,N&=65535,C&=65535,A[P]=C<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(b,S){return b.add(T(S))}t.j=function(b){if(_(this)||_(b))return h;if(w(this))return w(b)?T(this).j(T(b)):T(T(this).j(b));if(w(b))return T(this.j(T(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var S=this.g.length+b.g.length,A=[],g=0;g<2*S;g++)A[g]=0;for(g=0;g<this.g.length;g++)for(var P=0;P<b.g.length;P++){var N=this.i(g)>>>16,C=this.i(g)&65535,ie=b.i(P)>>>16,le=b.i(P)&65535;A[2*g+2*P]+=C*le,v(A,2*g+2*P),A[2*g+2*P+1]+=N*le,v(A,2*g+2*P+1),A[2*g+2*P+1]+=C*ie,v(A,2*g+2*P+1),A[2*g+2*P+2]+=N*ie,v(A,2*g+2*P+2)}for(g=0;g<S;g++)A[g]=A[2*g+1]<<16|A[2*g];for(g=S;g<2*S;g++)A[g]=0;return new o(A,0)};function v(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function I(b,S){this.g=b,this.h=S}function k(b,S){if(_(S))throw Error("division by zero");if(_(b))return new I(h,h);if(w(b))return S=k(T(b),S),new I(T(S.g),T(S.h));if(w(S))return S=k(b,T(S)),new I(T(S.g),S.h);if(30<b.g.length){if(w(b)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var A=f,g=S;0>=g.l(b);)A=x(A),g=x(g);var P=D(A,1),N=D(g,1);for(g=D(g,2),A=D(A,2);!_(g);){var C=N.add(g);0>=C.l(b)&&(P=P.add(A),N=C),g=D(g,1),A=D(A,1)}return S=E(b,P.j(S)),new I(P,S)}for(P=h;0<=b.l(S);){for(A=Math.max(1,Math.floor(b.m()/S.m())),g=Math.ceil(Math.log(A)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),N=u(A),C=N.j(S);w(C)||0<C.l(b);)A-=g,N=u(A),C=N.j(S);_(N)&&(N=f),P=P.add(N),b=E(b,C)}return new I(P,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],g=0;g<S;g++)A[g]=this.i(g)&b.i(g);return new o(A,this.h&b.h)},t.or=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],g=0;g<S;g++)A[g]=this.i(g)|b.i(g);return new o(A,this.h|b.h)},t.xor=function(b){for(var S=Math.max(this.g.length,b.g.length),A=[],g=0;g<S;g++)A[g]=this.i(g)^b.i(g);return new o(A,this.h^b.h)};function x(b){for(var S=b.g.length+1,A=[],g=0;g<S;g++)A[g]=b.i(g)<<1|b.i(g-1)>>>31;return new o(A,b.h)}function D(b,S){var A=S>>5;S%=32;for(var g=b.g.length-A,P=[],N=0;N<g;N++)P[N]=0<S?b.i(N+A)>>>S|b.i(N+A+1)<<32-S:b.i(N+A);return new o(P,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,po=o}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bk,Pu,Rk,Yh,P_,Ak,Pk,Ck;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in y))break e;y=y[M]}c=c[c.length-1],R=y[c],p=p(R),p!=R&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,R=!1,M={next:function(){if(!R&&y<c.length){var U=y++;return{value:p(U,c[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function _(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(R,M,U){for(var H=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)H[Pe-2]=arguments[Pe];return p.prototype[M].apply(R,H)}}function w(c){const p=c.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=c[R];return y}return[]}function T(c,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const M=c.length||0,U=R.length||0;c.length=M+U;for(let H=0;H<U;H++)c[M+H]=R[H]}else c.push(R)}}class E{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var x=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(c,p,y){for(const R in c)p.call(y,c[R],R,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function S(c){const p={};for(const y in c)p[y]=c[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(c,p){let y,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(y in R)c[y]=R[y];for(let U=0;U<A.length;U++)y=A[U],Object.prototype.hasOwnProperty.call(R,y)&&(c[y]=R[y])}}function P(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=te;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,y){const R=le.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var le=new E(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,K=!1,te=new ie,ne=()=>{const c=a.Promise.resolve(void 0);Ie=()=>{c.then(ce)}};var ce=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(y){N(y)}var p=le;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}K=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var Bn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function er(c,p){if(We.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(x){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&er.aa.h.call(this)}}_(er,We);var tr={2:"touch",3:"pen",4:"mouse"};er.prototype.h=function(){er.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nr="closure_listenable_"+(1e6*Math.random()|0),$m=0;function Cd(c,p,y,R,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=M,this.key=++$m,this.da=this.fa=!1}function _r(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sn(c){this.src=c,this.g={},this.h=0}Sn.prototype.add=function(c,p,y,R,M){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var H=ft(c,p,R,M);return-1<H?(p=c[H],y||(p.fa=!1)):(p=new Cd(p,this.src,U,!!R,M),p.fa=y,c.push(p)),p};function xe(c,p){var y=p.type;if(y in c.g){var R=c.g[y],M=Array.prototype.indexOf.call(R,p,void 0),U;(U=0<=M)&&Array.prototype.splice.call(R,M,1),U&&(_r(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function ft(c,p,y,R){for(var M=0;M<c.length;++M){var U=c[M];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==R)return M}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),xi={};function Gr(c,p,y,R,M){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Gr(c,p[U],y,R,M);return null}return y=oE(y),c&&c[nr]?c.K(p,y,u(R)?!!R.capture:!!R,M):Oi(c,p,y,!1,R,M)}function Oi(c,p,y,R,M,U){if(!p)throw Error("Invalid event type");var H=u(M)?!!M.capture:!!M,Pe=zm(c);if(Pe||(c[Zt]=Pe=new Sn(c)),y=Pe.add(p,y,R,H,U),y.proxy)return y;if(R=rr(),y.proxy=R,R.src=c,R.listener=y,c.addEventListener)Bn||(M=H),M===void 0&&(M=!1),c.addEventListener(p.toString(),R,M);else if(c.attachEvent)c.attachEvent(sE(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function rr(){function c(y){return p.call(c.src,c.listener,y)}const p=pN;return c}function vr(c,p,y,R,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)vr(c,p[U],y,R,M);else R=u(R)?!!R.capture:!!R,y=oE(y),c&&c[nr]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],y=ft(U,y,R,M),-1<y&&(_r(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=zm(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ft(p,y,R,M)),(y=-1<c?p[c]:null)&&Fs(y))}function Fs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[nr])xe(p.i,c);else{var y=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(y,R,c.capture):p.detachEvent?p.detachEvent(sE(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=zm(p))?(xe(y,c),y.h==0&&(y.src=null,p[Zt]=null)):_r(c)}}}function sE(c){return c in xi?xi[c]:xi[c]="on"+c}function pN(c,p){if(c.da)c=!0;else{p=new er(p,this);var y=c.listener,R=c.ha||c.src;c.fa&&Fs(c),c=y.call(R,p)}return c}function zm(c){return c=c[Zt],c instanceof Sn?c:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function oE(c){return typeof c=="function"?c:(c[Wm]||(c[Wm]=function(p){return c.handleEvent(p)}),c[Wm])}function Ut(){Te.call(this),this.i=new Sn(this),this.M=this,this.F=null}_(Ut,Te),Ut.prototype[nr]=!0,Ut.prototype.removeEventListener=function(c,p,y,R){vr(this,c,p,y,R)};function en(c,p){var y,R=c.F;if(R)for(y=[];R;R=R.F)y.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new We(p,c);else if(p instanceof We)p.target=p.target||c;else{var M=p;p=new We(R,c),g(p,M)}if(M=!0,y)for(var U=y.length-1;0<=U;U--){var H=p.g=y[U];M=kd(H,R,!0,p)&&M}if(H=p.g=c,M=kd(H,R,!0,p)&&M,M=kd(H,R,!1,p)&&M,y)for(U=0;U<y.length;U++)H=p.g=y[U],M=kd(H,R,!1,p)&&M}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],R=0;R<y.length;R++)_r(y[R]);delete c.g[p],c.h--}}this.F=null},Ut.prototype.K=function(c,p,y,R){return this.i.add(String(c),p,!1,y,R)},Ut.prototype.L=function(c,p,y,R){return this.i.add(String(c),p,!0,y,R)};function kd(c,p,y,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,U=0;U<p.length;++U){var H=p[U];if(H&&!H.da&&H.capture==y){var Pe=H.listener,xt=H.ha||H.src;H.fa&&xe(c.i,H),M=Pe.call(xt,R)!==!1&&M}}return M&&!R.defaultPrevented}function aE(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function lE(c){c.g=aE(()=>{c.g=null,c.i&&(c.i=!1,lE(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class mN extends Te{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:lE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dl(c){Te.call(this),this.h=c,this.g={}}_(Dl,Te);var uE=[];function cE(c){D(c.g,function(p,y){this.g.hasOwnProperty(y)&&Fs(p)},c),c.g={}}Dl.prototype.N=function(){Dl.aa.N.call(this),cE(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qm=a.JSON.stringify,gN=a.JSON.parse,yN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hm(){}Hm.prototype.h=null;function dE(c){return c.h||(c.h=c.i())}function hE(){}var Vl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Km(){We.call(this,"d")}_(Km,We);function Gm(){We.call(this,"c")}_(Gm,We);var Us={},fE=null;function xd(){return fE=fE||new Ut}Us.La="serverreachability";function pE(c){We.call(this,Us.La,c)}_(pE,We);function Ll(c){const p=xd();en(p,new pE(p))}Us.STAT_EVENT="statevent";function mE(c,p){We.call(this,Us.STAT_EVENT,c),this.stat=p}_(mE,We);function tn(c){const p=xd();en(p,new mE(p,c))}Us.Ma="timingevent";function gE(c,p){We.call(this,Us.Ma,c),this.size=p}_(gE,We);function Ml(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Fl(){this.g=!0}Fl.prototype.xa=function(){this.g=!1};function _N(c,p,y,R,M,U){c.info(function(){if(c.g)if(U)for(var H="",Pe=U.split("&"),xt=0;xt<Pe.length;xt++){var _e=Pe[xt].split("=");if(1<_e.length){var jt=_e[0];_e=_e[1];var Bt=jt.split("_");H=2<=Bt.length&&Bt[1]=="type"?H+(jt+"="+_e+"&"):H+(jt+"=redacted&")}}else H=null;else H=U;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+p+`
`+y+`
`+H})}function vN(c,p,y,R,M,U,H){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+p+`
`+y+`
`+U+" "+H})}function Bo(c,p,y,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+EN(c,y)+(R?" "+R:"")})}function wN(c,p){c.info(function(){return"TIMEOUT: "+p})}Fl.prototype.info=function(){};function EN(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var R=y[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return qm(y)}catch{return p}}var Od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qm;function Nd(){}_(Nd,Hm),Nd.prototype.g=function(){return new XMLHttpRequest},Nd.prototype.i=function(){return{}},Qm=new Nd;function Ni(c,p,y,R){this.j=c,this.i=p,this.l=y,this.R=R||1,this.U=new Dl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _E}function _E(){this.i=null,this.g="",this.h=!1}var vE={},Jm={};function Ym(c,p,y){c.L=1,c.v=Md(Qr(p)),c.m=y,c.P=!0,wE(c,null)}function wE(c,p){c.F=Date.now(),Dd(c),c.A=Qr(c.v);var y=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),DE(y.i,"t",R),c.C=0,y=c.j.J,c.h=new _E,c.g=XE(c.j,y?p:null,!c.m),0<c.O&&(c.M=new mN(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(uE[0]=M.toString()),M=uE);for(var U=0;U<M.length;U++){var H=Gr(y,M[U],R||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ll(),_N(c.i,c.u,c.A,c.l,c.R,c.m)}Ni.prototype.ca=function(c){c=c.target;const p=this.M;p&&Jr(c)==3?p.j():this.Y(c)},Ni.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=Jr(this.g);var p=this.g.Ba();const Wo=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||Bt!=4||p==7||(p==8||0>=Wo?Ll(3):Ll(2)),Xm(this);var y=this.g.Z();this.X=y;t:if(EE(this)){var R=BE(this.g);c="";var M=R.length,U=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Ul(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(U&&p==M-1)});R.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,vN(this.i,this.u,this.A,this.l,this.R,Bt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,xt=this.g;if((Pe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pe)){var _e=Pe;break t}}_e=null}if(y=_e)Bo(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zm(this,y);else{this.o=!1,this.s=3,tn(12),js(this),Ul(this);break e}}if(this.P){y=!0;let ir;for(;!this.J&&this.C<H.length;)if(ir=IN(this,H),ir==Jm){Bt==4&&(this.s=4,tn(14),y=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==vE){this.s=4,tn(15),Bo(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else Bo(this.i,this.l,ir,null),Zm(this,ir);if(EE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||H.length!=0||this.h.h||(this.s=1,tn(16),y=!1),this.o=this.o&&y,!y)Bo(this.i,this.l,H,"[Invalid Chunked Response]"),js(this),Ul(this);else if(0<H.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),sg(jt),jt.M=!0,tn(11))}}else Bo(this.i,this.l,H,null),Zm(this,H);Bt==4&&js(this),this.o&&!this.J&&(Bt==4?GE(this.j,this):(this.o=!1,Dd(this)))}else UN(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),js(this),Ul(this)}}}catch{}finally{}};function EE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function IN(c,p){var y=c.C,R=p.indexOf(`
`,y);return R==-1?Jm:(y=Number(p.substring(y,R)),isNaN(y)?vE:(R+=1,R+y>p.length?Jm:(p=p.slice(R,R+y),c.C=R+y,p)))}Ni.prototype.cancel=function(){this.J=!0,js(this)};function Dd(c){c.S=Date.now()+c.I,IE(c,c.I)}function IE(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ml(f(c.ba,c),p)}function Xm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wN(this.i,this.A),this.L!=2&&(Ll(),tn(17)),js(this),this.s=2,Ul(this)):IE(this,this.S-c)};function Ul(c){c.j.G==0||c.J||GE(c.j,c)}function js(c){Xm(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,cE(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Zm(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||eg(y.h,c))){if(!c.K&&eg(y.h,c)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)zd(y),Bd(y);else break e;ig(y),tn(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ml(f(y.Za,y),6e3));if(1>=bE(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else $s(y,11)}else if((c.K||y.g==c)&&zd(y),!v(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let _e=M[p];if(y.T=_e[0],_e=_e[1],y.G==2)if(_e[0]=="c"){y.K=_e[1],y.ia=_e[2];const jt=_e[3];jt!=null&&(y.la=jt,y.j.info("VER="+y.la));const Bt=_e[4];Bt!=null&&(y.Aa=Bt,y.j.info("SVER="+y.Aa));const Wo=_e[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(R=1.5*Wo,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const ir=c.g;if(ir){const qd=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var U=R.h;U.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(tg(U,U.h),U.h=null))}if(R.D){const og=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;og&&(R.ya=og,De(R.I,R.D,og))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var H=c;if(R.qa=YE(R,R.J?R.ia:null,R.W),H.K){RE(R.h,H);var Pe=H,xt=R.L;xt&&(Pe.I=xt),Pe.B&&(Xm(Pe),Dd(Pe)),R.g=H}else HE(R);0<y.i.length&&$d(y)}else _e[0]!="stop"&&_e[0]!="close"||$s(y,7);else y.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?$s(y,7):rg(y):_e[0]!="noop"&&y.l&&y.l.ta(_e),y.v=0)}}Ll(4)}catch{}}var TN=class{constructor(c,p){this.g=c,this.map=p}};function TE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bE(c){return c.h?1:c.g?c.g.size:0}function eg(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function tg(c,p){c.g?c.g.add(p):c.h=p}function RE(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}TE.prototype.cancel=function(){if(this.i=AE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function AE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return w(c.i)}function SN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,R=0;R<y;R++)p.push(c[R]);return p}p=[],y=0;for(R in c)p[y++]=c[R];return p}function bN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const R in c)p[y++]=R;return p}}}function PE(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=bN(c),R=SN(c),M=R.length,U=0;U<M;U++)p.call(void 0,R[U],y&&y[U],c)}var CE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RN(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var R=c[y].indexOf("="),M=null;if(0<=R){var U=c[y].substring(0,R);M=c[y].substring(R+1)}else U=c[y];p(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Bs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bs){this.h=c.h,Vd(this,c.j),this.o=c.o,this.g=c.g,Ld(this,c.s),this.l=c.l;var p=c.i,y=new $l;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),kE(this,y),this.m=c.m}else c&&(p=String(c).match(CE))?(this.h=!1,Vd(this,p[1]||"",!0),this.o=jl(p[2]||""),this.g=jl(p[3]||"",!0),Ld(this,p[4]),this.l=jl(p[5]||"",!0),kE(this,p[6]||"",!0),this.m=jl(p[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}Bs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Bl(p,xE,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Bl(p,xE,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Bl(y,y.charAt(0)=="/"?CN:PN,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Bl(y,xN)),c.join("")};function Qr(c){return new Bs(c)}function Vd(c,p,y){c.j=y?jl(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ld(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function kE(c,p,y){p instanceof $l?(c.i=p,ON(c.i,c.h)):(y||(p=Bl(p,kN)),c.i=new $l(p,c.h))}function De(c,p,y){c.i.set(p,y)}function Md(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jl(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bl(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,AN),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function AN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xE=/[#\/\?@]/g,PN=/[#\?:]/g,CN=/[#\?]/g,kN=/[#\?@]/g,xN=/#/g;function $l(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&RN(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=$l.prototype,t.add=function(c,p){Di(this),this.i=null,c=$o(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function OE(c,p){Di(c),p=$o(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function NE(c,p){return Di(c),p=$o(c,p),c.g.has(p)}t.forEach=function(c,p){Di(this),this.g.forEach(function(y,R){y.forEach(function(M){c.call(p,M,R,this)},this)},this)},t.na=function(){Di(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const M=c[R];for(let U=0;U<M.length;U++)y.push(p[R])}return y},t.V=function(c){Di(this);let p=[];if(typeof c=="string")NE(this,c)&&(p=p.concat(this.g.get($o(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return Di(this),this.i=null,c=$o(this,c),NE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function DE(c,p,y){OE(c,p),0<y.length&&(c.i=null,c.g.set($o(c,p),w(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const U=encodeURIComponent(String(R)),H=this.V(R);for(R=0;R<H.length;R++){var M=U;H[R]!==""&&(M+="="+encodeURIComponent(String(H[R]))),c.push(M)}}return this.i=c.join("&")};function $o(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ON(c,p){p&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(y,R){var M=R.toLowerCase();R!=M&&(OE(this,R),DE(this,M,y))},c)),c.j=p}function NN(c,p){const y=new Fl;if(a.Image){const R=new Image;R.onload=m(Vi,y,"TestLoadImage: loaded",!0,p,R),R.onerror=m(Vi,y,"TestLoadImage: error",!1,p,R),R.onabort=m(Vi,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(Vi,y,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function DN(c,p){const y=new Fl,R=new AbortController,M=setTimeout(()=>{R.abort(),Vi(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(U=>{clearTimeout(M),U.ok?Vi(y,"TestPingServer: ok",!0,p):Vi(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Vi(y,"TestPingServer: error",!1,p)})}function Vi(c,p,y,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(y)}catch{}}function VN(){this.g=new yN}function LN(c,p,y){const R=y||"";try{PE(c,function(M,U){let H=M;u(M)&&(H=qm(M)),p.push(R+U+"="+encodeURIComponent(H))})}catch(M){throw p.push(R+"type="+encodeURIComponent("_badmap")),M}}function Fd(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Fd,Hm),Fd.prototype.g=function(){return new Ud(this.l,this.j)},Fd.prototype.i=function(c){return function(){return c}}({});function Ud(c,p){Ut.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ud,Ut),t=Ud.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Wl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function VE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?zl(this):Wl(this),this.readyState==3&&VE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,zl(this))},t.Qa=function(c){this.g&&(this.response=c,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function Wl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function LE(c){let p="";return D(c,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function ng(c,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=LE(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):De(c,p,y))}function et(c){Ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(et,Ut);var MN=/^https?$/i,FN=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qm.g(),this.v=this.o?dE(this.o):dE(Qm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){ME(this,U);return}if(c=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)y.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())y.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FN,p,void 0))||R||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,H]of y)this.g.setRequestHeader(U,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jE(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){ME(this,U)}};function ME(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,FE(c),jd(c)}function FE(c){c.A||(c.A=!0,en(c,"complete"),en(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,en(this,"complete"),en(this,"abort"),jd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jd(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?UE(this):this.bb())},t.bb=function(){UE(this)};function UE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Jr(c)!=4||c.Z()!=2)){if(c.u&&Jr(c)==4)aE(c.Ea,0,c);else if(en(c,"readystatechange"),Jr(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=H===0){var M=String(c.D).match(CE)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!MN.test(M?M.toLowerCase():"")}y=R}if(y)en(c,"complete"),en(c,"success");else{c.m=6;try{var U=2<Jr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",FE(c)}}finally{jd(c)}}}}function jd(c,p){if(c.g){jE(c);const y=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||en(c,"ready");try{y.onreadystatechange=R}catch{}}}function jE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),gN(p)}};function BE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function UN(c){const p={};c=(c.g&&2<=Jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(v(c[R]))continue;var y=P(c[R]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[M]||[];p[M]=U,U.push(y)}b(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function $E(c){this.Aa=0,this.i=[],this.j=new Fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,c),this.cb=ql("retryDelaySeedMs",1e4,c),this.Wa=ql("forwardChannelMaxRetries",2,c),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new TE(c&&c.concurrentRequestLimit),this.Da=new VN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$E.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,R){tn(0),this.W=c,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=YE(this,null,this.W),$d(this)};function rg(c){if(zE(c),c.G==3){var p=c.U++,y=Qr(c.I);if(De(y,"SID",c.K),De(y,"RID",p),De(y,"TYPE","terminate"),Hl(c,y),p=new Ni(c,c.j,p),p.L=2,p.v=Md(Qr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=XE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Dd(p)}JE(c)}function Bd(c){c.g&&(sg(c),c.g.cancel(),c.g=null)}function zE(c){Bd(c),c.u&&(a.clearTimeout(c.u),c.u=null),zd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function $d(c){if(!SE(c.h)&&!c.s){c.s=!0;var p=c.Ga;Ie||ne(),K||(Ie(),K=!0),te.add(p,c),c.B=0}}function jN(c,p){return bE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ml(f(c.Ga,c,p),QE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Ni(this,this.j,c);let U=this.o;if(this.S&&(U?(U=S(U),g(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=qE(this,M,p),y=Qr(this.I),De(y,"RID",c),De(y,"CVER",22),this.D&&De(y,"X-HTTP-Session-Id",this.D),Hl(this,y),U&&(this.O?p="headers="+encodeURIComponent(String(LE(U)))+"&"+p:this.m&&ng(y,this.m,U)),tg(this.h,M),this.Ua&&De(y,"TYPE","init"),this.P?(De(y,"$req",p),De(y,"SID","null"),M.T=!0,Ym(M,y,null)):Ym(M,y,p),this.G=2}}else this.G==3&&(c?WE(this,c):this.i.length==0||SE(this.h)||WE(this))};function WE(c,p){var y;p?y=p.l:y=c.U++;const R=Qr(c.I);De(R,"SID",c.K),De(R,"RID",y),De(R,"AID",c.T),Hl(c,R),c.m&&c.o&&ng(R,c.m,c.o),y=new Ni(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=qE(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tg(c.h,y),Ym(y,R,p)}function Hl(c,p){c.H&&D(c.H,function(y,R){De(p,R,y)}),c.l&&PE({},function(y,R){De(p,R,y)})}function qE(c,p,y){y=Math.min(c.i.length,y);var R=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let U=-1;for(;;){const H=["count="+y];U==-1?0<y?(U=M[0].g,H.push("ofs="+U)):U=0:H.push("ofs="+U);let Pe=!0;for(let xt=0;xt<y;xt++){let _e=M[xt].g;const jt=M[xt].map;if(_e-=U,0>_e)U=Math.max(0,M[xt].g-100),Pe=!1;else try{LN(jt,H,"req"+_e+"_")}catch{R&&R(jt)}}if(Pe){R=H.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,R}function HE(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Ie||ne(),K||(Ie(),K=!0),te.add(p,c),c.v=0}}function ig(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ml(f(c.Fa,c),QE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,KE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ml(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),Bd(this),KE(this))};function sg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function KE(c){c.g=new Ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Qr(c.qa);De(p,"RID","rpc"),De(p,"SID",c.K),De(p,"AID",c.T),De(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(p,"TO",c.ja),De(p,"TYPE","xmlhttp"),Hl(c,p),c.m&&c.o&&ng(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Md(Qr(p)),y.m=null,y.P=!0,wE(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Bd(this),ig(this),tn(19))};function zd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function GE(c,p){var y=null;if(c.g==p){zd(c),sg(c),c.g=null;var R=2}else if(eg(c.h,p))y=p.D,RE(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;R=xd(),en(R,new gE(R,y)),$d(c)}else HE(c);else if(M=p.s,M==3||M==0&&0<p.X||!(R==1&&jN(c,p)||R==2&&ig(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:$s(c,5);break;case 4:$s(c,10);break;case 3:$s(c,6);break;default:$s(c,2)}}}function QE(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function $s(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),R=c.Xa;const M=!R;R=new Bs(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vd(R,"https"),Md(R),M?NN(R.toString(),y):DN(R.toString(),y)}else tn(2);c.G=0,c.l&&c.l.sa(p),JE(c),zE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function JE(c){if(c.G=0,c.ka=[],c.l){const p=AE(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function YE(c,p,y){var R=y instanceof Bs?Qr(y):new Bs(y);if(R.g!="")p&&(R.g=p+"."+R.g),Ld(R,R.s);else{var M=a.location;R=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var U=new Bs(null);R&&Vd(U,R),p&&(U.g=p),M&&Ld(U,M),y&&(U.l=y),R=U}return y=c.D,p=c.ya,y&&p&&De(R,y,p),De(R,"VER",c.la),Hl(c,R),R}function XE(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new et(new Fd({eb:y})):new et(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZE(){}t=ZE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wd(){}Wd.prototype.g=function(c,p){return new bn(c,p)};function bn(c,p){Ut.call(this),this.g=new $E(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zo(this)}_(bn,Ut),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){rg(this.g)},bn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=qm(c),c=y);p.i.push(new TN(p.Ya++,c)),p.G==3&&$d(p)},bn.prototype.N=function(){this.g.l=null,delete this.j,rg(this.g),delete this.g,bn.aa.N.call(this)};function eI(c){Km.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(eI,Km);function tI(){Gm.call(this),this.status=1}_(tI,Gm);function zo(c){this.g=c}_(zo,ZE),zo.prototype.ua=function(){en(this.g,"a")},zo.prototype.ta=function(c){en(this.g,new eI(c))},zo.prototype.sa=function(c){en(this.g,new tI)},zo.prototype.ra=function(){en(this.g,"b")},Wd.prototype.createWebChannel=Wd.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Ck=function(){return new Wd},Pk=function(){return xd()},Ak=Us,P_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Od.NO_ERROR=0,Od.TIMEOUT=8,Od.HTTP_ERROR=6,Yh=Od,yE.COMPLETE="complete",Rk=yE,hE.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,Pu=hE,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,bk=et}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new im("@firebase/firestore");function na(){return vs.logLevel}function $6(t){vs.setLogLevel(t)}function z(t,...e){if(vs.logLevel<=de.DEBUG){const n=e.map(ew);vs.debug(`Firestore (${bl}): ${t}`,...n)}}function ut(t,...e){if(vs.logLevel<=de.ERROR){const n=e.map(ew);vs.error(`Firestore (${bl}): ${t}`,...n)}}function zr(t,...e){if(vs.logLevel<=de.WARN){const n=e.map(ew);vs.warn(`Firestore (${bl}): ${t}`,...n)}}function ew(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function X(t,e){t||J()}function z6(t,e){t||J()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H6{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){X(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new kk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new At(e)}}class K6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class G6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){X(this.o===void 0);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new Q6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Y6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Ok(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ze(0,0))}static max(){return new Z(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends xc{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const X6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends xc{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return X6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(fe.fromString(e))}static fromName(e){return new G(fe.fromString(e).popFirst(5))}static empty(){return new G(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function C_(t){return t.fields.find(e=>e.kind===2)}function Gs(t){return t.fields.filter(e=>e.kind!==2)}tp.UNKNOWN_ID=-1;class Xh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Oc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Oc(0,Fn.min())}}function Nk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Fn(i,G.empty(),e)}function Dk(t){return new Fn(t.readTime,t.key,-1)}class Fn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fn(Z.min(),G.empty(),-1)}static max(){return new Fn(Z.max(),G.empty(),-1)}}function tw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==Vk)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static open(e,n,r,i){try{return new ym(n,e.transaction(i,r))}catch(s){throw new Qu(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Qu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=nw(r.target.error);this.V.reject(new Qu(e,i))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eW(n)}}class Ur{static delete(e){return z("SimpleDb","Removing database:",e),Js(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!bc())return!1;if(Ur.S())return!0;const e=Xe(),n=Ur.D(e),r=0<n&&n<10,i=Mk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.F=r,Ur.D(Xe())===12.2&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Qu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Qu(e,o))},i.onupgradeneeded=s=>{z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.F.O(o,i.transaction,s.oldVersion,this.version).next(()=>{z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=ym.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Mk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Z6{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Js(this.B.delete())}}class Qu extends ${constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vs(t){return t.name==="IndexedDbTransactionError"}class eW{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Js(r)}add(e){return z("SimpleDb","ADD",this.store.name,e,e),Js(this.store.add(e))}get(e){return Js(this.store.get(e)).next(n=>(n===void 0&&(n=null),z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return z("SimpleDb","DELETE",this.store.name,e),Js(this.store.delete(e))}count(){return z("SimpleDb","COUNT",this.store.name),Js(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=nw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Z6(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const d=u.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Js(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=nw(r.target.error);n(i)}})}let $S=!1;function nw(t){const e=Ur.D(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $S||($S=!0,setTimeout(()=>{throw r},0)),r}}return t}class tW{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){z("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{z("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Vs(n)?z("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ds(n)}await this.X(6e4)})}}class nW{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(z("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Dk(s);tw(o,r)>0&&(r=o)}),new Fn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gn.oe=-1;function gd(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function Fk(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zS(e)),e=rW(t.get(n),e);return zS(e)}function rW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zS(t){return t+""}function Dr(t){const e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),fe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&J(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:J()}s=o+2}return new fe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e){return[t,Jt(e)]}function Uk(t,e,n){return[t,Jt(e),n]}const iW={},sW=["prefixPath","collectionGroup","readTime","documentId"],oW=["prefixPath","collectionGroup","documentId"],aW=["collectionGroup","readTime","prefixPath","documentId"],lW=["canonicalId","targetId"],uW=["targetId","path"],cW=["path","targetId"],dW=["collectionId","parent"],hW=["indexId","uid"],fW=["uid","sequenceNumber"],pW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mW=["indexId","uid","orderedDocumentKey"],gW=["userId","collectionPath","documentId"],yW=["userId","collectionPath","largestBatchId"],_W=["userId","collectionGroup","largestBatchId"],jk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vW=[...jk,"documentOverlays"],Bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$k=Bk,rw=[...$k,"indexConfiguration","indexState","indexEntries"],wW=rw,EW=[...rw,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Lk{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function St(t,e){const n=Q(t);return Ur.C(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HS(this.data.getIterator())}getIteratorFrom(e){return new HS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ae(this.comparator);return n.data=e,n}}class HS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Ae(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wk("Invalid base64 string: "+s):s}}(e);return new st(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const TW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(X(!!t),typeof t=="string"){let e=0;const n=TW.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vm(t){const e=t.mapValue.fields.__previous_value__;return _m(e)?vm(e):e}function Dc(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ws&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ef={nullValue:"NULL_VALUE"};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:qk(t)?9007199254740991:wm(t)?10:11:J()}function Wr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wi(i.timestampValue),a=wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ei(i.bytesValue).isEqual(Ei(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Nc(o)===Nc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qS(o)!==qS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function Vc(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function Is(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),l=Ue(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KS(t.timestampValue,e.timestampValue);case 4:return KS(Dc(t),Dc(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ei(s),l=Ei(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=re(a[u],l[u]);if(d!==0)return d}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ue(s.latitude),Ue(o.latitude));return a!==0?a:re(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=re(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:GS(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yi.mapValue&&o===Yi.mapValue)return 0;if(s===Yi.mapValue)return 1;if(o===Yi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=re(l[h],d[h]);if(f!==0)return f;const m=Is(a[l[h]],u[d[h]]);if(m!==0)return m}return re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function KS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=wi(t),r=wi(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function GS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Is(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function Ya(t){return x_(t)}function x_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=x_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${x_(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function tf(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vm(t);return e?16+tf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+tf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ls(r.fields,(s,o)=>{i+=s.length+tf(o)}),i}(t.mapValue);default:throw J()}}function To(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O_(t){return!!t&&"integerValue"in t}function Lc(t){return!!t&&"arrayValue"in t}function QS(t){return!!t&&"nullValue"in t}function JS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const Hk={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bW(t){return"nullValue"in t?ef:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?To(ws.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?wm(t)?Hk:{mapValue:{}}:J()}function RW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?To(ws.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Hk:"mapValue"in t?wm(t)?{mapValue:{}}:Yi:J()}function YS(t,e){const n=Is(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function XS(t,e){const n=Is(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ju(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(Ju(this.value))}}function Kk(t){const e=[];return Ls(t.fields,(n,r)=>{const i=new Be([n]);if(nf(r)){const s=Kk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Le(e,0,Z.min(),Z.min(),Z.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Le(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Le(e,2,n,Z.min(),Z.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Le(e,3,n,Z.min(),Z.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.position=e,this.inclusive=n}}function ZS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Is(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function AW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{}class pe extends Gk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PW(e,n,r):n==="array-contains"?new xW(e,r):n==="in"?new ex(e,r):n==="not-in"?new OW(e,r):n==="array-contains-any"?new NW(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CW(e,r):new kW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Is(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends Gk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new be(e,n)}matches(e){return Xa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xa(t){return t.op==="and"}function N_(t){return t.op==="or"}function iw(t){return Qk(t)&&Xa(t)}function Qk(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}function D_(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(iw(t))return t.filters.map(e=>D_(e)).join(",");{const e=t.filters.map(n=>D_(n)).join(",");return`${t.op}(${e})`}}function Jk(t,e){return t instanceof pe?function(r,i){return i instanceof pe&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Jk(o,i.filters[a]),!0):!1}(t,e):void J()}function Yk(t,e){const n=t.filters.concat(e);return be.create(n,t.op)}function Xk(t){return t instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(Xk).join(" ,")+"}"}(t):"Filter"}class PW extends pe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class CW extends pe{constructor(e,n){super(e,"in",n),this.keys=Zk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kW extends pe{constructor(e,n){super(e,"not-in",n),this.keys=Zk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class xW extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lc(n)&&Vc(n.arrayValue,this.value)}}class ex extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vc(this.value.arrayValue,n)}}class OW extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vc(this.value.arrayValue,n)}}class NW extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function V_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DW(t,e,n,r,i,s,o)}function So(t){const e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>D_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.ue=n}return e.ue}function yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e1(t.startAt,e.startAt)&&e1(t.endAt,e.endAt)}function np(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rp(t,e){return t.filters.filter(n=>n instanceof pe&&n.field.isEqual(e))}function t1(t,e,n){let r=ef,i=!0;for(const s of rp(t,e)){let o=ef,a=!0;switch(s.op){case"<":case"<=":o=bW(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ef}YS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];YS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function n1(t,e,n){let r=Yi,i=!0;for(const s of rp(t,e)){let o=Yi,a=!0;switch(s.op){case">=":case">":o=RW(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Yi}XS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];XS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tx(t,e,n,r,i,s,o,a){return new Ai(t,e,n,r,i,s,o,a)}function Rl(t){return new Ai(t)}function r1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sw(t){return t.collectionGroup!==null}function Na(t){const e=Q(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ae(Be.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mc(s,r))}),n.has(Be.keyField().canonicalString())||e.ce.push(new Mc(Be.keyField(),r))}return e.ce}function un(t){const e=Q(t);return e.le||(e.le=VW(e,Na(t))),e.le}function VW(t,e){if(t.limitType==="F")return V_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mc(i.field,s)});const n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return V_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L_(t,e){const n=t.filters.concat([e]);return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return yd(un(t),un(e))&&t.limitType===e.limitType}function nx(t){return`${So(un(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Xk(i)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Na(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ZS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Na(r),i)||r.endAt&&!function(o,a,l){const u=ZS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Na(r),i))}(t,e)}function rx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ix(t){return(e,n)=>{let r=!1;for(const i of Na(t)){const s=LW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LW(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Is(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=new Ne(G.comparator);function _n(){return MW}const sx=new Ne(G.comparator);function Cu(...t){let e=sx;for(const n of t)e=e.insert(n.key,n);return e}function ox(t){let e=sx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return Yu()}function ax(){return Yu()}function Yu(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const FW=new Ne(G.comparator),UW=new Ae(G.comparator);function oe(...t){let e=UW;for(const n of t)e=e.add(n);return e}const jW=new Ae(re);function ow(){return jW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function lx(t){return{integerValue:""+t}}function ux(t,e){return Fk(e)?lx(e):aw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this._=void 0}}function BW(t,e,n){return t instanceof Za?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_m(s)&&(s=vm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bo?dx(t,e):t instanceof Ro?hx(t,e):function(i,s){const o=cx(i,s),a=i1(o)+i1(i.Pe);return O_(o)&&O_(i.Pe)?lx(a):aw(i.serializer,a)}(t,e)}function $W(t,e,n){return t instanceof bo?dx(t,e):t instanceof Ro?hx(t,e):n}function cx(t,e){return t instanceof el?function(r){return O_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Za extends Em{}class bo extends Em{constructor(e){super(),this.elements=e}}function dx(t,e){const n=fx(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ro extends Em{constructor(e){super(),this.elements=e}}function hx(t,e){let n=fx(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class el extends Em{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function i1(t){return Ue(t.integerValue||t.doubleValue)}function fx(t){return Lc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.field=e,this.transform=n}}function zW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bo&&i instanceof bo||r instanceof Ro&&i instanceof Ro?Ja(r.elements,i.elements,Wr):r instanceof el&&i instanceof el?Wr(r.Pe,i.Pe):r instanceof Za&&i instanceof Za}(t.transform,e.transform)}class WW{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Im{}function px(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pl(t.key,$e.none()):new Al(t.key,t.data,$e.none());{const n=t.data,r=Vt.empty();let i=new Ae(Be.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new yn(i.toArray()),$e.none())}}function qW(t,e,n){t instanceof Al?function(i,s,o){const a=i.value.clone(),l=o1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(i,s,o){if(!rf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=o1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xu(t,e,n,r){return t instanceof Al?function(s,o,a,l){if(!rf(s.precondition,o))return a;const u=s.value.clone(),d=a1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(s,o,a,l){if(!rf(s.precondition,o))return a;const u=a1(s.fieldTransforms,l,o),d=o.data;return d.setAll(mx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return rf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cx(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function s1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(s,o)=>zW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Al extends Im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends Im{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o1(t,e,n){const r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$W(o,a,n[i]))}return r}function a1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BW(s,o,e))}return r}class Pl extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ax();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=px(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,r)=>s1(n,r))&&Ja(this.baseMutations,e.baseMutations,(n,r)=>s1(n,r))}}class cw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=function(){return FW}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,ge;function gx(t){switch(t){default:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function yx(t){if(t===void 0)return ut("GRPC error has no .code"),F.UNKNOWN;switch(t){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(ge=pt||(pt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new po([4294967295,4294967295],0);function l1(t){const e=_x().encode(t),n=new Sk;return n.update(e),new Uint8Array(n.digest())}function u1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class hw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=po.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(GW)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=l1(e),[r,i]=u1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=l1(e),[r,i]=u1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Id.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(Z.min(),i,new Ne(re),_n(),oe())}}class Id{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Id(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class vx{constructor(e,n){this.targetId=e,this.me=n}}class wx{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class c1{constructor(){this.fe=0,this.ge=d1(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Id(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=d1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class QW{constructor(e){this.Le=e,this.Be=new Map,this.ke=_n(),this.qe=vh(),this.Qe=vh(),this.Ke=new Ne(re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(np(s))if(r===0){const o=new G(s.path);this.We(n,o,Le.newNoDocument(o,Z.min()))}else X(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ei(r).toUint8Array()}catch(l){if(l instanceof Wk)return zr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hw(o,i,s)}catch(l){return zr(l instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&np(a.target)){const l=new G(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,Le.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ed(e,n,this.Ke,this.ke,r);return this.ke=_n(),this.qe=vh(),this.Qe=vh(),this.Ke=new Ne(re),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new c1,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ae(re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ae(re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new c1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vh(){return new Ne(G.comparator)}function d1(){return new Ne(G.comparator)}const JW={asc:"ASCENDING",desc:"DESCENDING"},YW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XW={and:"AND",or:"OR"};class ZW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function M_(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function tl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ex(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eq(t,e){return tl(t,e.toTimestamp())}function ct(t){return X(!!t),Z.fromTimestamp(function(n){const r=wi(n);return new ze(r.seconds,r.nanos)}(t))}function fw(t,e){return F_(t,e).canonicalString()}function F_(t,e){const n=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ix(t){const e=fe.fromString(t);return X(Ox(e)),e}function Fc(t,e){return fw(t.databaseId,e.path)}function jr(t,e){const n=Ix(e);if(n.get(1)!==t.databaseId.projectId)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(bx(n))}function Tx(t,e){return fw(t.databaseId,e)}function Sx(t){const e=Ix(t);return e.length===4?fe.emptyPath():bx(e)}function U_(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bx(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function h1(t,e,n){return{name:Fc(t,e),fields:n.value.mapValue.fields}}function Rx(t,e,n){const r=jr(t,e.name),i=ct(e.updateTime),s=e.createTime?ct(e.createTime):Z.min(),o=new Vt({mapValue:{fields:e.fields}}),a=Le.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function tq(t,e){return"found"in e?function(r,i){X(!!i.found),i.found.name,i.found.updateTime;const s=jr(r,i.found.name),o=ct(i.found.updateTime),a=i.found.createTime?ct(i.found.createTime):Z.min(),l=new Vt({mapValue:{fields:i.found.fields}});return Le.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){X(!!i.missing),X(!!i.readTime);const s=jr(r,i.missing),o=ct(i.readTime);return Le.newNoDocument(s,o)}(t,e):J()}function nq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(X(d===void 0||typeof d=="string"),st.fromBase64String(d||"")):(X(d===void 0||d instanceof Buffer||d instanceof Uint8Array),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:yx(u.code);return new $(d,u.message||"")}(o);n=new wx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jr(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):Z.min(),a=new Vt({mapValue:{fields:r.document.fields}}),l=Le.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new sf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jr(t,r.document),s=r.readTime?ct(r.readTime):Z.min(),o=Le.newNoDocument(i,s),a=r.removedTargetIds||[];n=new sf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jr(t,r.document),s=r.removedTargetIds||[];n=new sf([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new KW(i,s),a=r.targetId;n=new vx(a,o)}}return n}function Uc(t,e){let n;if(e instanceof Al)n={update:h1(t,e.key,e.value)};else if(e instanceof Pl)n={delete:Fc(t,e.key)};else if(e instanceof Ci)n={update:h1(t,e.key,e.data),updateMask:lq(e.fieldMask)};else{if(!(e instanceof lw))return J();n={verify:Fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof el)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function j_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?$e.updateTime(ct(s.updateTime)):s.exists!==void 0?$e.exists(s.exists):$e.none()}(e.currentDocument):$e.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),l=new Za;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new bo(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Ro(d)}else"increment"in a?l=new el(o,a.increment):J();const u=Be.fromServerFormat(a.fieldPath);return new wd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=jr(t,e.update.name),s=new Vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new yn(u.map(d=>Be.fromServerFormat(d)))}(e.updateMask);return new Ci(i,s,o,n,r)}return new Al(i,s,n,r)}if(e.delete){const i=jr(t,e.delete);return new Pl(i,n)}if(e.verify){const i=jr(t,e.verify);return new lw(i,n)}return J()}function rq(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ct(i.updateTime):ct(s);return o.isEqual(Z.min())&&(o=ct(s)),new WW(o,i.transformResults||[])}(n,e))):[]}function Ax(t,e){return{documents:[Tx(t,e.path)]}}function Px(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Tx(t,i);const s=function(u){if(u.length!==0)return xx(be.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ia(f.field),direction:sq(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=M_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:i}}function Cx(t){let e=Sx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=kx(h);return f instanceof be&&iw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Mc(sa(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,gd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ts(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Ts(m,f)}(n.endAt)),tx(e,i,o,s,a,"F",l,u)}function iq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sa(n.unaryFilter.field);return pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sa(n.unaryFilter.field);return pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sa(n.unaryFilter.field);return pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sa(n.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return pe.create(sa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return be.create(n.compositeFilter.filters.map(r=>kx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function sq(t){return JW[t]}function oq(t){return YW[t]}function aq(t){return XW[t]}function ia(t){return{fieldPath:t.canonicalString()}}function sa(t){return Be.fromServerFormat(t.fieldPath)}function xx(t){return t instanceof pe?function(n){if(n.op==="=="){if(JS(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(QS(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JS(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(QS(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:oq(n.op),value:n.value}}}(t):t instanceof be?function(n){const r=n.getFilters().map(i=>xx(i));return r.length===1?r[0]:{compositeFilter:{op:aq(n.op),filters:r}}}(t):J()}function lq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ox(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=st.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.ht=e}}function uq(t,e){let n;if(e.document)n=Rx(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=Po(e.noDocument.readTime);n=Le.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return J();{const r=G.fromSegments(e.unknownDocument.path),i=Po(e.unknownDocument.version);n=Le.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ze(i[0],i[1]);return Z.fromTimestamp(s)}(e.readTime)),n}function f1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Fc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:tl(s,o.version.toTimestamp()),createTime:tl(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ao(e.version)};else{if(!e.isUnknownDocument())return J();r.unknownDocument={path:n.path.toArray(),version:Ao(e.version)}}return r}function sp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ao(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Po(t){const e=new ze(t.seconds,t.nanoseconds);return Z.fromTimestamp(e)}function Ys(t,e){const n=(e.baseMutations||[]).map(s=>j_(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>j_(t.ht,s)),i=ze.fromMillis(e.localWriteTimeMs);return new uw(e.batchId,i,n,r)}function xu(t){const e=Po(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Po(t.lastLimboFreeSnapshotVersion):Z.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return X(s.documents.length===1),un(Rl(Sx(s.documents[0])))}(t.query):function(s){return un(Cx(s))}(t.query),new li(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,st.fromBase64String(t.resumeToken))}function Dx(t,e){const n=Ao(e.snapshotVersion),r=Ao(e.lastLimboFreeSnapshotVersion);let i;i=np(e.target)?Ax(t.ht,e.target):Px(t.ht,e.target).ct;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:So(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pw(t){const e=Cx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}function ty(t,e){return new dw(e.largestBatchId,j_(t.ht,e.overlayMutation))}function p1(t,e){const n=e.path.lastSegment();return[t,Jt(e.path.popLast()),n]}function m1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ao(r.readTime),documentKey:Jt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{getBundleMetadata(e,n){return g1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Po(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return g1(e).put(function(i){return{bundleId:i.id,createTime:Ao(ct(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return y1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:pw(s.bundledQuery),readTime:Po(s.readTime)}}(r)})}saveNamedQuery(e,n){return y1(e).put(function(i){return{name:i.name,readTime:Ao(ct(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function g1(t){return St(t,"bundles")}function y1(t){return St(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new Tm(e,r)}getOverlay(e,n){return lu(e).get(p1(this.userId,n)).next(r=>r?ty(this.serializer,r):null)}getOverlays(e,n){const r=Vr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new dw(n,o);i.push(this.Tt(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Jt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(lu(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Vr(),s=Jt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return lu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ty(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Vr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return lu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=ty(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}Tt(e,n){return lu(e).put(function(i,s,o){const[a,l,u]=p1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Uc(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function lu(t){return St(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{It(e){return St(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?st.fromUint8Array(r):st.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.It(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.Rt(n,13):(this.Rt(n,15),Nc(r)?n.Vt(0):n.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(n,20),typeof r=="string"&&(r=wi(r)),n.ft(`${r.seconds||""}`),n.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(Ei(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(n,45),n.Vt(r.latitude||0),n.Vt(r.longitude||0)}else"mapValue"in e?qk(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):wm(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):J()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){const r=e.fields||{};this.Rt(n,55);for(const i of Object.keys(r))this.gt(i,n),this.dt(r[i],n)}bt(e,n){var r,i;const s=e.fields||{};this.Rt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(n,15),n.Vt(Ue(a)),this.gt(o,n),this.dt(s[o],n)}vt(e,n){const r=e.values||[];this.Rt(n,50);for(const i of r)this.dt(i,n)}St(e,n){this.Rt(n,37),G.fromName(e).path.forEach(r=>{this.Rt(n,60),this.Ct(r,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}}Xs.Ft=new Xs;function hq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=hq(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class fq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Lt(r.value),r=n.next();this.Bt()}kt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=n.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}qt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const i=n.codePointAt(0);this.Lt(240|i>>>18),this.Lt(128|63&i>>>12),this.Lt(128|63&i>>>6),this.Lt(128|63&i)}}this.Bt()}Qt(e){const n=this.Kt(e),r=_1(n);this.$t(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ut(e){const n=this.Kt(e),r=_1(n);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}xt(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(n)}Lt(e){const n=255&e;n===0?(this.jt(0),this.jt(255)):n===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class pq{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class mq{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class uu{constructor(){this.Jt=new fq,this.Yt=new pq(this.Jt),this.Zt=new mq(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}en(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Zs(this.indexId,this.documentKey,this.arrayValue,r)}}function Ui(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=v1(t.arrayValue,e.arrayValue),n!==0?n:(n=v1(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function v1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.tn=new Ae((n,r)=>Be.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(X(e.collectionGroup===this.collectionId),this.sn)return!1;const n=C_(e);if(n!==void 0&&!this._n(n))return!1;const r=Gs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this._n(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn.size>0){const a=this.tn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.an(a,l)||!this.un(this.nn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.nn.length||!this.un(this.nn[o++],a))return!1}return!0}cn(){if(this.sn)return null;let e=new Ae(Be.comparator);const n=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Xh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Xh(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Xh(r.field,r.dir==="asc"?0:1)));return new tp(tp.UNKNOWN_ID,this.collectionId,n,Oc.empty())}_n(e){for(const n of this.rn)if(this.an(n,e))return!0;return!1}an(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}un(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){var e,n;if(X(t instanceof pe||t instanceof be),t instanceof pe){if(t instanceof ex){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>pe.create(t.field,"==",s)))||[];return be.create(i,"or")}return t}const r=t.filters.map(i=>Vx(i));return be.create(r,t.op)}function gq(t){if(t.getFilters().length===0)return[];const e=z_(Vx(t));return X(Lx(e)),B_(e)||$_(e)?[e]:e.getFilters()}function B_(t){return t instanceof pe}function $_(t){return t instanceof be&&iw(t)}function Lx(t){return B_(t)||$_(t)||function(n){if(n instanceof be&&N_(n)){for(const r of n.getFilters())if(!B_(r)&&!$_(r))return!1;return!0}return!1}(t)}function z_(t){if(X(t instanceof pe||t instanceof be),t instanceof pe)return t;if(t.filters.length===1)return z_(t.filters[0]);const e=t.filters.map(r=>z_(r));let n=be.create(e,t.op);return n=op(n),Lx(n)?n:(X(n instanceof be),X(Xa(n)),X(n.filters.length>1),n.filters.reduce((r,i)=>mw(r,i)))}function mw(t,e){let n;return X(t instanceof pe||t instanceof be),X(e instanceof pe||e instanceof be),n=t instanceof pe?e instanceof pe?function(i,s){return be.create([i,s],"and")}(t,e):E1(t,e):e instanceof pe?E1(e,t):function(i,s){if(X(i.filters.length>0&&s.filters.length>0),Xa(i)&&Xa(s))return Yk(i,s.getFilters());const o=N_(i)?i:s,a=N_(i)?s:i,l=o.filters.map(u=>mw(u,a));return be.create(l,"or")}(t,e),op(n)}function E1(t,e){if(Xa(e))return Yk(e,t.getFilters());{const n=e.filters.map(r=>mw(t,r));return be.create(n,"or")}}function op(t){if(X(t instanceof pe||t instanceof be),t instanceof pe)return t;const e=t.getFilters();if(e.length===1)return op(e[0]);if(Qk(t))return t;const n=e.map(i=>op(i)),r=[];return n.forEach(i=>{i instanceof pe?r.push(i):i instanceof be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.ln=new gw}addToCollectionParentIndex(e,n){return this.ln.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Fn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class gw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ae(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ae(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Uint8Array(0);class _q{constructor(e,n){this.databaseId=n,this.hn=new gw,this.Pn=new Pi(r=>So(r),(r,i)=>yd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.hn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.hn.add(n)});const s={collectionId:r,parent:Jt(i)};return I1(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Ok(n),""],!1,!0);return I1(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Dr(o.parent))}return r})}addFieldIndex(e,n){const r=cu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=ea(e);return s.next(a=>{o.put(m1(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=cu(e),i=ea(e),s=Zo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=cu(e),r=Zo(e),i=ea(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.Tn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new w1(r).cn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Zo(e);let i=!0;const s=new Map;return L.forEach(this.Tn(n),o=>this.In(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=oe();const a=[];return L.forEach(s,(l,u)=>{z("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${So(n)}`);const d=function(I,k){const x=C_(k);if(x===void 0)return null;for(const D of rp(I,x.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(u,l),h=function(I,k){const x=new Map;for(const D of Gs(k))for(const b of rp(I,D.fieldPath))switch(b.op){case"==":case"in":x.set(D.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return x.set(D.fieldPath.canonicalString(),b.value),Array.from(x.values())}return null}(u,l),f=function(I,k){const x=[];let D=!0;for(const b of Gs(k)){const S=b.kind===0?t1(I,b.fieldPath,I.startAt):n1(I,b.fieldPath,I.startAt);x.push(S.value),D&&(D=S.inclusive)}return new Ts(x,D)}(u,l),m=function(I,k){const x=[];let D=!0;for(const b of Gs(k)){const S=b.kind===0?n1(I,b.fieldPath,I.endAt):t1(I,b.fieldPath,I.endAt);x.push(S.value),D&&(D=S.inclusive)}return new Ts(x,D)}(u,l),_=this.En(l,u,f),w=this.En(l,u,m),T=this.dn(l,u,h),E=this.An(l.indexId,d,_,f.inclusive,w,m.inclusive,T);return L.forEach(E,v=>r.G(v,n.limit).next(I=>{I.forEach(k=>{const x=G.fromSegments(k.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return L.resolve(null)})}Tn(e){let n=this.Pn.get(e);return n||(e.filters.length===0?n=[e]:n=gq(be.create(e.filters,"and")).map(r=>V_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,n),n)}An(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Rn(n[h/u]):wh,m=this.Vn(e,f,r[h%u],i),_=this.mn(e,f,s[h%u],o),w=a.map(T=>this.Vn(e,f,T,!0));d.push(...this.createRange(m,_,w))}return d}Vn(e,n,r,i){const s=new Zs(e,G.empty(),n,r);return i?s:s.en()}mn(e,n,r,i){const s=new Zs(e,G.empty(),n,r);return i?s.en():s}In(e,n){const r=new w1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.on(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Tn(n);return L.forEach(i,s=>this.In(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ae(Be.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}fn(e,n){const r=new uu;for(const i of Gs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Xt(i.kind);Xs.Ft.Et(s,o)}return r.Ht()}Rn(e){const n=new uu;return Xs.Ft.Et(e,n.Xt(0)),n.Ht()}gn(e,n){const r=new uu;return Xs.Ft.Et(To(this.databaseId,n),r.Xt(function(s){const o=Gs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ht()}dn(e,n,r){if(r===null)return[];let i=[];i.push(new uu);let s=0;for(const o of Gs(e)){const a=r[s++];for(const l of i)if(this.pn(n,o.fieldPath)&&Lc(a))i=this.yn(i,o,a);else{const u=l.Xt(o.kind);Xs.Ft.Et(a,u)}}return this.wn(i)}En(e,n,r){return this.dn(e,n,r.position)}wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ht();return n}yn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new uu;l.seed(a.Ht()),Xs.Ft.Et(o,l.Xt(n.kind)),s.push(l)}return s}pn(e,n){return!!e.filters.find(r=>r instanceof pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=cu(e),i=ea(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Oc(h.sequenceNumber,new Fn(Po(h.readTime),new G(Dr(h.documentKey)),h.largestBatchId)):Oc.empty(),m=d.fields.map(([_,w])=>new Xh(Be.fromServerFormat(_),w));return new tp(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:re(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=cu(e),s=ea(e);return this.Sn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(m1(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.bn(e,i,l).next(u=>{const d=this.Dn(s,l);return u.isEqual(d)?L.resolve():this.vn(e,s,l,u,d)}))))})}Cn(e,n,r,i){return Zo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Fn(e,n,r,i){return Zo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}bn(e,n,r){const i=Zo(e);let s=new Ae(Ui);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new Zs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Dn(e,n){let r=new Ae(Ui);const i=this.fn(n,e);if(i==null)return r;const s=C_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Lc(o))for(const a of o.arrayValue.values||[])r=r.add(new Zs(n.indexId,e.key,this.Rn(a),i))}else r=r.add(new Zs(n.indexId,e.key,wh,i));return r}vn(e,n,r,i,s){z("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,f){const m=l.getIterator(),_=u.getIterator();let w=Xo(m),T=Xo(_);for(;w||T;){let E=!1,v=!1;if(w&&T){const I=d(w,T);I<0?v=!0:I>0&&(E=!0)}else w!=null?v=!0:E=!0;E?(h(T),T=Xo(_)):v?(f(w),w=Xo(m)):(w=Xo(m),T=Xo(_))}}(i,s,Ui,a=>{o.push(this.Cn(e,n,r,a))},a=>{o.push(this.Fn(e,n,r,a))}),L.waitFor(o)}Sn(e){let n=1;return ea(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ui(o,a)).filter((o,a,l)=>!a||Ui(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ui(o,e),l=Ui(o,n);if(a===0)i[0]=e.en();else if(a>0&&l<0)i.push(o),i.push(o.en());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Mn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,wh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,wh,[]];s.push(IDBKeyRange.bound(a,l))}return s}Mn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(T1)}getMinOffset(e,n){return L.mapArray(this.Tn(n),r=>this.In(e,r).next(i=>i||J())).next(T1)}}function I1(t){return St(t,"collectionParents")}function Zo(t){return St(t,"indexEntries")}function cu(t){return St(t,"indexConfiguration")}function ea(t){return St(t,"indexState")}function T1(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;tw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{X(a===1)}));const u=[];for(const d of n.mutations){const h=Uk(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return L.waitFor(s).next(()=>u)}function ap(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw J();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class Sm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.xn={}}static Pt(e,n,r,i){X(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Sm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=oa(e),o=ji(e);return o.add({}).next(a=>{X(typeof a=="number");const l=new uw(a,n,r,i),u=function(m,_,w){const T=w.baseMutations.map(v=>Uc(m.ht,v)),E=w.mutations.map(v=>Uc(m.ht,v));return{userId:_,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:T,mutations:E}}(this.serializer,this.userId,l),d=[];let h=new Ae((f,m)=>re(f.canonicalString(),m.canonicalString()));for(const f of i){const m=Uk(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(u)),d.push(s.put(m,iW))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.xn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return ji(e).get(n).next(r=>r?(X(r.userId===this.userId),Ys(this.serializer,r)):null)}On(e,n){return this.xn[n]?L.resolve(this.xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ji(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(X(a.batchId>=r),s=Ys(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ji(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ys(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Zh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return oa(e).J({range:i},(o,a,l)=>{const[u,d,h]=o,f=Dr(d);if(u===this.userId&&n.path.isEqual(f))return ji(e).get(h).next(m=>{if(!m)throw J();X(m.userId===this.userId),s.push(Ys(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(re);const i=[];return n.forEach(s=>{const o=Zh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=oa(e).J({range:a},(u,d,h)=>{const[f,m,_]=u,w=Dr(m);f===this.userId&&s.path.isEqual(w)?r=r.add(_):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Zh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ae(re);return oa(e).J({range:o},(l,u,d)=>{const[h,f,m]=l,_=Dr(f);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(m)):d.done()}).next(()=>this.Nn(e,a))}Nn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ji(e).get(s).next(o=>{if(o===null)throw J();X(o.userId===this.userId),r.push(Ys(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Mx(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Ln(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return oa(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Dr(s[1]);i.push(l)}else a.done()}).next(()=>{X(i.length===0)})})}containsKey(e,n){return Fx(e,this.userId,n)}Bn(e){return Ux(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fx(t,e,n){const r=Zh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return oa(t).J({range:s,H:!0},(a,l,u)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function ji(t){return St(t,"mutations")}function oa(t){return St(t,"documentMutations")}function Ux(t){return St(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Kn(e).next(n=>{const r=new Co(n.highestTargetId);return n.highestTargetId=r.next(),this.$n(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(n=>Z.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.$n(e,i)))}addTargetData(e,n){return this.Un(e,n).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(n,r),this.$n(e,r))))}updateTargetData(e,n){return this.Un(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ta(e).delete(n.targetId)).next(()=>this.Kn(e)).next(r=>(X(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ta(e).J((o,a)=>{const l=xu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ta(e).J((r,i)=>{const s=xu(i);n(s)})}Kn(e){return b1(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}$n(e,n){return b1(e).put("targetGlobalKey",n)}Un(e,n){return ta(e).put(Dx(this.serializer,n))}Wn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=So(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ta(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=xu(a);yd(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ki(e);return n.forEach(o=>{const a=Jt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ki(e);return L.forEach(n,s=>{const o=Jt(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ki(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ki(e);let s=oe();return i.J({range:r,H:!0},(o,a,l)=>{const u=Dr(o[1]),d=new G(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Jt(n.path),i=IDBKeyRange.bound([r],[Ok(r)],!1,!0);let s=0;return Ki(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ut(e,n){return ta(e).get(n).next(r=>r?xu(r):null)}}function ta(t){return St(t,"targets")}function b1(t){return St(t,"targetGlobal")}function Ki(t){return St(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class wq{constructor(e){this.Gn=e,this.buffer=new Ae(R1),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();R1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vs(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ds(n)}await this.Yn(3e5)})}}class Eq{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(gn.oe);const r=new wq(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(S1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S1):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),na()<=de.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Bx(t,e){return new Eq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n){this.db=e,this.garbageCollector=Bx(this,n)}Xn(e){const n=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}er(e,n){return this.rr(e,(r,i)=>n(i))}addReference(e,n,r){return Eh(e,r)}removeReference(e,n,r){return Eh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Eh(e,n)}ir(e,n){return function(i,s){let o=!1;return Ux(i).Y(a=>Fx(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.rr(e,(o,a)=>{if(a<=n){const l=this.ir(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Z.min()),Ki(e).delete(function(h){return[0,Jt(h.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Eh(e,n)}rr(e,n){const r=Ki(e);let i,s=gn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==gn.oe&&n(new G(Dr(i)),s),s=u,i=l):s=gn.oe}).next(()=>{s!==gn.oe&&n(new G(Dr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eh(t,e){return Ki(t).put(function(r,i){return{targetId:0,path:Jt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ws(e).put(r)}removeEntry(e,n,r){return Ws(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.sr(e,r)))}getEntry(e,n){let r=Le.newInvalidDocument(n);return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(du(n))},(i,s)=>{r=this._r(n,s)}).next(()=>r)}ar(e,n){let r={size:0,document:Le.newInvalidDocument(n)};return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(du(n))},(i,s)=>{r={document:this._r(n,s),size:ap(s)}}).next(()=>r)}getEntries(e,n){let r=_n();return this.ur(e,n,(i,s)=>{const o=this._r(i,s);r=r.insert(i,o)}).next(()=>r)}cr(e,n){let r=_n(),i=new Ne(G.comparator);return this.ur(e,n,(s,o)=>{const a=this._r(s,o);r=r.insert(s,a),i=i.insert(s,ap(o))}).next(()=>({documents:r,lr:i}))}ur(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ae(C1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(du(i.first()),du(i.last())),o=i.getIterator();let a=o.getNext();return Ws(e).J({index:"documentKeyIndex",range:s},(l,u,d)=>{const h=G.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&C1(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(du(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),sp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ws(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=_n();for(const h of u){const f=this._r(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(vd(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=_n();const o=P1(n,r),a=P1(n,Fn.max());return Ws(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this._r(G.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new Sq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return A1(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}sr(e,n){return A1(e).put("remoteDocumentGlobalKey",n)}_r(e,n){if(n){const r=uq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Z.min())))return r}return Le.newInvalidDocument(e)}}function zx(t){return new Tq(t)}class Sq extends $x{constructor(e,n){super(),this.hr=e,this.trackRemovals=n,this.Pr=new Pi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ae((s,o)=>re(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Pr.get(s);if(n.push(this.hr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=f1(this.hr.serializer,o);i=i.add(s.path.popLast());const u=ap(l);r+=u-a.size,n.push(this.hr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=f1(this.hr.serializer,o.convertToNoDocument(Z.min()));n.push(this.hr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.hr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.hr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.hr.ar(e,n).next(r=>(this.Pr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.hr.cr(e,n).next(({documents:r,lr:i})=>(i.forEach((s,o)=>{this.Pr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function A1(t){return St(t,"remoteDocumentGlobal")}function Ws(t){return St(t,"remoteDocumentsV14")}function du(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function P1(t,e){const n=e.documentKey.path.toArray();return[t,sp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function C1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=re(n[s],r[s]),i)return i;return i=re(n.length,r.length),i||(i=re(n[n.length-2],r[r.length-2]),i||re(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xu(r.mutation,i,yn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_n();const o=Yu(),a=function(){return Yu()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ci)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Xu(d.mutation,u,d.mutation.getFieldMask(),ze.now())):o.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new bq(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yu();let i=new Ne((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||yn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=ax();d.forEach(f=>{if(!s.has(f)){const m=px(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Vr());let a=-1,l=s;return o.next(u=>L.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,oe())).next(d=>({batchId:a,changes:ox(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Cu();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(h,f){return new Ai(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Le.newInvalidDocument(d)))});let a=Cu();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Xu(d.mutation,u,yn.empty(),ze.now()),vd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return L.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ct(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:pw(i.bundledQuery),readTime:ct(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.overlays=new Ne(G.comparator),this.Er=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Vr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Vr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Vr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return L.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dw(n,r));let s=this.Er.get(n);s===void 0&&(s=oe(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.dr=new Ae(bt.Ar),this.Rr=new Ae(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new bt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new G(new fe([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new G(new fe([])),r=new bt(n,e),i=new bt(n,e+1);let s=oe();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return G.comparator(e.key,n.key)||re(e.br,n.br)}static Vr(e,n){return re(e.br,n.br)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ae(bt.Ar)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(re);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),L.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new bt(new G(s),0);let a=new Ae(re);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.br)),!0)},o),L.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){X(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return L.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new bt(n,0),i=this.vr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.Nr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Le.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_n();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||tw(Dk(d),r)<=0||(i.has(d.key)||vd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Lr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xq(this)}getSize(e){return L.resolve(this.size)}}class xq extends $x{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.persistence=e,this.Br=new Pi(n=>So(n),yd),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.kr=0,this.qr=new yw,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),L.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Un(n),L.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.Kr={},this.overlays={},this.$r=new gn(0),this.Ur=!1,this.Ur=!0,this.Wr=new Pq,this.referenceDelegate=e(this),this.Gr=new Oq(this),this.indexManager=new yq,this.remoteDocumentCache=function(i){return new kq(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Nx(n),this.jr=new Rq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Aq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new Cq(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new Nq(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return L.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class Nq extends Lk{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Zr=new yw,this.Xr=null}static ei(e){return new bm(e)}get ti(){if(this.Xr)return this.Xr;throw J()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),L.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ti,r=>{const i=G.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return L.or([()=>L.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class lp{constructor(e,n){this.persistence=e,this.ri=new Pi(r=>Jt(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Bx(this,n)}static ei(e,n){return new lp(e,n)}Hr(){}Jr(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return L.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Z.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tf(e.data.value)),n}ir(e,n,r){return L.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.serializer=e}O(e,n,r,i){const s=new ym("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WS,{unique:!0}),l.createObjectStore("documentMutations")}(e),k1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),k1(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WS,{unique:!0});const h=u.store("mutations"),f=d.map(m=>h.put(m));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ii(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.si(s)))),r<7&&i>=7&&(o=o.next(()=>this.oi(s))),r<8&&i>=8&&(o=o.next(()=>this._i(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ai(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:gW});u.createIndex("collectionPathOverlayIndex",yW,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",_W,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:sW});u.createIndex("documentKeyIndex",oW),u.createIndex("collectionGroupIndex",aW)}(e)).next(()=>this.ui(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ci(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:hW}).createIndex("sequenceNumberIndex",fW,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:pW}).createIndex("documentKeyIndex",mW,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}si(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=ap(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{X(l.userId===s.userId);const u=Ys(this.serializer,l);return Mx(e,s.userId,u).next(()=>{})}))}))}oi(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new fe(o),u=function(h){return[0,Jt(h)]}(l);s.push(n.get(u).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Jt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}_i(e,n){e.createObjectStore("collectionParents",{keyPath:dW});const r=n.store("collectionParents"),i=new gw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Jt(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new fe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=Dr(a);return s(d.popLast())}))}ai(e){const n=e.store("targets");return n.J((r,i)=>{const s=xu(i),o=Dx(this.serializer,s);return n.put(o)})}ui(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new G(fe.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):J()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}ci(e,n){const r=n.store("mutations"),i=zx(this.serializer),s=new _w(bm.ei,this.serializer.ht);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:oe();Ys(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,u)=>{const d=new At(u),h=Tm.Pt(this.serializer,d),f=s.getIndexManager(d),m=Sm.Pt(d,this.serializer,f,s.referenceDelegate);return new Wx(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new k_(n,gn.oe),l).next()})})}}function k1(t){t.createObjectStore("targetDocuments",{keyPath:uW}).createIndex("documentTargetsIndex",cW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lW,{unique:!0}),t.createObjectStore("targetGlobal")}const ny="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vw{constructor(e,n,r,i,s,o,a,l,u,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.li=s,this.window=o,this.document=a,this.hi=u,this.Pi=d,this.Ti=h,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=f=>Promise.resolve(),!vw.p())throw new $(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iq(this,i),this.Vi=n+"main",this.serializer=new Nx(l),this.mi=new Ur(this.Vi,this.Ti,new Dq(this.serializer)),this.Wr=new dq,this.Gr=new vq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zx(this.serializer),this.jr=new cq,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,d===!1&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(F.FAILED_PRECONDITION,ny);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new gn(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ih(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(n=>{n||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(n=>this.isPrimary&&!n?this.vi(e).next(()=>!1):!!n&&this.Ci(e).next(()=>!0))).catch(e=>{if(Vs(e))return z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return hu(e).get("owner").next(n=>L.resolve(this.Fi(n)))}Mi(e){return Ih(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=St(n,"clientMetadata");return r.U().next(i=>{const s=this.Ni(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.fi)for(const n of e)this.fi.removeItem(this.Li(n.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?L.resolve(!0):hu(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)){if(this.Fi(n)&&this.networkEnabled)return!0;if(!this.Fi(n)){if(!n.allowTabSynchronization)throw new $(F.FAILED_PRECONDITION,ny);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ih(e).U().next(r=>this.Ni(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new k_(e,gn.oe);return this.vi(n).next(()=>this.Mi(n))}),this.mi.close(),this.Ki()}Ni(e,n){return e.filter(r=>this.Oi(r.updateTimeMs,n)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ih(e).U().next(n=>this.Ni(n,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,n){return Sm.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _q(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return Tm.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,n,r){z("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?EW:l===16?wW:l===15?rw:l===14?$k:l===13?Bk:l===12?vW:l===11?jk:void J()}(this.Ti);let o;return this.mi.runTransaction(e,i,s,a=>(o=new k_(a,this.$r?this.$r.next():gn.oe),n==="readwrite-primary"?this.bi(o).next(l=>!!l||this.Di(o)).next(l=>{if(!l)throw ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new $(F.FAILED_PRECONDITION,Vk);return r(o)}).next(l=>this.Ci(o).next(()=>l)):this.Ui(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ui(e){return hu(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)&&!this.Fi(n)&&!(this.Pi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(F.FAILED_PRECONDITION,ny)})}Ci(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hu(e).put("owner",n)}static p(){return Ur.p()}vi(e){const n=hu(e);return n.get("owner").next(r=>this.Fi(r)?(z("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Oi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const n=/(?:Version|Mobile)\/1[456]/;fC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var n;try{const r=((n=this.fi)===null||n===void 0?void 0:n.getItem(this.Li(e)))!==null;return z("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){ut("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hu(t){return St(t,"owner")}function Ih(t){return St(t,"clientMetadata")}function ww(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ew(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return fC()?8:Mk(Xe())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Vq;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(na()<=de.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),L.resolve()):(na()<=de.DEBUG&&z("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(na()<=de.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):L.resolve())}Xi(e,n){if(r1(n))return L.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ip(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,o,l.readTime)?this.Xi(e,ip(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,r,i){return r1(n)||i.isEqual(Z.min())?L.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?L.resolve(null):(na()<=de.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.os(e,o,n,Nk(i,-1)).next(a=>a))})}rs(e,n){let r=new Ae(ix(e));return n.forEach((i,s)=>{vd(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return na()<=de.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ra(n)),this.Zi.getDocumentsMatchingQuery(e,n,Fn.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ne(re),this.cs=new Pi(s=>So(s),yd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Hx(t,e,n,r){return new Lq(t,e,n,r)}async function Kx(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function Mq(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=L.resolve();return f.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(w=>{const T=u.docVersions.get(_);X(T!==null),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gx(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Fq(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(st.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,T,E){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,d)&&a.push(n.Gr.updateTargetData(s,m))});let l=_n(),u=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Qx(s,o,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!r.isEqual(Z.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.us=i,s))}function Qx(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:o,Es:i}})}function Uq(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nl(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function rl(t,e,n){const r=Q(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vs(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function up(t,e,n){const r=Q(t);let i=Z.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Q(l),f=h.cs.get(d);return f!==void 0?L.resolve(h.us.get(f)):h.Gr.getTargetData(u,d)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:oe())).next(a=>(Xx(r,rx(e),a),{documents:a,ds:s})))}function Jx(t,e){const n=Q(t),r=Q(n.Gr),i=n.us.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ut(s,e).next(o=>o?o.target:null))}function Yx(t,e){const n=Q(t),r=n.ls.get(e)||Z.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.hs.getAllFromCollectionGroup(i,e,Nk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Xx(n,e,i),i))}function Xx(t,e,n){let r=t.ls.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}async function jq(t,e,n,r){const i=Q(t);let s=oe(),o=_n();for(const u of n){const d=e.As(u.metadata.name);u.document&&(s=s.add(d));const h=e.Rs(u);h.setReadTime(e.Vs(u.metadata.readTime)),o=o.insert(d,h)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await nl(i,function(d){return un(Rl(fe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>Qx(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Gr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Gr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Is,d.Es)).next(()=>d.Is)))}async function Bq(t,e,n=oe()){const r=await nl(t,un(pw(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ct(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(s,e);const a=r.withResumeToken(st.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(a.targetId,a),i.Gr.updateTargetData(s,a).next(()=>i.Gr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Gr.addMatchingKeys(s,n,r.targetId)).next(()=>i.jr.saveNamedQuery(s,e))})}function x1(t,e){return`firestore_clients_${t}_${e}`}function O1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ry(t,e){return`firestore_targets_${t}_${e}`}class cp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static fs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new cp(e,n,i.state,s):(ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static fs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new Zu(e,r.state,i):(ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static fs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ow();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Fk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new dp(e,s):(ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Iw{constructor(e,n){this.clientId=e,this.onlineState=n}static fs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Iw(n.clientId,n.onlineState):(ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class W_{constructor(){this.activeTargetIds=ow()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iy{constructor(e,n,r,i,s){this.window=e,this.li=n,this.persistenceKey=r,this.ws=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Ne(re),this.started=!1,this.vs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Cs=x1(this.persistenceKey,this.ws),this.Fs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new W_),this.Ms=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ns=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Ls=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const i=this.getItem(x1(this.persistenceKey,r));if(i){const s=dp.fs(r,i);s&&(this.Ds=this.Ds.insert(s.clientId,s))}}this.Bs();const n=this.storage.getItem(this.Ns);if(n){const r=this.ks(n);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let n=!1;return this.Ds.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,n,r){this.Ks(e,n,r),this.$s(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ry(this.persistenceKey,e));if(i){const s=Zu.fs(e,i);s&&(r=s.state)}}return n&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ry(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ws(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.$s(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z("SharedClientState","READ",e,n),n}setItem(e,n){z("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){z("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const n=e;if(n.storageArea===this.storage){if(z("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Cs)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ms.test(n.key)){if(n.newValue==null){const r=this.js(n.key);return this.Hs(r,null)}{const r=this.Js(n.key,n.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(n.key)){if(n.newValue!==null){const r=this.Xs(n.key,n.newValue);if(r)return this.eo(r)}}else if(n.key===this.Ns){if(n.newValue!==null){const r=this.ks(n.newValue);if(r)return this.qs(r)}}else if(n.key===this.Fs){const r=function(s){let o=gn.oe;if(s!=null)try{const a=JSON.parse(s);X(typeof a=="number"),o=a}catch(a){ut("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==gn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Ls){const r=this.no(n.newValue);await Promise.all(r.map(i=>this.syncEngine.ro(i)))}}}else this.vs.push(n)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,n,r){const i=new cp(this.currentUser,e,n,r),s=O1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.gs())}$s(e){const n=O1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Gs(e){const n={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(n))}Ws(e,n,r){const i=ry(this.persistenceKey,e),s=new Zu(e,n,r);this.setItem(i,s.gs())}zs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ls,n)}js(e){const n=this.Ms.exec(e);return n?n[1]:null}Js(e,n){const r=this.js(e);return dp.fs(r,n)}Ys(e,n){const r=this.xs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return cp.fs(new At(s),i,n)}Xs(e,n){const r=this.Os.exec(e),i=Number(r[1]);return Zu.fs(i,n)}ks(e){return Iw.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);z("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,n){const r=n?this.Ds.insert(e,n):this.Ds.remove(e),i=this.Qs(this.Ds),s=this.Qs(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.oo(o,a).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let n=ow();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Zx{constructor(){this._o=new W_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function sy(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class qq extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=sy(),l=this.No(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,s,o),this.Bo(n,l,u,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw zr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=zq[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=sy();return new Promise((o,a)=>{const l=new bk;l.setWithCredentials(!0),l.listenOnce(Rk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yh.NO_ERROR:const d=l.getResponseJson();z(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Yh.TIMEOUT:z(Wt,`RPC '${e}' ${s} timed out`),a(new $(F.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const h=l.getStatus();if(z(Wt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(m.status);a(new $(_,m.message))}else a(new $(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{z(Wt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);z(Wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}qo(e,n,r){const i=sy(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ck(),a=Pk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");z(Wt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const _=new Wq({Eo:T=>{m?z(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(z(Wt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),z(Wt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Ao:()=>h.close()}),w=(T,E,v)=>{T.listen(E,I=>{try{v(I)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,Pu.EventType.OPEN,()=>{m||(z(Wt,`RPC '${e}' stream ${i} transport opened.`),_.So())}),w(h,Pu.EventType.CLOSE,()=>{m||(m=!0,z(Wt,`RPC '${e}' stream ${i} transport closed`),_.Do())}),w(h,Pu.EventType.ERROR,T=>{m||(m=!0,zr(Wt,`RPC '${e}' stream ${i} transport errored:`,T),_.Do(new $(F.UNAVAILABLE,"The operation could not be completed")))}),w(h,Pu.EventType.MESSAGE,T=>{var E;if(!m){const v=T.data[0];X(!!v);const I=v,k=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(k){z(Wt,`RPC '${e}' stream ${i} received error:`,k);const x=k.status;let D=function(A){const g=pt[A];if(g!==void 0)return yx(g)}(x),b=k.message;D===void 0&&(D=F.INTERNAL,b="Unknown error status: "+x+" with message "+k.message),m=!0,_.Do(new $(D,b)),h.close()}else z(Wt,`RPC '${e}' stream ${i} received:`,v),_.vo(v)}}),w(a,Ak.STAT_EVENT,T=>{T.stat===P_.PROXY?z(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===P_.NOPROXY&&z(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.bo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof window<"u"?window:null}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new ZW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Tw(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new $(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hq extends tO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=nq(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ct(o.readTime):Z.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=U_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=np(l)?{documents:Ax(s,l)}:{query:Px(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ex(s,o.resumeToken);const u=M_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=tl(s,o.snapshotVersion.toTimestamp());const u=M_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=iq(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=U_(this.serializer),n.removeTarget=e,this.c_(n)}}class Kq extends tO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return X(!!e.streamToken),this.lastStreamToken=e.streamToken,X(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=rq(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=U_(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Uc(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,F_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(F.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,F_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(F.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Qq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ut(n),this.C_=!1):z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Ms(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Q(l);u.k_.add(4),await Cl(u),u.K_.set("Unknown"),u.k_.delete(4),await Sd(u)}(this))})}),this.K_=new Qq(r,i)}}async function Sd(t){if(Ms(t))for(const e of t.q_)await e(!0)}async function Cl(t){for(const e of t.q_)await e(!1)}function Rm(t,e){const n=Q(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Rw(n)?bw(n):xl(n).s_()&&Sw(n,e))}function il(t,e){const n=Q(t),r=xl(n);n.B_.delete(e),r.s_()&&nO(n,e),n.B_.size===0&&(r.s_()?r.a_():Ms(n)&&n.K_.set("Unknown"))}function Sw(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).V_(e)}function nO(t,e){t.U_.xe(e),xl(t).m_(e)}function bw(t){t.U_=new QW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.K_.F_()}function Rw(t){return Ms(t)&&!xl(t).i_()&&t.B_.size>0}function Ms(t){return Q(t).k_.size===0}function rO(t){t.U_=void 0}async function Yq(t){t.K_.set("Online")}async function Xq(t){t.B_.forEach((e,n)=>{Sw(t,e)})}async function Zq(t,e){rO(t),Rw(t)?(t.K_.O_(e),bw(t)):t.K_.set("Unknown")}async function e8(t,e,n){if(t.K_.set("Online"),e instanceof wx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof sf?t.U_.$e(e):e instanceof vx?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Z.min()))try{const r=await Gx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(u);d&&s.B_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),nO(s,l);const h=new li(d.target,l,u,d.sequenceNumber);Sw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!Vs(e))throw e;t.k_.add(1),await Cl(t),t.K_.set("Offline"),n||(n=()=>Gx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Sd(t)})}function iO(t,e){return e().catch(n=>hp(t,n,e))}async function kl(t){const e=Q(t),n=Ss(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;t8(e);)try{const i=await Uq(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,n8(e,i)}catch(i){await hp(e,i)}sO(e)&&oO(e)}function t8(t){return Ms(t)&&t.L_.length<10}function n8(t,e){t.L_.push(e);const n=Ss(t);n.s_()&&n.f_&&n.g_(e.mutations)}function sO(t){return Ms(t)&&!Ss(t).i_()&&t.L_.length>0}function oO(t){Ss(t).start()}async function r8(t){Ss(t).w_()}async function i8(t){const e=Ss(t);for(const n of t.L_)e.g_(n.mutations)}async function s8(t,e,n){const r=t.L_.shift(),i=cw.from(r,e,n);await iO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kl(t)}async function o8(t,e){e&&Ss(t).f_&&await async function(r,i){if(function(o){return gx(o)&&o!==F.ABORTED}(i.code)){const s=r.L_.shift();Ss(r).__(),await iO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kl(r)}}(t,e),sO(t)&&oO(t)}async function D1(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Ms(n);n.k_.add(3),await Cl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Sd(n)}async function q_(t,e){const n=Q(t);e?(n.k_.delete(2),await Sd(n)):e||(n.k_.add(2),await Cl(n),n.K_.set("Unknown"))}function xl(t){return t.W_||(t.W_=function(n,r,i){const s=Q(n);return s.b_(),new Hq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:Yq.bind(null,t),mo:Xq.bind(null,t),po:Zq.bind(null,t),R_:e8.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Rw(t)?bw(t):t.K_.set("Unknown")):(await t.W_.stop(),rO(t))})),t.W_}function Ss(t){return t.G_||(t.G_=function(n,r,i){const s=Q(n);return s.b_(),new Kq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:r8.bind(null,t),po:o8.bind(null,t),p_:i8.bind(null,t),y_:s8.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await kl(t)):(await t.G_.stop(),t.L_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Aw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ol(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Vs(t))return new $(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.z_=new Ne(G.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):J():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sl(e,n,Da.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class l8{constructor(){this.queries=L1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=L1(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new $(F.ABORTED,"Firestore shutting down"))}}function L1(){return new Pi(t=>nx(t),_d)}async function Pw(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new a8,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ol(o,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&kw(n)}async function Cw(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u8(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&kw(n)}function c8(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function kw(t){t.X_.forEach(e=>{e.next()})}var H_,M1;(M1=H_||(H_={})).na="default",M1.Cache="cache";class xw{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==H_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n){this.ca=e,this.byteLength=n}la(){return"metadata"in this.ca}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.serializer=e}As(e){return jr(this.serializer,e)}Rs(e){return e.metadata.exists?Rx(this.serializer,e.document,!1):Le.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return ct(e)}}class h8{constructor(e,n,r){this.ha=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aO(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++n;const r=fe.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Ta(e){const n=new Map,r=new F1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.As(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||oe()).add(s);n.set(o,a)}}return n}async complete(){const e=await jq(this.localStore,new F1(this.serializer),this.documents,this.ha.id),n=this.Ta(this.documents);for(const r of this.queries)await Bq(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function aO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.key=e}}class uO{constructor(e){this.key=e}}class cO{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=oe(),this.mutatedKeys=oe(),this.Va=ix(e),this.ma=new Da(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new V1,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=vd(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),T=!0):this.ya(f,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.Va(m,l)>0||u&&this.Va(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),T=!0):f&&!m&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(m,_){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(_)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,u=l!==this.Aa;return this.Aa=l,o.length!==0||u?{snapshot:new sl(this.query,e.ma,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new V1,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=oe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new uO(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new lO(r))}),n}va(e){this.da=e.ds,this.Ra=oe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return sl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class f8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p8{constructor(e){this.key=e,this.Fa=!1}}class m8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Pi(a=>nx(a),_d),this.Oa=new Map,this.Na=new Set,this.La=new Ne(G.comparator),this.Ba=new Map,this.ka=new yw,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function g8(t,e,n=!0){const r=Am(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await dO(r,e,n,!0),i}async function y8(t,e){const n=Am(t);await dO(n,e,!0,!1)}async function dO(t,e,n,r){const i=await nl(t.localStore,un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Ow(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Rm(t.remoteStore,i),a}async function Ow(t,e,n,r,i){t.Ua=(h,f,m)=>async function(w,T,E,v){let I=T.view.ga(E);I.ss&&(I=await up(w.localStore,T.query,!1).then(({documents:b})=>T.view.ga(b,I)));const k=v&&v.targetChanges.get(T.targetId),x=v&&v.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(I,w.isPrimaryClient,k,x);return K_(w,T.targetId,D.ba),D.snapshot}(t,h,f,m);const s=await up(t.localStore,e,!0),o=new cO(e,s.ds),a=o.ga(s.documents),l=Id.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);K_(t,n,u.ba);const d=new f8(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function _8(t,e,n){const r=Q(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!_d(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&il(r.remoteStore,i.targetId),ol(r,i.targetId)}).catch(Ds)):(ol(r,i.targetId),await rl(r.localStore,i.targetId,!0))}async function v8(t,e){const n=Q(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),il(n.remoteStore,r.targetId))}async function w8(t,e,n){const r=Lw(t);try{const i=await function(o,a){const l=Q(o),u=ze.now(),d=a.reduce((m,_)=>m.add(_.key),oe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=_n(),w=oe();return l.hs.getEntries(m,d).next(T=>{_=T,_.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(T=>{h=T;const E=[];for(const v of a){const I=HW(v,h.get(v.key).overlayedDocument);I!=null&&E.push(new Ci(v.key,I,Kk(I.value.mapValue),$e.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,a)}).next(T=>{f=T;const E=T.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,E)})}).then(()=>({batchId:f.batchId,changes:ox(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.qa[o.currentUser.toKey()];u||(u=new Ne(re)),u=u.insert(a,l),o.qa[o.currentUser.toKey()]=u}(r,i.batchId,n),await ki(r,i.changes),await kl(r.remoteStore)}catch(i){const s=Ol(i,"Failed to persist write");n.reject(s)}}async function hO(t,e){const n=Q(t);try{const r=await Fq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?X(o.Fa):i.removedDocuments.size>0&&(X(o.Fa),o.Fa=!1))}),await ki(n,r,e)}catch(r){await Ds(r)}}function U1(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.J_)f.ea(a)&&(u=!0)}),u&&kw(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E8(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,Le.newNoDocument(s,Z.min()));const a=oe().add(s),l=new Ed(Z.min(),new Map,new Ne(re),o,a);await hO(r,l),r.La=r.La.remove(s),r.Ba.delete(e),Vw(r)}else await rl(r.localStore,e,!1).then(()=>ol(r,e,n)).catch(Ds)}async function I8(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await Mq(n.localStore,e);Dw(n,r,null),Nw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ki(n,i)}catch(i){await Ds(i)}}async function T8(t,e,n){const r=Q(t);try{const i=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(X(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Dw(r,e,n),Nw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ki(r,i)}catch(i){await Ds(i)}}async function S8(t,e){const n=Q(t);Ms(n.remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Qa.get(r)||[];i.push(e),n.Qa.set(r,i)}catch(r){const i=Ol(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Nw(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Dw(t,e,n){const r=Q(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function ol(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||fO(t,r)})}function fO(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(il(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Vw(t))}function K_(t,e,n){for(const r of n)r instanceof lO?(t.ka.addReference(r.key,e),b8(t,r)):r instanceof uO?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||fO(t,r.key)):J()}function b8(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Na.add(r),Vw(t))}function Vw(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new G(fe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new p8(n)),t.La=t.La.insert(n,r),Rm(t.remoteStore,new li(un(Rl(n.path)),r,"TargetPurposeLimboResolution",gn.oe))}}async function ki(t,e,n){const r=Q(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Ew.zi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,u){const d=Q(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,f=>L.forEach(f.Wi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>L.forEach(f.Gi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Vs(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.us.get(f),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);d.us=d.us.insert(f,w)}}}(r.localStore,s))}async function R8(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await Kx(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new $(F.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ki(n,r.Ts)}}function A8(t,e){const n=Q(t),r=n.Ba.get(e);if(r&&r.Fa)return oe().add(r.key);{let i=oe();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}async function P8(t,e){const n=Q(t),r=await up(n.localStore,e.query,!0),i=e.view.va(r);return n.isPrimaryClient&&K_(n,e.targetId,i.ba),i}async function C8(t,e){const n=Q(t);return Yx(n.localStore,e).then(r=>ki(n,r))}async function k8(t,e,n,r){const i=Q(t),s=await function(a,l){const u=Q(a),d=Q(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.On(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await kl(i.remoteStore):n==="acknowledged"||n==="rejected"?(Dw(i,e,r||null),Nw(i,e),function(a,l){Q(Q(a).mutationQueue).Ln(l)}(i.localStore,e)):J(),await ki(i,s)):z("SyncEngine","Cannot apply mutation batch with id: "+e)}async function x8(t,e){const n=Q(t);if(Am(n),Lw(n),e===!0&&n.$a!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await j1(n,r.toArray());n.$a=!0,await q_(n.remoteStore,!0);for(const s of i)Rm(n.remoteStore,s)}else if(e===!1&&n.$a!==!1){const r=[];let i=Promise.resolve();n.Oa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ol(n,o),rl(n.localStore,o,!0))),il(n.remoteStore,o)}),await i,await j1(n,r),function(o){const a=Q(o);a.Ba.forEach((l,u)=>{il(a.remoteStore,u)}),a.ka.wr(),a.Ba=new Map,a.La=new Ne(G.comparator)}(n),n.$a=!1,await q_(n.remoteStore,!1)}}async function j1(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const l=r.Oa.get(o);if(l&&l.length!==0){a=await nl(r.localStore,un(l[0]));for(const u of l){const d=r.xa.get(u),h=await P8(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await Jx(r.localStore,o);a=await nl(r.localStore,u),await Ow(r,pO(u),o,!1,a.resumeToken)}i.push(a)}return r.Ma.R_(s),i}function pO(t){return tx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function O8(t){return function(n){return Q(Q(n).persistence).$i()}(Q(t).localStore)}async function N8(t,e,n,r){const i=Q(t);if(i.$a)return void z("SyncEngine","Ignoring unexpected query state notification.");const s=i.Oa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Yx(i.localStore,rx(s[0])),a=Ed.createSynthesizedRemoteEventForCurrentChange(e,n==="current",st.EMPTY_BYTE_STRING);await ki(i,o,a);break}case"rejected":await rl(i.localStore,e,!0),ol(i,e,r);break;default:J()}}async function D8(t,e,n){const r=Am(t);if(r.$a){for(const i of e){if(r.Oa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){z("SyncEngine","Adding an already active target "+i);continue}const s=await Jx(r.localStore,i),o=await nl(r.localStore,s);await Ow(r,pO(s),o.targetId,!1,o.resumeToken),Rm(r.remoteStore,o)}for(const i of n)r.Oa.has(i)&&await rl(r.localStore,i,!1).then(()=>{il(r.remoteStore,i),ol(r,i)}).catch(Ds)}}function Am(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E8.bind(null,e),e.Ma.R_=u8.bind(null,e.eventManager),e.Ma.Wa=c8.bind(null,e.eventManager),e}function Lw(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T8.bind(null,e),e}function V8(t,e,n){const r=Q(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(m,_){const w=Q(m),T=ct(_.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",E=>w.jr.getBundleMetadata(E,_.id)).then(E=>!!E&&E.createTime.compareTo(T)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(aO(l));const u=new h8(l,s.localStore,o.serializer);let d=await o.Ga();for(;d;){const f=await u.Pa(d);f&&a._updateProgress(f),d=await o.Ga()}const h=await u.complete();return await ki(s,h.Ea,void 0),await function(m,_){const w=Q(m);return w.persistence.runTransaction("Save bundle","readwrite",T=>w.jr.saveBundleMetadata(T,_))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Ia)}catch(l){return zr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Hx(this.persistence,new qx,e.initialUser,this.serializer)}ja(e){return new _w(bm.ei,this.serializer)}za(e){return new Zx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class L8 extends jc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){X(this.persistence.referenceDelegate instanceof lp);const r=this.persistence.referenceDelegate.garbageCollector;return new jx(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new _w(r=>lp.ei(r,n),this.serializer)}}class mO extends jc{constructor(e,n,r){super(),this.Za=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await Lw(this.Za.syncEngine),await kl(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return Hx(this.persistence,new qx,e.initialUser,this.serializer)}Ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new jx(r,e.asyncQueue,n)}Ya(e,n){const r=new nW(n,this.persistence);return new tW(e.asyncQueue,r)}ja(e){const n=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new vw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,eO(),of(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new Zx}}class M8 extends mO{constructor(e,n){super(e,n,!1),this.Za=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Za.syncEngine;this.sharedClientState instanceof iy&&(this.sharedClientState.syncEngine={io:k8.bind(null,n),so:N8.bind(null,n),oo:D8.bind(null,n),$i:O8.bind(null,n),ro:C8.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await x8(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const n=eO();if(!iy.p(n))throw new $(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R8.bind(null,this.syncEngine),await q_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l8}()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),r=function(s){return new qq(s)}(e.databaseInfo);return function(s,o,a,l){return new Gq(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Jq(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>U1(this.syncEngine,n,0),function(){return N1.p()?new N1:new $q}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new m8(i,s,o,a,l,u);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);z("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Cl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bc.provider={build:()=>new Bc};function B1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n){this.tu=e,this.serializer=n,this.metadata=new Mt,this.buffer=new Uint8Array,this.nu=function(){return new TextDecoder("utf-8")}(),this.ru().then(r=>{r&&r.la()?this.metadata.resolve(r.ca.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ca)}`))},r=>this.metadata.reject(r))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(e===null)return null;const n=this.nu.decode(e),r=Number(n);isNaN(r)&&this.su(`length string (${n}) is not valid number`);const i=await this.ou(r);return new d8(JSON.parse(i),e.length+r)}_u(){return this.buffer.findIndex(e=>e===123)}async iu(){for(;this._u()<0&&!await this.au(););if(this.buffer.length===0)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const n=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}su(e){throw this.tu.cancel(),new Error(`Invalid bundle format: ${e}`)}async au(){const e=await this.tu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>Fc(o.serializer,h))},l=await o.ko("BatchGetDocuments",o.serializer.databaseId,fe.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=tq(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());X(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new lw(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>Uc(s.serializer,a))};await s.Oo("Commit",s.serializer.databaseId,fe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw J();n=Z.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Z.min())?$e.exists(!1):$e.updateTime(n):$e.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Z.min()))throw new $(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $e.updateTime(n)}return $e.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.uu=r.maxAttempts,this.r_=new Tw(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new U8(this.datastore),n=this.hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Pu(i)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const n=this.updateFunction(e);return!gd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!gx(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=xk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ol(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oy(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Mw(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>D1(e.remoteStore,i)),t._onlineComponents=e}async function Mw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zr("Error using user provided cache. Falling back to memory cache: "+n),await oy(t,new jc)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await oy(t,new L8(void 0));return t._offlineComponents}async function Cm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await $1(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await $1(t,new Bc))),t._onlineComponents}function gO(t){return Mw(t).then(e=>e.persistence)}function Fw(t){return Mw(t).then(e=>e.localStore)}function yO(t){return Cm(t).then(e=>e.remoteStore)}function Uw(t){return Cm(t).then(e=>e.syncEngine)}function $8(t){return Cm(t).then(e=>e.datastore)}async function al(t){const e=await Cm(t),n=e.eventManager;return n.onListen=g8.bind(null,e.syncEngine),n.onUnlisten=_8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v8.bind(null,e.syncEngine),n}function z8(t){return t.asyncQueue.enqueue(async()=>{const e=await gO(t),n=await yO(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.k_.delete(0),Sd(s)}(n)})}function W8(t){return t.asyncQueue.enqueue(async()=>{const e=await gO(t),n=await yO(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.k_.add(0),await Cl(s),s.K_.set("Offline")}(n)})}function q8(t,e){const n=new Mt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Q(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Ol(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await Fw(t),e,n)),n.promise}function _O(t,e,n={}){const r=new Mt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Pm({next:f=>{d.eu(),o.enqueueAndForget(()=>Cw(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new $(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new xw(Rl(a.path),d,{includeMetadataChanges:!0,ua:!0});return Pw(s,h)}(await al(t),t.asyncQueue,e,n,r)),r.promise}function H8(t,e){const n=new Mt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await up(i,s,!0),l=new cO(s,a.ds),u=l.ga(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Ol(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await Fw(t),e,n)),n.promise}function vO(t,e,n={}){const r=new Mt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new Pm({next:f=>{d.eu(),o.enqueueAndForget(()=>Cw(s,h)),f.fromCache&&l.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new xw(a,d,{includeMetadataChanges:!0,ua:!0});return Pw(s,h)}(await al(t),t.asyncQueue,e,n,r)),r.promise}function K8(t,e){const n=new Pm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).X_.add(s),s.next()}(await al(t),n)),()=>{n.eu(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).X_.delete(s)}(await al(t),n))}}function G8(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?_x().encode(o):o,function(d,h){return new F8(d,h)}(function(d,h){if(d instanceof Uint8Array)return B1(d,h);if(d instanceof ArrayBuffer)return B1(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Td(e));t.asyncQueue.enqueueAndForget(async()=>{V8(await Uw(t),i,r)})}function Q8(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.jr.getNamedQuery(o,i))}(await Fw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e,n){if(!n)throw new $(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EO(t,e,n,r){if(e===!0&&r===!0)throw new $(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q1(t){if(G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new $(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function IO(t,e){if(e<=0)throw new $(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W6;switch(r.type){case"firstParty":return new G6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=z1.get(n);r&&(z("ComponentProvider","Removing Datastore"),z1.delete(n),r.terminate())}(this),Promise.resolve()}}function J8(t,e,n,r={}){var i;const s=(t=ve(t,bd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=At.MOCK_USER;else{a=X5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new At(u)}t._authCredentials=new q6(new kk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn=class TO{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new TO(this.firestore,e,this._query)}},Qe=class SO{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new SO(this.firestore,e,this._key)}},us=class bO extends cn{constructor(e,n,r){super(e,n,Rl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new G(e))}withConverter(e){return new bO(this.firestore,e,this._path)}};function RO(t,e,...n){if(t=ee(t),jw("collection","path",e),t instanceof bd){const r=fe.fromString(e,...n);return q1(r),new us(t,null,r)}{if(!(t instanceof Qe||t instanceof us))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return q1(r),new us(t.firestore,null,r)}}function Y8(t,e){if(t=ve(t,bd),jw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cn(t,null,function(r){return new Ai(fe.emptyPath(),r)}(e))}function fp(t,e,...n){if(t=ee(t),arguments.length===1&&(e=xk.newId()),jw("doc","path",e),t instanceof bd){const r=fe.fromString(e,...n);return W1(r),new Qe(t,null,new G(r))}{if(!(t instanceof Qe||t instanceof us))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return W1(r),new Qe(t.firestore,t instanceof us?t.converter:null,new G(r))}}function AO(t,e){return t=ee(t),e=ee(e),(t instanceof Qe||t instanceof us)&&(e instanceof Qe||e instanceof us)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function PO(t,e){return t=ee(t),e=ee(e),t instanceof cn&&e instanceof cn&&t.firestore===e.firestore&&_d(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Tw(this,"async_queue_retry"),this.fu=()=>{const r=of();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Mt;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Vs(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ut("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Aw.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&J()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function G_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class X8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=-1;let dt=class extends bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K1(e),this._firestoreClient=void 0,await e}}};function Xt(t){if(t._terminated)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CO(t),t._firestoreClient}function CO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new SW(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new B8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function eH(t,e){zr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return kO(t,Bc.provider,{build:r=>new mO(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function tH(t){zr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();kO(t,Bc.provider,{build:n=>new M8(n,e.cacheSizeBytes)})}function kO(t,e,n){if((t=ve(t,dt))._firestoreClient||t._terminated)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new $(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},CO(t)}function nH(t){if(t._initialized&&!t._terminated)throw new $(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ur.p())return Promise.resolve();const i=r+"main";await Ur.delete(i)}(ww(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function rH(t){return function(n){const r=new Mt;return n.asyncQueue.enqueueAndForget(async()=>S8(await Uw(n),r)),r.promise}(Xt(t=ve(t,dt)))}function iH(t){return z8(Xt(t=ve(t,dt)))}function sH(t){return W8(Xt(t=ve(t,dt)))}function oH(t,e){const n=Xt(t=ve(t,dt)),r=new X8;return G8(n,t._databaseId,e,r),r}function aH(t,e){return Q8(Xt(t=ve(t,dt)),e).then(n=>n?new cn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qr(st.fromBase64String(e))}catch(n){throw new $(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qr(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/^__.*__$/;class uH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Al(e,this.data,n,this.fieldTransforms)}}class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Om{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(OO(this.Mu)&&lH.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class cH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Td(e)}$u(e,n,r,i=!1){return new Om({Mu:e,methodName:n,Ku:r,path:Be.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fo(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new cH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nm(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);Gw("Data must be an object, but it was:",o,r);const a=VO(r,o);let l,u;if(s.merge)l=new yn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Q_(e,h,n);if(!o.contains(f))throw new $(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);MO(d,f)||d.push(f)}l=new yn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new uH(new Vt(a),l,u)}class Rd extends Mo{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}function NO(t,e,n){return new Om({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $w extends Mo{_toFieldTransform(e){return new wd(e.path,new Za)}isEqual(e){return e instanceof $w}}class zw extends Mo{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=NO(this,e,!0),r=this.Uu.map(s=>Uo(s,n)),i=new bo(r);return new wd(e.path,i)}isEqual(e){return e instanceof zw&&Wa(this.Uu,e.Uu)}}class Ww extends Mo{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=NO(this,e,!0),r=this.Uu.map(s=>Uo(s,n)),i=new Ro(r);return new wd(e.path,i)}isEqual(e){return e instanceof Ww&&Wa(this.Uu,e.Uu)}}class qw extends Mo{constructor(e,n){super(e),this.Wu=n}_toFieldTransform(e){const n=new el(e.serializer,ux(e.serializer,this.Wu));return new wd(e.path,n)}isEqual(e){return e instanceof qw&&this.Wu===e.Wu}}function Hw(t,e,n,r){const i=t.$u(1,e,n);Gw("Data must be an object, but it was:",i,r);const s=[],o=Vt.empty();Ls(r,(l,u)=>{const d=Qw(e,l,n);u=ee(u);const h=i.Bu(d);if(u instanceof Rd)s.push(d);else{const f=Uo(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new yn(s);return new xO(o,a,i.fieldTransforms)}function Kw(t,e,n,r,i,s){const o=t.$u(1,e,n),a=[Q_(e,r,n)],l=[i];if(s.length%2!=0)throw new $(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Q_(e,s[f])),l.push(s[f+1]);const u=[],d=Vt.empty();for(let f=a.length-1;f>=0;--f)if(!MO(u,a[f])){const m=a[f];let _=l[f];_=ee(_);const w=o.Bu(m);if(_ instanceof Rd)u.push(m);else{const T=Uo(_,w);T!=null&&(u.push(m),d.set(m,T))}}const h=new yn(u);return new xO(d,h,o.fieldTransforms)}function DO(t,e,n,r=!1){return Uo(n,t.$u(r?4:3,e))}function Uo(t,e){if(LO(t=ee(t)))return Gw("Unsupported field value:",e,t),VO(t,e);if(t instanceof Mo)return function(r,i){if(!OO(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Uo(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ux(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:tl(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tl(i.serializer,s)}}if(r instanceof xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qr)return{bytesValue:Ex(i.serializer,r._byteString)};if(r instanceof Qe){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return aw(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${km(r)}`)}(t,e)}function VO(t,e){const n={};return zk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{const s=Uo(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof xm||t instanceof qr||t instanceof Qe||t instanceof Mo||t instanceof Bw)}function Gw(t,e,n){if(!LO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=km(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Q_(t,e,n){if((e=ee(e))instanceof bs)return e._internalPath;if(typeof e=="string")return Qw(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const dH=new RegExp("[~\\*/\\[\\]]");function Qw(t,e,n){if(e.search(dH)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bs(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(F.INVALID_ARGUMENT,a+t+l)}function MO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hH extends $c{data(){return super.data()}}function Dm(t,e){return typeof e=="string"?Qw(t,e):e instanceof bs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jw{}class Ad extends Jw{}function Bi(t,e,...n){let r=[];e instanceof Jw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Yw).length,a=s.filter(l=>l instanceof Vm).length;if(o>1||o>0&&a>0)throw new $(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vm extends Ad{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vm(e,n,r)}_apply(e){const n=this._parse(e);return jO(e._query,n),new cn(e.firestore,e.converter,L_(e._query,n))}_parse(e){const n=Fo(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Q1(h,d);const m=[];for(const _ of h)m.push(G1(l,s,_));f={arrayValue:{values:m}}}else f=G1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Q1(h,d),f=DO(a,o,h,d==="in"||d==="not-in");return pe.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fH(t,e,n){const r=e,i=Dm("where",t);return Vm._create(i,r,n)}class Yw extends Jw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jO(o,l),o=L_(o,l)}(e._query,n),new cn(e.firestore,e.converter,L_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xw extends Ad{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(s,o)}(e._query,this._field,this._direction);return new cn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ai(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pH(t,e="asc"){const n=e,r=Dm("orderBy",t);return Xw._create(r,n)}class Lm extends Ad{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Lm(e,n,r)}_apply(e){return new cn(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function mH(t){return IO("limit",t),Lm._create("limit",t,"F")}function gH(t){return IO("limitToLast",t),Lm._create("limitToLast",t,"L")}class Mm extends Ad{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Mm(e,n,r)}_apply(e){const n=UO(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,s){return new Ai(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yH(...t){return Mm._create("startAt",t,!0)}function _H(...t){return Mm._create("startAfter",t,!1)}class Fm extends Ad{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=UO(e,this.type,this._docOrFields,this._inclusive);return new cn(e.firestore,e.converter,function(i,s){return new Ai(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function vH(...t){return Fm._create("endBefore",t,!1)}function wH(...t){return Fm._create("endAt",t,!0)}function UO(t,e,n,r){if(n[0]=ee(n[0]),n[0]instanceof $c)return function(s,o,a,l,u){if(!l)throw new $(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of Na(s))if(h.field.isKeyField())d.push(To(o,l.key));else{const f=l.data.field(h.field);if(_m(f))throw new $(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new $(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Ts(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fo(t.firestore);return function(o,a,l,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new $(F.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let _=0;_<d.length;_++){const w=d[_];if(f[_].field.isKeyField()){if(typeof w!="string")throw new $(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!sw(o)&&w.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const T=o.path.child(fe.fromString(w));if(!G.isDocumentKey(T))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const E=new G(T);m.push(To(a,E))}else{const T=DO(l,u,w);m.push(T)}}return new Ts(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function G1(t,e,n){if(typeof(n=ee(n))=="string"){if(n==="")throw new $(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(e)&&n.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!G.isDocumentKey(r))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return To(t,new G(r))}if(n instanceof Qe)return To(t,n._key);throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function Q1(t,e){if(!Array.isArray(t)||t.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zw{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ue(o.doubleValue));return new Bw(s)}convertGeoPoint(e){return new xm(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=wi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);X(Ox(r));const i=new ws(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EH extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ii=class extends $c{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ec=class extends Ii{data(e={}){return super.data(e)}},Rs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:IH(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function IH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function BO(t,e){return t instanceof Ii&&e instanceof Ii?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rs&&e instanceof Rs&&t._firestore===e._firestore&&PO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){t=ve(t,Qe);const e=ve(t.firestore,dt);return _O(Xt(e),t._key).then(n=>eE(e,t,n))}class jo extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function SH(t){t=ve(t,Qe);const e=ve(t.firestore,dt),n=Xt(e),r=new jo(e);return q8(n,t._key).then(i=>new Ii(e,r,t._key,i,new oo(i!==null&&i.hasLocalMutations,!0),t.converter))}function bH(t){t=ve(t,Qe);const e=ve(t.firestore,dt);return _O(Xt(e),t._key,{source:"server"}).then(n=>eE(e,t,n))}function RH(t){t=ve(t,cn);const e=ve(t.firestore,dt),n=Xt(e),r=new jo(e);return FO(t._query),vO(n,t._query).then(i=>new Rs(e,r,t,i))}function AH(t){t=ve(t,cn);const e=ve(t.firestore,dt),n=Xt(e),r=new jo(e);return H8(n,t._query).then(i=>new Rs(e,r,t,i))}function PH(t){t=ve(t,cn);const e=ve(t.firestore,dt),n=Xt(e),r=new jo(e);return vO(n,t._query,{source:"server"}).then(i=>new Rs(e,r,t,i))}function J1(t,e,n){t=ve(t,Qe);const r=ve(t.firestore,dt),i=Um(t.converter,e,n);return Pd(r,[Nm(Fo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$e.none())])}function Y1(t,e,n,...r){t=ve(t,Qe);const i=ve(t.firestore,dt),s=Fo(i);let o;return o=typeof(e=ee(e))=="string"||e instanceof bs?Kw(s,"updateDoc",t._key,e,n,r):Hw(s,"updateDoc",t._key,e),Pd(i,[o.toMutation(t._key,$e.exists(!0))])}function CH(t){return Pd(ve(t.firestore,dt),[new Pl(t._key,$e.none())])}function kH(t,e){const n=ve(t.firestore,dt),r=fp(t),i=Um(t.converter,e);return Pd(n,[Nm(Fo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function $O(t,...e){var n,r,i;t=ee(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||G_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(G_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Qe)u=ve(t.firestore,dt),d=Rl(t._key.path),l={next:h=>{e[o]&&e[o](eE(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ve(t,cn);u=ve(h.firestore,dt),d=h._query;const f=new jo(u);l={next:m=>{e[o]&&e[o](new Rs(u,f,h,m))},error:e[o+1],complete:e[o+2]},FO(t._query)}return function(f,m,_,w){const T=new Pm(w),E=new xw(m,T,_);return f.asyncQueue.enqueueAndForget(async()=>Pw(await al(f),E)),()=>{T.eu(),f.asyncQueue.enqueueAndForget(async()=>Cw(await al(f),E))}}(Xt(u),d,a,l)}function xH(t,e){return K8(Xt(t=ve(t,dt)),G_(e)?e:{next:e})}function Pd(t,e){return function(r,i){const s=new Mt;return r.asyncQueue.enqueueAndForget(async()=>w8(await Uw(r),i,s)),s.promise}(Xt(t),e)}function eE(t,e,n){const r=n.docs.get(e._key),i=new jo(t);return new Ii(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NH=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fo(e)}set(e,n,r){this._verifyNotCommitted();const i=Gi(e,this._firestore),s=Um(i.converter,n,r),o=Nm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$e.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Gi(e,this._firestore);let o;return o=typeof(n=ee(n))=="string"||n instanceof bs?Kw(this._dataReader,"WriteBatch.update",s._key,n,r,i):Hw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,$e.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gi(e,this._firestore);return this._mutations=this._mutations.concat(new Pl(n._key,$e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Gi(t,e){if((t=ee(t)).firestore!==e)throw new $(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DH=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Fo(n)}get(n){const r=Gi(n,this._firestore),i=new EH(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return J();const o=s[0];if(o.isFoundDocument())return new $c(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new $c(this._firestore,i,r._key,null,r.converter);throw J()})}set(n,r,i){const s=Gi(n,this._firestore),o=Um(s.converter,r,i),a=Nm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Gi(n,this._firestore);let a;return a=typeof(r=ee(r))=="string"||r instanceof bs?Kw(this._dataReader,"Transaction.update",o._key,r,i,s):Hw(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Gi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gi(e,this._firestore),r=new jo(this._firestore);return super.get(e).then(i=>new Ii(this._firestore,r,n._key,i._document,new oo(!1,!1),n.converter))}};function VH(t,e,n){t=ve(t,dt);const r=Object.assign(Object.assign({},OH),n);return function(s){if(s.maxAttempts<1)throw new $(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Mt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await $8(s);new j8(s.asyncQueue,u,a,o,l).cu()}),l.promise}(Xt(t),i=>e(new DH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(){return new Rd("deleteField")}function MH(){return new $w("serverTimestamp")}function FH(...t){return new zw("arrayUnion",t)}function UH(...t){return new Ww("arrayRemove",t)}function jH(t){return new qw("increment",t)}(function(e,n=!0){(function(i){bl=i})(Os),ys(new Br("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dt(new H6(r.getProvider("auth-internal")),new J6(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pr(BS,"4.7.5",e),pr(BS,"4.7.5","esm2017")})();const BH="@firebase/firestore-compat",$H="0.3.40";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function Z1(){if(!IW())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}let zO=class J_{constructor(e){this._delegate=e}static fromBase64String(e){return Z1(),new J_(qr.fromBase64String(e))}static fromUint8Array(e){return X1(),new J_(qr.fromUint8Array(e))}toBase64(){return Z1(),this._delegate.toBase64()}toUint8Array(){return X1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){return zH(t,["next","error","complete"])}function zH(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{enableIndexedDbPersistence(e,n){return eH(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return tH(e._delegate)}clearIndexedDbPersistence(e){return nH(e._delegate)}}class WO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ws||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){J8(this._delegate,e,n,r)}enableNetwork(){return iH(this._delegate)}disableNetwork(){return sH(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,EO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rH(this._delegate)}onSnapshotsInSync(e){return xH(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ll(this,RO(this._delegate,e))}catch(n){throw on(n,"collection()","Firestore.collection()")}}doc(e){try{return new Kn(this,fp(this._delegate,e))}catch(n){throw on(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sn(this,Y8(this._delegate,e))}catch(n){throw on(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return VH(this._delegate,n=>e(new qO(this,n)))}batch(){return Xt(this._delegate),new HO(new NH(this._delegate,e=>Pd(this._delegate,e)))}loadBundle(e){return oH(this._delegate,e)}namedQuery(e){return aH(this._delegate,e).then(n=>n?new sn(this,n):null)}}class jm extends Zw{constructor(e){super(),this.firestore=e}convertBytes(e){return new zO(new qr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Kn.forKey(n,this.firestore,null)}}function qH(t){$6(t)}class qO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new jm(e)}get(e){const n=ao(e);return this._delegate.get(n).then(r=>new zc(this._firestore,new Ii(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=ao(e);return r?(tE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=ao(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=ao(e);return this._delegate.delete(n),this}}class HO{constructor(e){this._delegate=e}set(e,n,r){const i=ao(e);return r?(tE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=ao(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=ao(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ko{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ec(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ko.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ko(e,new jm(e),n),i.set(n,s)),s}}ko.INSTANCES=new WeakMap;class Kn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kn(n,new Qe(n._delegate,r,new G(e)))}static forKey(e,n,r){return new Kn(n,new Qe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ll(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ll(this.firestore,RO(this._delegate,e))}catch(n){throw on(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ee(e),e instanceof Qe?AO(this._delegate,e):!1}set(e,n){n=tE("DocumentReference.set",n);try{return n?J1(this._delegate,e,n):J1(this._delegate,e)}catch(r){throw on(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Y1(this._delegate,e):Y1(this._delegate,e,n,...r)}catch(i){throw on(i,"updateDoc()","DocumentReference.update()")}}delete(){return CH(this._delegate)}onSnapshot(...e){const n=KO(e),r=GO(e,i=>new zc(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return $O(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=SH(this._delegate):(e==null?void 0:e.source)==="server"?n=bH(this._delegate):n=TH(this._delegate),n.then(r=>new zc(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kn(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function on(t,e,n){return t.message=t.message.replace(e,n),t}function KO(t){for(const e of t)if(typeof e=="object"&&!Y_(e))return e;return{}}function GO(t,e){var n,r;let i;return Y_(t[0])?i=t[0]:Y_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class zc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Kn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return BO(this._delegate,e._delegate)}}class Wc extends zc{data(e){const n=this._delegate.data(e);return this._delegate._converter||z6(n!==void 0),n}}class sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new jm(e)}where(e,n,r){try{return new sn(this.firestore,Bi(this._delegate,fH(e,n,r)))}catch(i){throw on(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new sn(this.firestore,Bi(this._delegate,pH(e,n)))}catch(r){throw on(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sn(this.firestore,Bi(this._delegate,mH(e)))}catch(n){throw on(n,"limit()","Query.limit()")}}limitToLast(e){try{return new sn(this.firestore,Bi(this._delegate,gH(e)))}catch(n){throw on(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sn(this.firestore,Bi(this._delegate,yH(...e)))}catch(n){throw on(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sn(this.firestore,Bi(this._delegate,_H(...e)))}catch(n){throw on(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sn(this.firestore,Bi(this._delegate,vH(...e)))}catch(n){throw on(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sn(this.firestore,Bi(this._delegate,wH(...e)))}catch(n){throw on(n,"endAt()","Query.endAt()")}}isEqual(e){return PO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=AH(this._delegate):(e==null?void 0:e.source)==="server"?n=PH(this._delegate):n=RH(this._delegate),n.then(r=>new X_(this.firestore,new Rs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=KO(e),r=GO(e,i=>new X_(this.firestore,new Rs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return $O(this._delegate,n,r)}withConverter(e){return new sn(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class HH{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class X_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new HH(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Wc(this._firestore,r))})}isEqual(e){return BO(this._delegate,e._delegate)}}class ll extends sn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kn(this.firestore,e):null}doc(e){try{return e===void 0?new Kn(this.firestore,fp(this._delegate)):new Kn(this.firestore,fp(this._delegate,e))}catch(n){throw on(n,"doc()","CollectionReference.doc()")}}add(e){return kH(this._delegate,e).then(n=>new Kn(this.firestore,n))}isEqual(e){return AO(this._delegate,e._delegate)}withConverter(e){return new ll(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ao(t){return ve(t,Qe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(...e){this._delegate=new bs(...e)}static documentId(){return new nE(Be.keyField().canonicalString())}isEqual(e){return e=ee(e),e instanceof bs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static serverTimestamp(){const e=MH();return e._methodName="FieldValue.serverTimestamp",new eo(e)}static delete(){const e=LH();return e._methodName="FieldValue.delete",new eo(e)}static arrayUnion(...e){const n=FH(...e);return n._methodName="FieldValue.arrayUnion",new eo(n)}static arrayRemove(...e){const n=UH(...e);return n._methodName="FieldValue.arrayRemove",new eo(n)}static increment(e){const n=jH(e);return n._methodName="FieldValue.increment",new eo(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH={Firestore:WO,GeoPoint:xm,Timestamp:ze,Blob:zO,Transaction:qO,WriteBatch:HO,DocumentReference:Kn,DocumentSnapshot:zc,Query:sn,QueryDocumentSnapshot:Wc,QuerySnapshot:X_,CollectionReference:ll,FieldPath:nE,FieldValue:eo,setLogLevel:qH,CACHE_SIZE_UNLIMITED:Z8};function GH(t,e){t.INTERNAL.registerComponent(new Br("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},KH)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t){GH(t,(e,n)=>new WO(e,n,new WH)),t.registerVersion(BH,$H)}QH(Vo);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=2e3;async function YH(t,e,n){var r;const{BuildInfo:i}=xo();gr(e.sessionId,"AuthEvent did not contain a session ID");const s=await n7(e.sessionId),o={};return dd()?o.ibi=i.packageName:cd()?o.apn=i.packageName:kt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,A_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function XH(t){const{BuildInfo:e}=xo(),n={};dd()?n.iosBundleId=e.packageName:cd()?n.androidPackageName=e.packageName:kt(t,"operation-not-supported-in-this-environment"),await Ek(t,n)}function ZH(t){const{cordova:e}=xo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Q3()?"_blank":"_system","location=yes"),n(i)})})}async function e7(t,e,n){const{cordova:r}=xo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Tt(t,"redirect-cancelled-by-user"))},JH))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),cd()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function t7(t){var e,n,r,i,s,o,a,l,u,d;const h=xo();W(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function n7(t){const e=r7(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function r7(t){if(gr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=20;class s7 extends vk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function o7(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:u7(),postBody:null,tenantId:t.tenantId,error:Tt(t,"no-auth-event")}}function a7(t,e){return Z_()._set(ev(t),e)}async function eb(t){const e=await Z_()._get(ev(t));return e&&await Z_()._remove(ev(t)),e}function l7(t,e){var n,r;const i=d7(e);if(i.includes("/__/auth/callback")){const s=af(i),o=s.firebaseError?c7(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Tt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function u7(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<i7;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Z_(){return On(hm)}function ev(t){return ho("authEvent",t.config.apiKey,t.name)}function c7(t){try{return JSON.parse(t)}catch{return null}}function d7(t){const e=af(t),n=e.link?decodeURIComponent(e.link):void 0,r=af(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return af(i).link||i||r||n||t}function af(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return wa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=500;class f7{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gm,this._overrideRedirectResult=X0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new s7(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){kt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){t7(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Y9(),await this._originValidation(e);const o=o7(e,r,i);await a7(e,o);const a=await YH(e,o,n),l=await ZH(a);return e7(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XH(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xo(),o=setTimeout(async()=>{await eb(e),n.onEvent(tb())},h7),a=async d=>{clearTimeout(o);const h=await eb(e);let f=null;h&&(d!=null&&d.url)&&(f=l7(h,d.url)),n.onEvent(f||tb())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;xo().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const p7=f7;function tb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t,e){Ze(t)._logFramework(e)}var g7="@firebase/auth-compat",y7="0.5.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=1e3;function tc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function v7(){return tc()==="http:"||tc()==="https:"}function QO(t=Xe()){return!!((tc()==="file:"||tc()==="ionic:"||tc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function w7(){return x0()||k0()}function E7(){return hC()&&(document==null?void 0:document.documentMode)===11}function I7(t=Xe()){return/Edge\/\d+/.test(t)}function T7(t=Xe()){return E7()||I7(t)}function JO(){try{const t=self.localStorage,e=pd();if(t)return t.setItem(e,"1"),t.removeItem(e),T7()?bc():!0}catch{return rE()&&bc()}return!1}function rE(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ay(){return(v7()||dC()||QO())&&!w7()&&JO()&&!rE()}function YO(){return QO()&&typeof document<"u"}async function S7(){return YO()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},_7);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function b7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},fu=W,XO="persistence";function R7(t,e){if(fu(Object.values(Pn).includes(e),t,"invalid-persistence-type"),x0()){fu(e!==Pn.SESSION,t,"unsupported-persistence-type");return}if(k0()){fu(e===Pn.NONE,t,"unsupported-persistence-type");return}if(rE()){fu(e===Pn.NONE||e===Pn.LOCAL&&bc(),t,"unsupported-persistence-type");return}fu(e===Pn.NONE||JO(),t,"unsupported-persistence-type")}async function tv(t){await t._initializationPromise;const e=ZO(),n=ho(XO,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function A7(t,e){const n=ZO();if(!n)return[];const r=ho(XO,t,e);switch(n.getItem(r)){case Pn.NONE:return[Ka];case Pn.LOCAL:return[Qa,_s];case Pn.SESSION:return[_s];default:return[]}}function ZO(){var t;try{return((t=b7())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=W;class Xi{constructor(){this.browserResolver=On(Ik),this.cordovaResolver=On(p7),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=gm,this._overrideRedirectResult=X0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return YO()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return P7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await S7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){return t.unwrap()}function C7(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t){return tN(t)}function x7(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new O7(t,h9(t,e))}else if(r){const i=tN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function tN(t){const{_tokenResponse:e}=t instanceof ln?t.customData:t;if(!e)return null;if(!(t instanceof ln)&&"temporaryProof"in e&&"phoneNumber"in e)return Io.credentialFromResult(t);const n=e.providerId;if(!n||n===ou.PASSWORD)return null;let r;switch(n){case ou.GOOGLE:r=Pr;break;case ou.FACEBOOK:r=Ar;break;case ou.GITHUB:r=Cr;break;case ou.TWITTER:r=kr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ga._create(n,a):$r._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new xa(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof ln?r.credentialFromError(t):r.credentialFromResult(t)}function fn(t,e){return e.catch(n=>{throw n instanceof ln&&x7(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:k7(n),additionalUserInfo:u9(n),user:ui.getOrCreate(i)}})}async function nv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>fn(t,n.confirm(r))}}class O7{constructor(e,n){this.resolver=n,this.auth=C7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fn(eN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._delegate=e,this.multiFactor=m9(e)}static getOrCreate(e){return ui.USER_MAP.has(e)||ui.USER_MAP.set(e,new ui(e)),ui.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fn(this.auth,nk(this._delegate,e))}async linkWithPhoneNumber(e,n){return nv(this.auth,F9(this._delegate,e,n))}async linkWithPopup(e){return fn(this.auth,K9(this._delegate,e,Xi))}async linkWithRedirect(e){return await tv(Ze(this.auth)),n6(this._delegate,e,Xi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fn(this.auth,rk(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return nv(this.auth,U9(this._delegate,e,n))}reauthenticateWithPopup(e){return fn(this.auth,H9(this._delegate,e,Xi))}async reauthenticateWithRedirect(e){return await tv(Ze(this.auth)),e6(this._delegate,e,Xi)}sendEmailVerification(e){return Xz(this._delegate,e)}async unlink(e){return await jz(this._delegate,e),this}updateEmail(e){return n9(this._delegate,e)}updatePassword(e){return r9(this._delegate,e)}updatePhoneNumber(e){return j9(this._delegate,e)}updateProfile(e){return t9(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Zz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ui.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=W;let rv=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;pu(r,"invalid-api-key",{appName:e.name}),pu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Xi:void 0;this._delegate=n.initialize({options:{persistence:N7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(k3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){GC(this._delegate,e,n)}applyActionCode(e){return qz(this._delegate,e)}checkActionCode(e){return ik(this._delegate,e)}confirmPasswordReset(e,n){return Wz(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return fn(this._delegate,sk(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Yz(this._delegate,e)}isSignInWithEmailLink(e){return Gz(this._delegate,e)}async getRedirectResult(){pu(ay(),this._delegate,"operation-not-supported-in-this-environment");const e=await i6(this._delegate,Xi);return e?fn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){m7(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=nb(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=nb(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Kz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return zz(this._delegate,e,n||void 0)}async setPersistence(e){R7(this._delegate,e);let n;switch(e){case Pn.SESSION:n=_s;break;case Pn.LOCAL:n=await On(Qa)._isAvailable()?Qa:hm;break;case Pn.NONE:n=Ka;break;default:return kt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fn(this._delegate,Uz(this._delegate))}signInWithCredential(e){return fn(this._delegate,cm(this._delegate,e))}signInWithCustomToken(e){return fn(this._delegate,$z(this._delegate,e))}signInWithEmailAndPassword(e,n){return fn(this._delegate,ok(this._delegate,e,n))}signInWithEmailLink(e,n){return fn(this._delegate,Qz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return nv(this._delegate,M9(this._delegate,e,n))}async signInWithPopup(e){return pu(ay(),this._delegate,"operation-not-supported-in-this-environment"),fn(this._delegate,q9(this._delegate,e,Xi))}async signInWithRedirect(e){return pu(ay(),this._delegate,"operation-not-supported-in-this-environment"),await tv(this._delegate),X9(this._delegate,e,Xi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Hz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};rv.Persistence=Pn;function nb(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ui.getOrCreate(o)),error:e,complete:n}}function N7(t,e){const n=A7(t,e);if(typeof self<"u"&&!n.includes(Qa)&&n.push(Qa),typeof window<"u")for(const r of[hm,_s])n.includes(r)||n.push(r);return n.includes(Ka)||n.push(Ka),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{static credential(e,n){return Io.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Io(eN(Vo.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}iE.PHONE_SIGN_IN_METHOD=Io.PHONE_SIGN_IN_METHOD;iE.PROVIDER_ID=Io.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=W;class V7{constructor(e,n,r=Vo.app()){var i;D7((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new V9(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="auth-compat";function M7(t){t.INTERNAL.registerComponent(new Br(L7,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new rv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yo.EMAIL_SIGNIN,PASSWORD_RESET:Yo.PASSWORD_RESET,RECOVER_EMAIL:Yo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Yo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Yo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Yo.VERIFY_EMAIL}},EmailAuthProvider:Ns,FacebookAuthProvider:Ar,GithubAuthProvider:Cr,GoogleAuthProvider:Pr,OAuthProvider:xa,SAMLAuthProvider:Yf,PhoneAuthProvider:iE,PhoneMultiFactorGenerator:Tk,RecaptchaVerifier:V7,TwitterAuthProvider:kr,Auth:rv,AuthCredential:Tl,Error:ln}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(g7,y7)}M7(Vo);const F7={apiKey:"AIzaSyB4PsOXsAtZYR1Jaof7Ro7GtaltISzjxDM",authDomain:"clone-group-4.firebaseapp.com",projectId:"clone-group-4",storageBucket:"clone-group-4.firebasestorage.app",messagingSenderId:"692315573962",appId:"1:692315573962:web:288e7d0db1348556ac6e33"},U7=Vo.initializeApp(F7),mp=j6(U7),nN=Vo.firestore();function j7(){var i;const[{user:t,basket:e},n]=V.useContext(Si),r=e.reduce((s,o)=>o.amount+s,0);return O.jsxs("section",{className:Zr.fixed,children:[O.jsxs("section",{className:Zr.header_container,children:[O.jsxs("div",{className:Zr.logo_container,children:[O.jsx(dr,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),O.jsxs("div",{className:Zr.delivery,children:[O.jsx("span",{children:O.jsx(F5,{})}),O.jsxs("div",{children:[O.jsx("p",{children:"Delivered to"}),O.jsx("span",{children:"Ethiopia"})]})]})]}),O.jsxs("div",{className:Zr.search,children:[O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:"All"})}),O.jsx("input",{type:"text",placeholder:"search product"}),O.jsx(U5,{size:38})]}),O.jsx("div",{children:O.jsxs("div",{className:Zr.order_container,children:[O.jsxs(dr,{to:"",className:Zr.language,children:[O.jsx("img",{src:"https://icons.iconarchive.com/icons/wikipedia/flags/256/US-United-States-Flag-icon.png",alt:""}),O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:"EN"})})]}),O.jsx(dr,{to:!t&&"/auth",children:O.jsx("div",{children:t?O.jsxs(O.Fragment,{children:[O.jsxs("p",{children:["Hello,",(i=t.email)==null?void 0:i.split("@")[0]]}),O.jsx("span",{onClick:()=>mp.signOut(),children:"Sign Out"})]}):O.jsxs(O.Fragment,{children:[O.jsx("p",{children:"Sign In"}),O.jsx("span",{children:"Account & Lists"})]})})}),O.jsxs(dr,{to:"/orders",children:[O.jsx("p",{children:"return"}),O.jsx("span",{children:"& orders"})]}),O.jsxs(dr,{to:"/cart",className:Zr.cart,children:[O.jsx(j5,{size:35}),O.jsx("span",{children:r})]})]})})]}),O.jsx($5,{})]})}function Nl({children:t}){return O.jsxs(O.Fragment,{children:[O.jsx(j7,{}),t]})}function B7(){return O.jsx(O.Fragment,{children:O.jsxs(Nl,{children:[O.jsx(_L,{}),O.jsx(nF,{}),O.jsx(E5,{})]})})}const $7="_login_1buec_1",z7="_login_container_1buec_23",W7="_login_signInButton_1buec_91",q7="_login_registerButton_1buec_123",Sh={login:$7,login_container:z7,login_signInButton:W7,login_registerButton:q7};function H7(){var m,_;const[{user:t},e]=V.useContext(Si),[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState(""),l=Mp(),u=xs(),[d,h]=V.useState({signin:!1,signup:!1}),f=async w=>{w.preventDefault(),w.target.name=="signin"?(h({...d,signin:!0}),ok(mp,n,i).then(T=>{var E;e({type:Hn.SET_USER,user:T.user}),h({...d,signin:!1}),l(((E=u==null?void 0:u.state)==null?void 0:E.redirect)||"/")}).catch(T=>{a(T.message),h({...d,signin:!1})})):(h({...d,signup:!0}),sk(mp,n,i).then(T=>{var E;e({type:Hn.SET_USER,user:T.user}),h({...d,signup:!1}),l(((E=u==null?void 0:u.state)==null?void 0:E.redirect)||"/")}).catch(T=>{a(T.message),h({...d,signup:!1})}))};return O.jsxs("section",{className:Sh.login,children:[O.jsx(dr,{to:"/",children:O.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:""})}),O.jsxs("div",{className:Sh.login_container,children:[O.jsx("h1",{children:"Sign-in"}),((m=u==null?void 0:u.state)==null?void 0:m.message)&&O.jsx("small",{style:{color:"red",padding:"5px",fontWeight:"bold",textAlign:"center"},children:(_=u==null?void 0:u.state)==null?void 0:_.message}),O.jsxs("form",{action:"",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{value:n,onChange:w=>r(w.target.value),type:"email",id:"email"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{value:i,onChange:w=>s(w.target.value),type:"password",id:"password"})]}),O.jsx("button",{onClick:f,name:"signin",type:"submit",className:Sh.login_signInButton,children:d.signin?O.jsx(E_,{size:15}):"Sign In"})]}),O.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),O.jsx("button",{onClick:f,name:"signup",type:"submit",className:Sh.login_registerButton,children:d.signup?O.jsx(E_,{size:15}):"Create your Amazon Account"}),o&&O.jsx("small",{style:{paddingTop:"5px",color:"red"},children:o})]})]})}const K7="_payment_header_lsc8i_1",G7="_payment_lsc8i_1",Q7="_flex_lsc8i_21",J7="_payment_card_container_lsc8i_49",Y7="_payment_price_lsc8i_57",X7="_loading_lsc8i_89",Xr={payment_header:K7,payment:G7,flex:Q7,payment_card_container:J7,payment_price:Y7,loading:X7};function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach(function(r){rN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lf=function(e){return typeof e}:lf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function rN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iN(t,e){return Z7(t)||eK(t,e)||tK(t,e)||nK()}function Z7(t){if(Array.isArray(t))return t}function eK(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function tK(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rn=function(e,n,r){var i=!!r,s=me.useRef(r);me.useEffect(function(){s.current=r},[r]),me.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},iv=function(e){var n=me.useRef(e);return me.useEffect(function(){n.current=e},[e]),n.current},ul=function(e){return e!==null&&lf(e)==="object"},rK=function(e){return ul(e)&&typeof e.then=="function"},iK=function(e){return ul(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ob="[object Object]",sK=function t(e,n){if(!ul(e)||!ul(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===ob,o=Object.prototype.toString.call(n)===ob;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var m=e,_=n,w=function(E){return t(m[E],_[E])};return f.every(w)},sN=function(e,n,r){return ul(e)?Object.keys(e).reduce(function(i,s){var o=!ul(n)||!sK(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?ib(ib({},i||{}),{},rN({},s,e[s])):i},null):null},oN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ab=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oN;if(e===null||iK(e))return e;throw new Error(n)},oK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oN;if(rK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ab(i,n)})};var r=ab(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},aK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},Bm=me.createContext(null);Bm.displayName="ElementsContext";var aN=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},lN=function(e){var n=e.stripe,r=e.options,i=e.children,s=me.useMemo(function(){return oK(n)},[n]),o=me.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=iN(o,2),l=a[0],u=a[1];me.useEffect(function(){var f=!0,m=function(w){u(function(T){return T.stripe?T:{stripe:w,elements:w.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(_){_&&f&&m(_)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){f=!1}},[s,l,r]);var d=iv(n);me.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=iv(r);return me.useEffect(function(){if(l.elements){var f=sN(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),me.useEffect(function(){aK(l.stripe)},[l.stripe]),me.createElement(Bm.Provider,{value:l},i)};lN.propTypes={stripe:qe.any,options:qe.object};var lK=function(e){var n=me.useContext(Bm);return aN(n,e)},uK=function(){var e=lK("calls useElements()"),n=e.elements;return n};qe.func.isRequired;var uN=me.createContext(null);uN.displayName="CheckoutSdkContext";var cK=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},dK=me.createContext(null);dK.displayName="CheckoutContext";qe.any,qe.shape({clientSecret:qe.string.isRequired,elementsOptions:qe.object}).isRequired;var sv=function(e){var n=me.useContext(uN),r=me.useContext(Bm);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?cK(n,e):aN(r,e)},hK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_t=function(e,n){var r="".concat(hK(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,m=l.onBlur,_=l.onFocus,w=l.onReady,T=l.onChange,E=l.onEscape,v=l.onClick,I=l.onLoadError,k=l.onLoaderStart,x=l.onNetworksChange,D=l.onConfirm,b=l.onCancel,S=l.onShippingAddressChange,A=l.onShippingRateChange,g=sv("mounts <".concat(r,">")),P="elements"in g?g.elements:null,N="checkoutSdk"in g?g.checkoutSdk:null,C=me.useState(null),ie=iN(C,2),le=ie[0],wt=ie[1],Ie=me.useRef(null),K=me.useRef(null);Rn(le,"blur",m),Rn(le,"focus",_),Rn(le,"escape",E),Rn(le,"click",v),Rn(le,"loaderror",I),Rn(le,"loaderstart",k),Rn(le,"networkschange",x),Rn(le,"confirm",D),Rn(le,"cancel",b),Rn(le,"shippingaddresschange",S),Rn(le,"shippingratechange",A),Rn(le,"change",T);var te;w&&(e==="expressCheckout"?te=w:te=function(){w(le)}),Rn(le,"ready",te),me.useLayoutEffect(function(){if(Ie.current===null&&K.current!==null&&(P||N)){var ce=null;N?ce=N.createElement(e,f):P&&(ce=P.create(e,f)),Ie.current=ce,wt(ce),ce&&ce.mount(K.current)}},[P,N,f]);var ne=iv(f);return me.useEffect(function(){if(Ie.current){var ce=sN(f,ne,["paymentRequest"]);ce&&"update"in Ie.current&&Ie.current.update(ce)}},[f,ne]),me.useLayoutEffect(function(){return function(){if(Ie.current&&typeof Ie.current.destroy=="function")try{Ie.current.destroy(),Ie.current=null}catch{}}},[]),me.createElement("div",{id:u,className:d,ref:K})},s=function(l){sv("mounts <".concat(r,">"));var u=l.id,d=l.className;return me.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:qe.string,className:qe.string,onChange:qe.func,onBlur:qe.func,onFocus:qe.func,onReady:qe.func,onEscape:qe.func,onClick:qe.func,onLoadError:qe.func,onLoaderStart:qe.func,onNetworksChange:qe.func,onConfirm:qe.func,onCancel:qe.func,onShippingAddressChange:qe.func,onShippingRateChange:qe.func,options:qe.object},o.displayName=r,o.__elementType=e,o},vt=typeof window>"u",fK=me.createContext(null);fK.displayName="EmbeddedCheckoutProviderContext";var pK=function(){var e=sv("calls useStripe()"),n=e.stripe;return n};_t("auBankAccount",vt);var lb=_t("card",vt);_t("cardNumber",vt);_t("cardExpiry",vt);_t("cardCvc",vt);_t("fpxBank",vt);_t("iban",vt);_t("idealBank",vt);_t("p24Bank",vt);_t("epsBank",vt);_t("payment",vt);_t("expressCheckout",vt);_t("currencySelector",vt);_t("paymentRequestButton",vt);_t("linkAuthentication",vt);_t("address",vt);_t("shippingAddress",vt);_t("paymentMethodMessaging",vt);_t("affirmMessage",vt);_t("afterpayClearpayMessage",vt);const mK=Ye.create({baseURL:"https://amazon-api-deploy-group-4.onrender.com"});function gK(){const[{user:t,basket:e},n]=V.useContext(Si),[r,i]=V.useState(!1),[s,o]=V.useState(""),a=e.reduce((_,w)=>w.amount+_,0),l=e.reduce((_,w)=>w.price*w.amount+_,0),u=pK(),d=uK(),h=Mp(),f=_=>{var w;(w=_==null?void 0:_.error)!=null&&w.message?o(_.error.message):o("")},m=async _=>{var w;_.preventDefault();try{i(!0);const E=(w=(await mK({method:"POST",url:`/payment/create?total=${l*100}`})).data)==null?void 0:w.clientSecret,{paymentIntent:v}=await u.confirmCardPayment(E,{payment_method:{card:d.getElement(lb)}});console.log(v),await nN.collection("user").doc(t.uid).collection("orders").doc(v.id).set({basket:e,amount:v.amount,created:v.created}),i(!1),n({type:Hn.EMPTY_BASKET}),h("/orders")}catch(T){console.log(T),i(!1)}};return O.jsxs(Nl,{children:[O.jsxs("div",{className:Xr.payment_header,children:["Checkout (",a,") items"]}),O.jsxs("section",{className:Xr.payment,children:[O.jsxs("div",{className:Xr.flex,children:[O.jsx("h3",{children:"Delivery Address"}),O.jsxs("div",{children:[O.jsx("div",{children:t==null?void 0:t.email}),O.jsx("div",{children:"123 Addis road 23"}),O.jsx("div",{children:"4 kilo , AAU"})]})]}),O.jsx("hr",{}),O.jsxs("div",{className:Xr.flex,children:[O.jsx("h3",{children:"Review items and delivery"}),O.jsx("div",{children:e==null?void 0:e.map((_,w)=>O.jsx(vl,{product:_,flex:!0},w))})]}),O.jsx("hr",{}),O.jsxs("div",{className:Xr.flex,children:[O.jsx("h3",{children:"Payment method"}),O.jsx("div",{className:Xr.payment_card_container,children:O.jsx("div",{className:Xr.payment_detail,children:O.jsxs("form",{onSubmit:m,children:[s&&O.jsx("small",{style:{color:"red"},children:s}),O.jsx(lb,{onChange:f}),O.jsxs("div",{className:Xr.payment_price,children:[O.jsx("div",{children:O.jsxs("span",{children:["Total Order | ",O.jsx(P0,{amount:l})]})}),O.jsx("button",{type:"submit",children:r?O.jsxs("div",{className:Xr.loading,children:[O.jsx(E_,{size:12,color:"gray"}),O.jsx("p",{children:"Please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const yK="_container_1uvs2_1",_K="_orders_Container_1uvs2_9",ub={container:yK,orders_Container:_K};function vK(){const[{user:t},e]=V.useContext(Si),[n,r]=V.useState([]);return V.useEffect(()=>{t?nN.collection("user").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),O.jsx(Nl,{children:O.jsx("section",{className:ub.container,children:O.jsxs("div",{className:ub.orders_Container,children:[O.jsx("h2",{children:"Your Orders"}),(n==null?void 0:n.length)==0&&O.jsx("div",{style:{padding:"20px"},children:"you don't have orders yet."}),O.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o,a;return O.jsxs("div",{children:[O.jsx("hr",{}),O.jsxs("p",{children:["Order ID: ",i.id]}),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(l=>O.jsx(vl,{product:l,flex:!0},l.id))]},s)})})]})})})}const wK="_container_q9dqi_1",EK="_cart_container_q9dqi_21",IK="_subtotal_q9dqi_27",TK="_cart_product_q9dqi_45",SK="_btn_container_q9dqi_53",mu={container:wK,cart_container:EK,subtotal:IK,cart_product:TK,btn_container:SK};function bK(t){return wl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function RK(t){return wl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function AK(){const[{basket:t},e]=V.useContext(Si),n=t.reduce((s,o)=>o.price*o.amount+s,0),r=s=>{e({type:Hn.ADD_TO_BASKET,item:s})},i=s=>{e({type:Hn.REMOVE_FROM_BASKET,id:s})};return O.jsx(Nl,{children:O.jsxs("section",{className:mu.container,children:[O.jsxs("div",{className:mu.cart_container,children:[O.jsx("h2",{children:"Hello"}),O.jsx("h3",{children:"Your shopping basket"}),O.jsx("hr",{}),(t==null?void 0:t.length)==0?O.jsx("p",{children:"Opps ! NO item in your cart"}):t==null?void 0:t.map((s,o)=>O.jsxs("section",{className:mu.cart_product,children:[O.jsx(vl,{product:s,renderDescription:!0,flex:!0,renderAdd:!1},o),O.jsxs("div",{className:mu.btn_container,children:[O.jsx("button",{onClick:()=>r(s),children:O.jsx(RK,{size:20})}),O.jsx("span",{children:s.amount}),O.jsx("button",{onClick:()=>i(s.id),children:O.jsx(bK,{size:20})})]})]}))]}),O.jsx("div",{children:(t==null?void 0:t.length)!==0&&O.jsxs("div",{className:mu.subtotal,children:[O.jsxs("div",{children:[O.jsxs("p",{children:["Subtotal (",t==null?void 0:t.length," items)"]}),O.jsx(P0,{amount:n})]}),O.jsxs("span",{children:[O.jsx("input",{type:"checkbox",name:"",id:""}),O.jsx("small",{children:"This order contains a gift"})]}),O.jsx(dr,{to:"/payment",children:"Continue to checkout"})]})})]})})}const PK="_products_container_cnh1h_1",CK={products_container:PK},cN="https://fakestoreapi.com";function kK(){const[t,e]=V.useState([]),[n,r]=V.useState(!1),{categoryName:i}=qA();return V.useEffect(()=>{r(!0),Ye.get(`${cN}/products/category/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),O.jsx(Nl,{children:n?O.jsx(C0,{}):O.jsxs("section",{children:[O.jsx("h1",{style:{padding:"30px"},children:"Results"}),O.jsxs("p",{style:{padding:"30px"},children:["Category/",i]}),O.jsx("div",{className:CK.products_container,children:t==null?void 0:t.map(s=>O.jsx(vl,{product:s,renderAdd:!0},s.id))})]})})}function xK(){const[t,e]=V.useState({}),[n,r]=V.useState(!1),{productId:i}=qA();return V.useEffect(()=>{r(!0),Ye.get(`${cN}/products/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),O.jsx(Nl,{children:n?O.jsx(C0,{}):O.jsx(vl,{product:t,flex:!0,renderDescription:!0,renderAdd:!0})})}var dN="https://js.stripe.com/v3",OK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cb="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",NK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(dN,'"]')),n=0;n<e.length;n++){var r=e[n];if(OK.test(r.src))return r}return null},db=function(e){var n="",r=document.createElement("script");r.src="".concat(dN).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},DK=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:n})},gu=null,bh=null,Rh=null,VK=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},LK=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},MK=function(e){return gu!==null?gu:(gu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(cb),window.Stripe){n(window.Stripe);return}try{var i=NK();if(i&&e)console.warn(cb);else if(!i)i=db(e);else if(i&&Rh!==null&&bh!==null){var s;i.removeEventListener("load",Rh),i.removeEventListener("error",bh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=db(e)}Rh=LK(n,r),bh=VK(r),i.addEventListener("load",Rh),i.addEventListener("error",bh)}catch(o){r(o);return}}),gu.catch(function(n){return gu=null,Promise.reject(n)}))},FK=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return DK(i,r),i},yu,hN=!1,fN=function(){return yu||(yu=MK(null).catch(function(e){return yu=null,Promise.reject(e)}),yu)};Promise.resolve().then(function(){return fN()}).catch(function(t){hN||console.warn(t)});var UK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];hN=!0;var i=Date.now();return fN().then(function(s){return FK(s,n,i)})};function hb({children:t,message:e,redirect:n}){const[{user:r},i]=V.useContext(Si),s=Mp();return V.useEffect(()=>{r||s("/auth",{state:{message:e,redirect:n}})},[r]),t}const jK=UK("pk_test_51QQbwmCRwQa3zJtnU0m1siRFLOVsyejvXMF85lPg1RanlErJ9BG3MsNS0FOYNdqfQ4DdO3INhWRq387PTmLcjtvX00ScgVpqRO");function BK(){return O.jsx(qM,{children:O.jsxs(EM,{children:[O.jsx($i,{path:"/",element:O.jsx(B7,{})}),O.jsx($i,{path:"/auth",element:O.jsx(H7,{})}),O.jsx($i,{path:"/payment",element:O.jsx(hb,{message:"you have to sign in to pay",redirect:"/payment",children:O.jsx(lN,{stripe:jK,children:O.jsx(gK,{})})})}),O.jsx($i,{path:"/orders",element:O.jsx(hb,{message:"you have sign in to see your orders",redirect:"/orders",children:O.jsx(vK,{})})}),O.jsx($i,{path:"/cart",element:O.jsx(AK,{})}),O.jsx($i,{path:"/category/:categoryName",element:O.jsx(kK,{})}),O.jsx($i,{path:"/products/:productId",element:O.jsx(xK,{})})]})})}function $K(){const[{user:t},e]=V.useContext(Si);return V.useEffect(()=>{mp.onAuthStateChanged(n=>{e(n?{type:Hn.SET_USER,user:n}:{type:Hn.SET_USER,user:null})})},[]),O.jsx(O.Fragment,{children:O.jsx(BK,{})})}const zK={basket:[],user:null},WK=(t,e)=>{switch(e.type){case Hn.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case Hn.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id==e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case Hn.SET_USER:return{...t,user:e.user};case Hn.EMPTY_BASKET:return{...t,basket:[]};default:return t}};bA(document.getElementById("root")).render(O.jsx(V.StrictMode,{children:O.jsx(f5,{reducer:WK,initialState:zK,children:O.jsx($K,{})})}));
